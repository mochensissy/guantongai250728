"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/learn/[sessionId]",{

/***/ "./pages/learn/[sessionId].tsx":
/*!*************************************!*\
  !*** ./pages/learn/[sessionId].tsx ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,BookOpen,MessageCircle,User,Zap!=!lucide-react */ \"__barrel_optimize__?names=ArrowLeft,BookOpen,MessageCircle,User,Zap!=!./node_modules/lucide-react/dist/esm/lucide-react.js\");\n/* harmony import */ var _src_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../src/components/ui/Button */ \"./src/components/ui/Button.tsx\");\n/* harmony import */ var _src_components_OutlineEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../src/components/OutlineEditor */ \"./src/components/OutlineEditor.tsx\");\n/* harmony import */ var _src_components_ChatInterface__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../src/components/ChatInterface */ \"./src/components/ChatInterface.tsx\");\n/* harmony import */ var _src_components_CardManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../src/components/CardManager */ \"./src/components/CardManager.tsx\");\n/* harmony import */ var _src_utils_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../src/utils/storage */ \"./src/utils/storage.ts\");\n/* harmony import */ var _src_utils_aiService__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../src/utils/aiService */ \"./src/utils/aiService.ts\");\n/**\n * 学习会话页面\n * \n * 提供双栏布局的学习界面：\n * - 左侧：学习大纲导航\n * - 右侧：AI私教对话界面\n * - 大纲与对话的双向同步\n * - 学习进度跟踪\n */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nconst LearnPage = ()=>{\n    var _session_outline_find, _session_outline_find1, _session_outline_find2, _session_outline_find3;\n    _s();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const { sessionId } = router.query;\n    // 状态管理\n    const [session, setSession] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [apiConfig, setApiConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isSendingMessage, setIsSendingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cardManagerKey, setCardManagerKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    /**\n   * 初始化会话数据\n   */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!sessionId || typeof sessionId !== \"string\") return;\n        const loadSession = ()=>{\n            try {\n                const loadedSession = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.getSessionById)(sessionId);\n                const loadedConfig = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.getAPIConfig)();\n                if (!loadedSession) {\n                    alert(\"学习会话不存在\");\n                    router.push(\"/\");\n                    return;\n                }\n                if (!loadedConfig) {\n                    alert(\"API配置丢失，请重新配置\");\n                    router.push(\"/\");\n                    return;\n                }\n                setSession(loadedSession);\n                setApiConfig(loadedConfig);\n                // 如果是新会话且没有消息，发送初始消息\n                if (loadedSession.messages.length === 0) {\n                    initializeChat(loadedSession, loadedConfig);\n                }\n            } catch (error) {\n                console.error(\"加载会话失败:\", error);\n                alert(\"加载会话失败\");\n                router.push(\"/\");\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        loadSession();\n    }, [\n        sessionId,\n        router\n    ]);\n    /**\n   * 生成消息ID\n   */ const generateMessageId = ()=>{\n        return \"msg-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n    };\n    /**\n   * 生成卡片ID\n   */ const generateCardId = ()=>{\n        return \"card-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n    };\n    /**\n   * 初始化聊天\n   */ const initializeChat = async (sessionData, config)=>{\n        // 找到第一个小节作为初始学习目标\n        const firstSection = sessionData.outline.find((item)=>item.type === \"section\");\n        // 创建系统初始化消息\n        const systemMessage = {\n            id: generateMessageId(),\n            role: \"system\",\n            content: \"学习会话已开始。文档标题：\".concat(sessionData.title, \"，学习水平：\").concat(sessionData.learningLevel === \"beginner\" ? \"小白\" : \"高手\", \"模式。\"),\n            timestamp: Date.now()\n        };\n        const welcomeMessage = {\n            id: generateMessageId(),\n            role: \"assistant\",\n            content: \"你好！我将作为你的私人导师，帮助你更好的理解你上传的材料《\".concat(sessionData.title, \"》。为了给您提供最合适的教学体验，我将根据你之前选择的\").concat(sessionData.learningLevel === \"beginner\" ? \"小白\" : \"高手\", \"模式来跟你互动。\\n\\n看完左边这个课程大纲了吗？我们是按照这个顺序从第一章开始，还是您想先跳到某个您特别感兴趣的章节？\"),\n            timestamp: Date.now()\n        };\n        const initialMessages = [\n            systemMessage,\n            welcomeMessage\n        ];\n        // 更新会话\n        const updatedSession = {\n            ...sessionData,\n            messages: initialMessages,\n            currentChapter: firstSection === null || firstSection === void 0 ? void 0 : firstSection.id\n        };\n        setSession(updatedSession);\n        // 保存会话和当前章节\n        (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.saveSession)(updatedSession);\n    };\n    /**\n   * 查找下一个小节\n   * 跳过章节标题，只返回小节类型的项目\n   */ const findNextSection = (outline, currentIndex)=>{\n        for(let i = currentIndex + 1; i < outline.length; i++){\n            console.log(\"检查索引 \".concat(i, \": \").concat(outline[i].title, \" (\").concat(outline[i].type, \")\"));\n            if (outline[i].type === \"section\") {\n                return outline[i];\n            }\n        }\n        return null;\n    };\n    /**\n   * 发送消息给AI\n   */ const handleSendMessage = async (content)=>{\n        if (!session || !apiConfig || isSendingMessage) return;\n        setIsSendingMessage(true);\n        try {\n            // 创建用户消息\n            const userMessage = {\n                id: generateMessageId(),\n                role: \"user\",\n                content,\n                timestamp: Date.now()\n            };\n            // 更新消息列表\n            const updatedMessages = [\n                ...session.messages,\n                userMessage\n            ];\n            setSession((prev)=>prev ? {\n                    ...prev,\n                    messages: updatedMessages\n                } : null);\n            // 发送给AI\n            const response = await (0,_src_utils_aiService__WEBPACK_IMPORTED_MODULE_8__.sendChatMessage)(apiConfig, updatedMessages, session.documentContent, session.outline, session.learningLevel);\n            if (response.success && response.data) {\n                // 创建AI回复消息\n                const assistantMessage = {\n                    id: generateMessageId(),\n                    role: \"assistant\",\n                    content: response.data,\n                    timestamp: Date.now()\n                };\n                const finalMessages = [\n                    ...updatedMessages,\n                    assistantMessage\n                ];\n                // 更新本地状态\n                setSession((prev)=>prev ? {\n                        ...prev,\n                        messages: finalMessages\n                    } : null);\n                // 保存到存储\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionMessages)(session.id, finalMessages);\n                // 检查是否需要更新当前章节\n                await checkAndUpdateCurrentChapter(response.data, session);\n            } else {\n                throw new Error(response.error || \"AI响应失败\");\n            }\n        } catch (error) {\n            console.error(\"发送消息失败:\", error);\n            // 创建错误消息\n            const errorMessage = {\n                id: generateMessageId(),\n                role: \"system\",\n                content: \"发送失败: \".concat(error instanceof Error ? error.message : \"未知错误\"),\n                timestamp: Date.now()\n            };\n            setSession((prev)=>{\n                if (!prev) return null;\n                const messagesWithError = [\n                    ...prev.messages,\n                    errorMessage\n                ];\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionMessages)(prev.id, messagesWithError);\n                return {\n                    ...prev,\n                    messages: messagesWithError\n                };\n            });\n        } finally{\n            setIsSendingMessage(false);\n        }\n    };\n    /**\n   * 检查并更新当前章节\n   */ const checkAndUpdateCurrentChapter = async (aiResponse, sessionData)=>{\n        const lowerResponse = aiResponse.toLowerCase();\n        // 1. 首先检查用户是否明确要求跳转到特定小节\n        const userMessageForJump = sessionData.messages.filter((m)=>m.role === \"user\").pop();\n        if (userMessageForJump) {\n            // 检查用户消息中的小节编号（如\"去1.2\"、\"学习1.3\"、\"1.2小节\"等）\n            const userSectionPattern = /(?:去|到|学习|进入|开始)?.*?(\\d+\\.\\d+)(?:小节|节)?/g;\n            const userSectionMatches = [\n                ...userMessageForJump.content.matchAll(userSectionPattern)\n            ];\n            if (userSectionMatches.length > 0) {\n                // 找到最后一个提到的小节编号\n                const lastMatch = userSectionMatches[userSectionMatches.length - 1];\n                const sectionNumber = lastMatch[1];\n                // 在大纲中查找对应的小节\n                const targetSection = sessionData.outline.find((item)=>item.type === \"section\" && item.title.includes(sectionNumber));\n                if (targetSection && sessionData.currentChapter !== targetSection.id) {\n                    console.log(\"用户要求跳转到小节 \".concat(sectionNumber, \"，切换到:\"), targetSection.title);\n                    // 在跳转到指定小节之前，先标记当前小节为完成\n                    if (sessionData.currentChapter) {\n                        console.log(\"用户跳转前标记当前小节为完成:\", sessionData.currentChapter);\n                        await handleMarkChapterCompleted(sessionData.currentChapter);\n                    }\n                    (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(sessionData.id, targetSection.id);\n                    setSession((prev)=>prev ? {\n                            ...prev,\n                            currentChapter: targetSection.id\n                        } : null);\n                    return; // 找到明确的小节，直接返回\n                }\n            }\n        }\n        // 2. 检查AI是否明确提到了具体的小节编号\n        console.log(\"AI回复内容:\", aiResponse);\n        const aiSectionPattern = /(?:现在|开始|进入|学习|讲解|探讨).*?(\\d+\\.\\d+)(?:小节|节)?/g;\n        const aiSectionMatches = [\n            ...aiResponse.matchAll(aiSectionPattern)\n        ];\n        console.log(\"AI小节匹配结果:\", aiSectionMatches);\n        if (aiSectionMatches.length > 0) {\n            // 找到最后一个提到的小节编号\n            const lastMatch = aiSectionMatches[aiSectionMatches.length - 1];\n            const sectionNumber = lastMatch[1];\n            console.log(\"AI提到的小节编号:\", sectionNumber);\n            // 在大纲中查找对应的小节\n            const targetSection = sessionData.outline.find((item)=>item.type === \"section\" && item.title.includes(sectionNumber));\n            console.log(\"找到的目标小节:\", targetSection);\n            if (targetSection && sessionData.currentChapter !== targetSection.id) {\n                console.log(\"AI明确提到小节 \".concat(sectionNumber, \"，切换到:\"), targetSection.title);\n                // 在切换到新小节之前，先标记当前小节为完成\n                if (sessionData.currentChapter) {\n                    console.log(\"切换前标记当前小节为完成:\", sessionData.currentChapter);\n                    await handleMarkChapterCompleted(sessionData.currentChapter);\n                }\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(sessionData.id, targetSection.id);\n                setSession((prev)=>prev ? {\n                        ...prev,\n                        currentChapter: targetSection.id\n                    } : null);\n                return; // 找到明确的小节，直接返回\n            }\n        }\n        // 2. 检查AI是否提到了小节完成的关键词\n        const completionKeywords = [\n            \"完成了\",\n            \"已经完成了\",\n            \"我们完成了\",\n            \"刚才完成了\",\n            \"学习完了\",\n            \"已经学完了\",\n            \"我们学完了\",\n            \"结束了\",\n            \"已经结束了\",\n            \"我们结束了\",\n            \"这一节就到这里\",\n            \"本节内容结束\",\n            \"这个小节的内容就讲完了\",\n            \"本小节到此结束\"\n        ];\n        console.log(\"检查AI是否提到完成关键词:\", completionKeywords.some((keyword)=>lowerResponse.includes(keyword)));\n        console.log(\"AI回复内容(小写):\", lowerResponse);\n        // 如果AI提到了完成关键词\n        if (completionKeywords.some((keyword)=>lowerResponse.includes(keyword))) {\n            let completedSectionId = null;\n            // 检查是否提到了具体的小节编号（用于标记完成）\n            // 增强正则表达式，支持更多的表达方式\n            const completedSectionPattern = /(?:完成了|学完了|结束了|已经完成了|我们完成了).*?(\\d+\\.\\d+)(?:小节|节)?.*?(?:的学习|学习|的内容)?/g;\n            const completedMatches = [\n                ...aiResponse.matchAll(completedSectionPattern)\n            ];\n            console.log(\"完成小节匹配结果:\", completedMatches);\n            if (completedMatches.length > 0) {\n                const completedNumber = completedMatches[0][1];\n                console.log(\"提取到的完成小节编号:\", completedNumber);\n                const completedSection = sessionData.outline.find((item)=>item.type === \"section\" && item.title.includes(completedNumber));\n                console.log(\"找到的完成小节:\", completedSection);\n                if (completedSection) {\n                    completedSectionId = completedSection.id;\n                }\n            }\n            // 如果没有明确的编号，尝试通过小节标题匹配\n            if (!completedSectionId) {\n                console.log(\"尝试通过标题匹配完成的小节\");\n                for (const item of sessionData.outline){\n                    if (item.type === \"section\") {\n                        const titleWithoutNumber = item.title.replace(/^\\d+\\.\\d+\\s*/, \"\").trim();\n                        if (titleWithoutNumber && aiResponse.includes(titleWithoutNumber)) {\n                            console.log(\"通过标题匹配到完成小节:\", item.title);\n                            completedSectionId = item.id;\n                            break;\n                        }\n                    }\n                }\n            }\n            // 如果还是没找到，使用当前章节\n            if (!completedSectionId && sessionData.currentChapter) {\n                console.log(\"使用当前章节作为完成小节:\", sessionData.currentChapter);\n                completedSectionId = sessionData.currentChapter;\n            }\n            // 标记找到的小节为完成\n            if (completedSectionId) {\n                console.log(\"标记小节为完成:\", completedSectionId);\n                await handleMarkChapterCompleted(completedSectionId);\n            } else {\n                console.log(\"未找到要标记为完成的小节\");\n            }\n        }\n        // 3. 检查是否用户明确要求进入下一节\n        // 注意：根据新的\"一步一停\"教学模式，我们不应该因为AI提到\"接下来\"就自动推进\n        // 只有当用户明确要求或AI明确说明整个小节已经完成时才推进\n        const userRequestNextKeywords = [\n            \"我想学下一节\",\n            \"进入下一节吧\",\n            \"开始下一节\",\n            \"下一个小节\",\n            \"继续下一节\",\n            \"跳到下一节\",\n            \"下一章吧\",\n            \"进入下一章\",\n            \"开始下一章\",\n            \"下个章节\",\n            \"继续下一章\",\n            \"下个章节\"\n        ];\n        // 只有当用户的消息中包含这些关键词时才考虑推进\n        const userMessageForNext = sessionData.messages.filter((m)=>m.role === \"user\").pop();\n        if (userMessageForNext && userRequestNextKeywords.some((keyword)=>userMessageForNext.content.toLowerCase().includes(keyword))) {\n            // 如果没有明确指定小节编号，自动推进到下一个小节\n            if (!aiSectionMatches.length && sessionData.currentChapter) {\n                const currentIndex = sessionData.outline.findIndex((item)=>item.id === sessionData.currentChapter);\n                console.log(\"当前章节索引:\", currentIndex, \"当前章节ID:\", sessionData.currentChapter);\n                console.log(\"大纲结构:\", sessionData.outline.map((item, index)=>\"\".concat(index, \": \").concat(item.title, \" (\").concat(item.type, \")\")));\n                if (currentIndex >= 0) {\n                    // 查找下一个小节（跳过章节标题）\n                    const nextSection = findNextSection(sessionData.outline, currentIndex);\n                    if (nextSection) {\n                        console.log(\"用户要求推进到下一小节:\", nextSection.title);\n                        // 在推进到下一节之前，先标记当前小节为完成\n                        console.log(\"用户推进前标记当前小节为完成:\", sessionData.currentChapter);\n                        await handleMarkChapterCompleted(sessionData.currentChapter);\n                        (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(sessionData.id, nextSection.id);\n                        setSession((prev)=>prev ? {\n                                ...prev,\n                                currentChapter: nextSection.id\n                            } : null);\n                    } else {\n                        console.log(\"已经是最后一个小节，无法继续推进\");\n                    }\n                }\n            }\n        }\n        // 4. 检查AI是否提到了具体的小节标题（用于切换章节）\n        let chapterFoundAndUpdated = false;\n        for (const item of sessionData.outline){\n            if (item.type === \"section\" && !chapterFoundAndUpdated) {\n                // 检查是否提到了小节的核心标题\n                const titleWithoutNumber = item.title.replace(/^\\d+\\.\\d+\\s*/, \"\").trim();\n                if (titleWithoutNumber.length > 2) {\n                    const titlePatterns = [\n                        \"学习\".concat(titleWithoutNumber),\n                        \"开始\".concat(titleWithoutNumber),\n                        \"进入\".concat(titleWithoutNumber),\n                        \"讲解\".concat(titleWithoutNumber),\n                        \"\".concat(titleWithoutNumber, \"的内容\"),\n                        \"\".concat(titleWithoutNumber, \"部分\")\n                    ];\n                    if (titlePatterns.some((pattern)=>aiResponse.includes(pattern))) {\n                        if (sessionData.currentChapter !== item.id) {\n                            console.log(\"通过标题匹配切换章节:\", item.title);\n                            (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(sessionData.id, item.id);\n                            setSession((prev)=>prev ? {\n                                    ...prev,\n                                    currentChapter: item.id\n                                } : null);\n                            chapterFoundAndUpdated = true;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n   * 处理章节点击\n   */ const handleChapterClick = (chapterId)=>{\n        if (!session || isSendingMessage) return;\n        const item = session.outline.find((item)=>item.id === chapterId);\n        if (!item) return;\n        // 只有小节（section）才能点击学习，章节（chapter）只是标题\n        if (item.type === \"chapter\") return;\n        // 更新当前章节\n        (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(session.id, chapterId);\n        setSession((prev)=>prev ? {\n                ...prev,\n                currentChapter: chapterId\n            } : null);\n        // 发送切换章节的消息\n        const switchMessage = '我想跳转到\"'.concat(item.title, '\"这个小节进行学习。');\n        handleSendMessage(switchMessage);\n    };\n    /**\n   * 处理消息收藏为卡片\n   */ const handleBookmarkMessage = async (messageId, type, userNote)=>{\n        if (!session || !apiConfig) return;\n        const message = session.messages.find((m)=>m.id === messageId);\n        if (!message || message.role !== \"assistant\") return;\n        try {\n            // 使用AI生成简洁的卡片标题\n            const titleResponse = await (0,_src_utils_aiService__WEBPACK_IMPORTED_MODULE_8__.summarizeCardTitle)(apiConfig, message.content);\n            const cardTitle = titleResponse.success ? titleResponse.data : message.content.substring(0, 12);\n            // 创建卡片\n            const card = {\n                id: generateCardId(),\n                title: cardTitle,\n                content: message.content,\n                userNote,\n                type,\n                tags: [],\n                createdAt: Date.now(),\n                nextReviewAt: Date.now() + 1 * 60 * 1000,\n                reviewCount: 0,\n                difficulty: 3,\n                sessionId: session.id,\n                messageId: message.id,\n                chapterId: session.currentChapter\n            };\n            // 保存卡片\n            const success = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.addLearningCard)(session.id, card);\n            if (success) {\n                // 更新消息的收藏状态\n                const updatedMessages = session.messages.map((m)=>m.id === messageId ? {\n                        ...m,\n                        isBookmarked: true,\n                        cardId: card.id\n                    } : m);\n                setSession((prev)=>prev ? {\n                        ...prev,\n                        messages: updatedMessages\n                    } : null);\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionMessages)(session.id, updatedMessages);\n                // 刷新卡片管理器\n                setCardManagerKey((prev)=>prev + 1);\n            }\n        } catch (error) {\n            console.error(\"创建卡片失败:\", error);\n            // 如果AI调用失败，使用备用方案\n            const fallbackTitle = message.content.substring(0, 12);\n            const card = {\n                id: generateCardId(),\n                title: fallbackTitle,\n                content: message.content,\n                userNote,\n                type,\n                tags: [],\n                createdAt: Date.now(),\n                nextReviewAt: Date.now() + 1 * 60 * 1000,\n                reviewCount: 0,\n                difficulty: 3,\n                sessionId: session.id,\n                messageId: message.id,\n                chapterId: session.currentChapter\n            };\n            const success = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.addLearningCard)(session.id, card);\n            if (success) {\n                const updatedMessages = session.messages.map((m)=>m.id === messageId ? {\n                        ...m,\n                        isBookmarked: true,\n                        cardId: card.id\n                    } : m);\n                setSession((prev)=>prev ? {\n                        ...prev,\n                        messages: updatedMessages\n                    } : null);\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionMessages)(session.id, updatedMessages);\n                setCardManagerKey((prev)=>prev + 1);\n            }\n        }\n    };\n    /**\n   * 返回首页\n   */ const handleGoBack = ()=>{\n        router.push(\"/\");\n    };\n    /**\n   * 标记章节为已完成\n   */ const handleMarkChapterCompleted = async (chapterId)=>{\n        if (!session) return;\n        const success = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.markChapterCompleted)(session.id, chapterId);\n        if (success) {\n            // 更新本地状态\n            setSession((prev)=>{\n                if (!prev) return null;\n                const updatedOutline = prev.outline.map((item)=>item.id === chapterId ? {\n                        ...item,\n                        isCompleted: true,\n                        completedAt: Date.now()\n                    } : item);\n                return {\n                    ...prev,\n                    outline: updatedOutline\n                };\n            });\n        }\n    };\n    /**\n   * 计算完成进度\n   */ const getCompletionStats = ()=>{\n        if (!session) return {\n            completed: 0,\n            total: 0\n        };\n        const completed = session.outline.filter((item)=>item.isCompleted).length;\n        const total = session.outline.length;\n        return {\n            completed,\n            total\n        };\n    };\n    /**\n   * 处理卡片更新\n   */ const handleCardsUpdate = ()=>{\n        setCardManagerKey((prev)=>prev + 1);\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent mx-auto mb-4\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                        lineNumber: 592,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600\",\n                        children: \"加载学习会话中...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                        lineNumber: 593,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                lineNumber: 591,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n            lineNumber: 590,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (!session) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-gray-900 mb-4\",\n                        children: \"会话不存在\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                        lineNumber: 603,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600 mb-6\",\n                        children: \"请检查链接是否正确\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                        lineNumber: 604,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        onClick: handleGoBack,\n                        children: \"返回首页\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                        lineNumber: 605,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                lineNumber: 602,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n            lineNumber: 601,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen bg-gray-50 flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"bg-white border-b border-gray-200 flex-shrink-0\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between h-16 px-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    variant: \"ghost\",\n                                    size: \"sm\",\n                                    onClick: handleGoBack,\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.ArrowLeft, {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                        lineNumber: 622,\n                                        columnNumber: 21\n                                    }, void 0),\n                                    children: \"返回\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                    lineNumber: 618,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-l border-gray-300 pl-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                            className: \"text-lg font-semibold text-gray-900 truncate max-w-md\",\n                                            children: session.title\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                            lineNumber: 628,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-3 text-sm text-gray-500\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"flex items-center gap-1\",\n                                                    children: [\n                                                        session.learningLevel === \"beginner\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.User, {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                            lineNumber: 634,\n                                                            columnNumber: 21\n                                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.Zap, {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                            lineNumber: 636,\n                                                            columnNumber: 21\n                                                        }, undefined),\n                                                        session.learningLevel === \"beginner\" ? \"小白模式\" : \"高手模式\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                    lineNumber: 632,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                    lineNumber: 641,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: (()=>{\n                                                        const stats = getCompletionStats();\n                                                        return \"\".concat(stats.completed, \"/\").concat(stats.total, \" 个章节已完成\");\n                                                    })()\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                    lineNumber: 643,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                    lineNumber: 650,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        session.messages.filter((m)=>m.role !== \"system\").length,\n                                                        \" 条对话\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                    lineNumber: 652,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                            lineNumber: 631,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                    lineNumber: 627,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                            lineNumber: 617,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-gray-500\",\n                                children: \"拖拽中间分隔条可调整面板大小\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                lineNumber: 659,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                            lineNumber: 658,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                    lineNumber: 615,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                lineNumber: 614,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex overflow-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex w-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-1/4 min-w-[250px] max-w-[400px] h-full bg-white border-r border-gray-200 flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-6 border-b border-gray-200 flex-shrink-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2 mb-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.BookOpen, {\n                                                    className: \"w-5 h-5 text-primary-600\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                    lineNumber: 674,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                    className: \"text-lg font-semibold text-gray-900\",\n                                                    children: \"学习大纲\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                    lineNumber: 675,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                            lineNumber: 673,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm text-gray-600\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            children: [\n                                                                \"共 \",\n                                                                session.outline.length,\n                                                                \" 个章节\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                            lineNumber: 681,\n                                                            columnNumber: 19\n                                                        }, undefined),\n                                                        (()=>{\n                                                            const stats = getCompletionStats();\n                                                            const percentage = stats.total > 0 ? Math.round(stats.completed / stats.total * 100) : 0;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-green-600\",\n                                                                        children: [\n                                                                            \"已完成 \",\n                                                                            stats.completed,\n                                                                            \" 个 (\",\n                                                                            percentage,\n                                                                            \"%)\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                                        lineNumber: 687,\n                                                                        columnNumber: 25\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"w-full bg-gray-200 rounded-full h-2 mt-1\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"bg-green-500 h-2 rounded-full transition-all duration-300\",\n                                                                            style: {\n                                                                                width: \"\".concat(percentage, \"%\")\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                                            lineNumber: 689,\n                                                                            columnNumber: 27\n                                                                        }, undefined)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                                        lineNumber: 688,\n                                                                        columnNumber: 25\n                                                                    }, undefined)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                                lineNumber: 686,\n                                                                columnNumber: 23\n                                                            }, undefined);\n                                                        })()\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                    lineNumber: 680,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                session.currentChapter && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"mt-2 text-primary-600\",\n                                                    children: [\n                                                        \"当前：\",\n                                                        (_session_outline_find = session.outline.find((item)=>item.id === session.currentChapter)) === null || _session_outline_find === void 0 ? void 0 : _session_outline_find.title\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                    lineNumber: 699,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                            lineNumber: 679,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                    lineNumber: 672,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-y-auto p-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_OutlineEditor__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            items: session.outline,\n                                            onChange: ()=>{},\n                                            activeChapterId: session.currentChapter,\n                                            onChapterClick: handleChapterClick,\n                                            readonly: true,\n                                            showNumbers: true\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                            lineNumber: 708,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        session.currentChapter && ((_session_outline_find1 = session.outline.find((item)=>item.id === session.currentChapter)) === null || _session_outline_find1 === void 0 ? void 0 : _session_outline_find1.type) === \"section\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-4 pt-4 border-t border-gray-200\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm text-gray-600 mb-2\",\n                                                    children: \"当前小节操作：\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                    lineNumber: 720,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                                    variant: \"outline\",\n                                                    size: \"sm\",\n                                                    onClick: ()=>handleMarkChapterCompleted(session.currentChapter),\n                                                    disabled: (_session_outline_find2 = session.outline.find((item)=>item.id === session.currentChapter)) === null || _session_outline_find2 === void 0 ? void 0 : _session_outline_find2.isCompleted,\n                                                    className: \"w-full\",\n                                                    children: ((_session_outline_find3 = session.outline.find((item)=>item.id === session.currentChapter)) === null || _session_outline_find3 === void 0 ? void 0 : _session_outline_find3.isCompleted) ? \"✅ 已完成\" : \"标记为已完成\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                    lineNumber: 723,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                            lineNumber: 719,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                    lineNumber: 707,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                            lineNumber: 670,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 h-full flex flex-col bg-white overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-shrink-0 p-4 border-b border-gray-200\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-10 h-10 bg-gradient-to-br from-secondary-500 to-secondary-600 rounded-full flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.MessageCircle, {\n                                                    className: \"w-5 h-5 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                    lineNumber: 746,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                lineNumber: 745,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                        className: \"font-semibold text-gray-900\",\n                                                        children: \"AI私教助手\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                        lineNumber: 749,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-gray-500\",\n                                                        children: session.learningLevel === \"beginner\" ? \"耐心引导模式，循序渐进\" : \"高效学习模式，直击重点\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                        lineNumber: 750,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                                lineNumber: 748,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                        lineNumber: 744,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                    lineNumber: 743,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-hidden\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ChatInterface__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                        messages: session.messages.filter((m)=>m.role !== \"system\"),\n                                        onSendMessage: handleSendMessage,\n                                        onBookmarkMessage: handleBookmarkMessage,\n                                        loading: isSendingMessage,\n                                        placeholder: \"输入您的问题或回应...\",\n                                        disabled: isSendingMessage\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                        lineNumber: 762,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                    lineNumber: 761,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                            lineNumber: 741,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-1/5 min-w-[280px] max-w-[350px] h-full\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_CardManager__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                sessionId: session.id,\n                                onCardsUpdate: handleCardsUpdate\n                            }, cardManagerKey, false, {\n                                fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                                lineNumber: 775,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                            lineNumber: 774,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                    lineNumber: 668,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n                lineNumber: 667,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Mochen\\\\Desktop\\\\Mochen\\\\guantongai250728\\\\pages\\\\learn\\\\[sessionId].tsx\",\n        lineNumber: 612,\n        columnNumber: 5\n    }, undefined);\n};\n_s(LearnPage, \"JI6NQCD7KQ9++W6FjyohJQMDkhw=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = LearnPage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (LearnPage);\nvar _c;\n$RefreshReg$(_c, \"LearnPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLO3dDQUNsRG1ILGVBQWV0Rzt3Q0FDZnVHLG1CQUFtQmhEO3dDQUNuQmlELFNBQVNwSjt3Q0FDVHFKLGFBQVk7d0NBQ1pMLFVBQVVoSjs7Ozs7Ozs7Ozs7Ozs7Ozs7c0NBTWhCLDhEQUFDMEg7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUMvSSxtRUFBV0E7Z0NBRVZhLFdBQVdGLFFBQVF1QyxFQUFFO2dDQUNyQndILGVBQWU3QjsrQkFGVnZIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTbkI7R0E1dUJNWjs7UUFDV25CLGtEQUFTQTs7O0tBRHBCbUI7QUE4dUJOLCtEQUFlQSxTQUFTQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3BhZ2VzL2xlYXJuL1tzZXNzaW9uSWRdLnRzeD9lNmRhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5a2m5Lmg5Lya6K+d6aG16Z2iXG4gKiBcbiAqIOaPkOS+m+WPjOagj+W4g+WxgOeahOWtpuS5oOeVjOmdou+8mlxuICogLSDlt6bkvqfvvJrlrabkuaDlpKfnurLlr7zoiKpcbiAqIC0g5Y+z5L6n77yaQUnnp4HmlZnlr7nor53nlYzpnaJcbiAqIC0g5aSn57qy5LiO5a+56K+d55qE5Y+M5ZCR5ZCM5q2lXG4gKiAtIOWtpuS5oOi/m+W6pui3n+i4qlxuICovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHsgQXJyb3dMZWZ0LCBTZXR0aW5ncywgQm9va09wZW4sIE1lc3NhZ2VDaXJjbGUsIFVzZXIsIFphcCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uLy4uL3NyYy9jb21wb25lbnRzL3VpL0J1dHRvbic7XG5pbXBvcnQgUmVzaXphYmxlUGFuZWwgZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvUmVzaXphYmxlUGFuZWwnO1xuaW1wb3J0IE91dGxpbmVFZGl0b3IgZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvT3V0bGluZUVkaXRvcic7XG5pbXBvcnQgQ2hhdEludGVyZmFjZSBmcm9tICcuLi8uLi9zcmMvY29tcG9uZW50cy9DaGF0SW50ZXJmYWNlJztcbmltcG9ydCBDYXJkTWFuYWdlciBmcm9tICcuLi8uLi9zcmMvY29tcG9uZW50cy9DYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBcbiAgTGVhcm5pbmdTZXNzaW9uLCBcbiAgQ2hhdE1lc3NhZ2UsIFxuICBPdXRsaW5lSXRlbSwgXG4gIEFQSUNvbmZpZyxcbiAgTGVhcm5pbmdDYXJkXG59IGZyb20gJy4uLy4uL3NyYy90eXBlcyc7XG5pbXBvcnQgeyBcbiAgZ2V0U2Vzc2lvbkJ5SWQsIFxuICBzYXZlU2Vzc2lvbiwgXG4gIHVwZGF0ZVNlc3Npb25NZXNzYWdlcyxcbiAgdXBkYXRlU2Vzc2lvbkN1cnJlbnRDaGFwdGVyLFxuICBnZXRBUElDb25maWcsXG4gIG1hcmtDaGFwdGVyQ29tcGxldGVkLFxuICBhZGRMZWFybmluZ0NhcmRcbn0gZnJvbSAnLi4vLi4vc3JjL3V0aWxzL3N0b3JhZ2UnO1xuaW1wb3J0IHsgc2VuZENoYXRNZXNzYWdlLCBzdW1tYXJpemVDYXJkVGl0bGUgfSBmcm9tICcuLi8uLi9zcmMvdXRpbHMvYWlTZXJ2aWNlJztcblxuY29uc3QgTGVhcm5QYWdlOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHsgc2Vzc2lvbklkIH0gPSByb3V0ZXIucXVlcnk7XG5cbiAgLy8g54q25oCB566h55CGXG4gIGNvbnN0IFtzZXNzaW9uLCBzZXRTZXNzaW9uXSA9IHVzZVN0YXRlPExlYXJuaW5nU2Vzc2lvbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYXBpQ29uZmlnLCBzZXRBcGlDb25maWddID0gdXNlU3RhdGU8QVBJQ29uZmlnIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2lzU2VuZGluZ01lc3NhZ2UsIHNldElzU2VuZGluZ01lc3NhZ2VdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2FyZE1hbmFnZXJLZXksIHNldENhcmRNYW5hZ2VyS2V5XSA9IHVzZVN0YXRlKDApO1xuXG4gIC8qKlxuICAgKiDliJ3lp4vljJbkvJror53mlbDmja5cbiAgICovXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzZXNzaW9uSWQgfHwgdHlwZW9mIHNlc3Npb25JZCAhPT0gJ3N0cmluZycpIHJldHVybjtcblxuICAgIGNvbnN0IGxvYWRTZXNzaW9uID0gKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbG9hZGVkU2Vzc2lvbiA9IGdldFNlc3Npb25CeUlkKHNlc3Npb25JZCk7XG4gICAgICAgIGNvbnN0IGxvYWRlZENvbmZpZyA9IGdldEFQSUNvbmZpZygpO1xuXG4gICAgICAgIGlmICghbG9hZGVkU2Vzc2lvbikge1xuICAgICAgICAgIGFsZXJ0KCflrabkuaDkvJror53kuI3lrZjlnKgnKTtcbiAgICAgICAgICByb3V0ZXIucHVzaCgnLycpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbG9hZGVkQ29uZmlnKSB7XG4gICAgICAgICAgYWxlcnQoJ0FQSemFjee9ruS4ouWkse+8jOivt+mHjeaWsOmFjee9ricpO1xuICAgICAgICAgIHJvdXRlci5wdXNoKCcvJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0U2Vzc2lvbihsb2FkZWRTZXNzaW9uKTtcbiAgICAgICAgc2V0QXBpQ29uZmlnKGxvYWRlZENvbmZpZyk7XG4gICAgICAgIFxuICAgICAgICAvLyDlpoLmnpzmmK/mlrDkvJror53kuJTmsqHmnInmtojmga/vvIzlj5HpgIHliJ3lp4vmtojmga9cbiAgICAgICAgaWYgKGxvYWRlZFNlc3Npb24ubWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgaW5pdGlhbGl6ZUNoYXQobG9hZGVkU2Vzc2lvbiwgbG9hZGVkQ29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign5Yqg6L295Lya6K+d5aSx6LSlOicsIGVycm9yKTtcbiAgICAgICAgYWxlcnQoJ+WKoOi9veS8muivneWksei0pScpO1xuICAgICAgICByb3V0ZXIucHVzaCgnLycpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbG9hZFNlc3Npb24oKTtcbiAgfSwgW3Nlc3Npb25JZCwgcm91dGVyXSk7XG5cbiAgLyoqXG4gICAqIOeUn+aIkOa2iOaBr0lEXG4gICAqL1xuICBjb25zdCBnZW5lcmF0ZU1lc3NhZ2VJZCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBgbXNnLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgfTtcblxuICAvKipcbiAgICog55Sf5oiQ5Y2h54mHSURcbiAgICovXG4gIGNvbnN0IGdlbmVyYXRlQ2FyZElkID0gKCk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIGBjYXJkLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgfTtcblxuICAvKipcbiAgICog5Yid5aeL5YyW6IGK5aSpXG4gICAqL1xuICBjb25zdCBpbml0aWFsaXplQ2hhdCA9IGFzeW5jIChzZXNzaW9uRGF0YTogTGVhcm5pbmdTZXNzaW9uLCBjb25maWc6IEFQSUNvbmZpZykgPT4ge1xuICAgIC8vIOaJvuWIsOesrOS4gOS4quWwj+iKguS9nOS4uuWIneWni+WtpuS5oOebruagh1xuICAgIGNvbnN0IGZpcnN0U2VjdGlvbiA9IHNlc3Npb25EYXRhLm91dGxpbmUuZmluZChpdGVtID0+IGl0ZW0udHlwZSA9PT0gJ3NlY3Rpb24nKTtcbiAgICBcbiAgICAvLyDliJvlu7rns7vnu5/liJ3lp4vljJbmtojmga9cbiAgICBjb25zdCBzeXN0ZW1NZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcbiAgICAgIGlkOiBnZW5lcmF0ZU1lc3NhZ2VJZCgpLFxuICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICBjb250ZW50OiBg5a2m5Lmg5Lya6K+d5bey5byA5aeL44CC5paH5qGj5qCH6aKY77yaJHtzZXNzaW9uRGF0YS50aXRsZX3vvIzlrabkuaDmsLTlubPvvJoke3Nlc3Npb25EYXRhLmxlYXJuaW5nTGV2ZWwgPT09ICdiZWdpbm5lcicgPyAn5bCP55m9JyA6ICfpq5jmiYsnfeaooeW8j+OAgmAsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfTtcblxuICAgIGNvbnN0IHdlbGNvbWVNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcbiAgICAgIGlkOiBnZW5lcmF0ZU1lc3NhZ2VJZCgpLFxuICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICBjb250ZW50OiBg5L2g5aW977yB5oiR5bCG5L2c5Li65L2g55qE56eB5Lq65a+85biI77yM5biu5Yqp5L2g5pu05aW955qE55CG6Kej5L2g5LiK5Lyg55qE5p2Q5paZ44CKJHtzZXNzaW9uRGF0YS50aXRsZX3jgIvjgILkuLrkuobnu5nmgqjmj5DkvpvmnIDlkIjpgILnmoTmlZnlrabkvZPpqozvvIzmiJHlsIbmoLnmja7kvaDkuYvliY3pgInmi6nnmoQke3Nlc3Npb25EYXRhLmxlYXJuaW5nTGV2ZWwgPT09ICdiZWdpbm5lcicgPyAn5bCP55m9JyA6ICfpq5jmiYsnfeaooeW8j+adpei3n+S9oOS6kuWKqOOAglxuXG7nnIvlrozlt6bovrnov5nkuKror77nqIvlpKfnurLkuoblkJfvvJ/miJHku6zmmK/mjInnhafov5nkuKrpobrluo/ku47nrKzkuIDnq6DlvIDlp4vvvIzov5jmmK/mgqjmg7PlhYjot7PliLDmn5DkuKrmgqjnibnliKvmhJ/lhbTotqPnmoTnq6DoioLvvJ9gLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH07XG5cbiAgICBjb25zdCBpbml0aWFsTWVzc2FnZXMgPSBbc3lzdGVtTWVzc2FnZSwgd2VsY29tZU1lc3NhZ2VdO1xuICAgIFxuICAgIC8vIOabtOaWsOS8muivnVxuICAgIGNvbnN0IHVwZGF0ZWRTZXNzaW9uID0ge1xuICAgICAgLi4uc2Vzc2lvbkRhdGEsXG4gICAgICBtZXNzYWdlczogaW5pdGlhbE1lc3NhZ2VzLFxuICAgICAgY3VycmVudENoYXB0ZXI6IGZpcnN0U2VjdGlvbj8uaWQsIC8vIOiuvue9ruesrOS4gOS4quWwj+iKguS4uuW9k+WJjeeroOiKglxuICAgIH07XG5cbiAgICBzZXRTZXNzaW9uKHVwZGF0ZWRTZXNzaW9uKTtcbiAgICAvLyDkv53lrZjkvJror53lkozlvZPliY3nq6DoioJcbiAgICBzYXZlU2Vzc2lvbih1cGRhdGVkU2Vzc2lvbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIOafpeaJvuS4i+S4gOS4quWwj+iKglxuICAgKiDot7Pov4fnq6DoioLmoIfpopjvvIzlj6rov5Tlm57lsI/oioLnsbvlnovnmoTpobnnm65cbiAgICovXG4gIGNvbnN0IGZpbmROZXh0U2VjdGlvbiA9IChvdXRsaW5lOiBPdXRsaW5lSXRlbVtdLCBjdXJyZW50SW5kZXg6IG51bWJlcik6IE91dGxpbmVJdGVtIHwgbnVsbCA9PiB7XG4gICAgZm9yIChsZXQgaSA9IGN1cnJlbnRJbmRleCArIDE7IGkgPCBvdXRsaW5lLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zb2xlLmxvZyhg5qOA5p+l57Si5byVICR7aX06ICR7b3V0bGluZVtpXS50aXRsZX0gKCR7b3V0bGluZVtpXS50eXBlfSlgKTtcbiAgICAgIGlmIChvdXRsaW5lW2ldLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgICByZXR1cm4gb3V0bGluZVtpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIOWPkemAgea2iOaBr+e7mUFJXG4gICAqL1xuICBjb25zdCBoYW5kbGVTZW5kTWVzc2FnZSA9IGFzeW5jIChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIXNlc3Npb24gfHwgIWFwaUNvbmZpZyB8fCBpc1NlbmRpbmdNZXNzYWdlKSByZXR1cm47XG5cbiAgICBzZXRJc1NlbmRpbmdNZXNzYWdlKHRydWUpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIOWIm+W7uueUqOaIt+a2iOaBr1xuICAgICAgY29uc3QgdXNlck1lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVNZXNzYWdlSWQoKSxcbiAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICBjb250ZW50LFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9O1xuXG4gICAgICAvLyDmm7TmlrDmtojmga/liJfooahcbiAgICAgIGNvbnN0IHVwZGF0ZWRNZXNzYWdlcyA9IFsuLi5zZXNzaW9uLm1lc3NhZ2VzLCB1c2VyTWVzc2FnZV07XG4gICAgICBzZXRTZXNzaW9uKHByZXYgPT4gcHJldiA/IHsgLi4ucHJldiwgbWVzc2FnZXM6IHVwZGF0ZWRNZXNzYWdlcyB9IDogbnVsbCk7XG5cbiAgICAgIC8vIOWPkemAgee7mUFJXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRDaGF0TWVzc2FnZShcbiAgICAgICAgYXBpQ29uZmlnLFxuICAgICAgICB1cGRhdGVkTWVzc2FnZXMsXG4gICAgICAgIHNlc3Npb24uZG9jdW1lbnRDb250ZW50LFxuICAgICAgICBzZXNzaW9uLm91dGxpbmUsXG4gICAgICAgIHNlc3Npb24ubGVhcm5pbmdMZXZlbFxuICAgICAgKTtcblxuICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAvLyDliJvlu7pBSeWbnuWkjea2iOaBr1xuICAgICAgICBjb25zdCBhc3Npc3RhbnRNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVNZXNzYWdlSWQoKSxcbiAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICBjb250ZW50OiByZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBmaW5hbE1lc3NhZ2VzID0gWy4uLnVwZGF0ZWRNZXNzYWdlcywgYXNzaXN0YW50TWVzc2FnZV07XG4gICAgICAgIFxuICAgICAgICAvLyDmm7TmlrDmnKzlnLDnirbmgIFcbiAgICAgICAgc2V0U2Vzc2lvbihwcmV2ID0+IHByZXYgPyB7IC4uLnByZXYsIG1lc3NhZ2VzOiBmaW5hbE1lc3NhZ2VzIH0gOiBudWxsKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOS/neWtmOWIsOWtmOWCqFxuICAgICAgICB1cGRhdGVTZXNzaW9uTWVzc2FnZXMoc2Vzc2lvbi5pZCwgZmluYWxNZXNzYWdlcyk7XG5cbiAgICAgICAgLy8g5qOA5p+l5piv5ZCm6ZyA6KaB5pu05paw5b2T5YmN56ug6IqCXG4gICAgICAgIGF3YWl0IGNoZWNrQW5kVXBkYXRlQ3VycmVudENoYXB0ZXIocmVzcG9uc2UuZGF0YSwgc2Vzc2lvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZXJyb3IgfHwgJ0FJ5ZON5bqU5aSx6LSlJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+WPkemAgea2iOaBr+Wksei0pTonLCBlcnJvcik7XG4gICAgICBcbiAgICAgIC8vIOWIm+W7uumUmeivr+a2iOaBr1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IGdlbmVyYXRlTWVzc2FnZUlkKCksXG4gICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICBjb250ZW50OiBg5Y+R6YCB5aSx6LSlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+acquefpemUmeivryd9YCxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgfTtcblxuICAgICAgc2V0U2Vzc2lvbihwcmV2ID0+IHtcbiAgICAgICAgaWYgKCFwcmV2KSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgbWVzc2FnZXNXaXRoRXJyb3IgPSBbLi4ucHJldi5tZXNzYWdlcywgZXJyb3JNZXNzYWdlXTtcbiAgICAgICAgdXBkYXRlU2Vzc2lvbk1lc3NhZ2VzKHByZXYuaWQsIG1lc3NhZ2VzV2l0aEVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgbWVzc2FnZXM6IG1lc3NhZ2VzV2l0aEVycm9yIH07XG4gICAgICB9KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTZW5kaW5nTWVzc2FnZShmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiDmo4Dmn6Xlubbmm7TmlrDlvZPliY3nq6DoioJcbiAgICovXG4gIGNvbnN0IGNoZWNrQW5kVXBkYXRlQ3VycmVudENoYXB0ZXIgPSBhc3luYyAoYWlSZXNwb25zZTogc3RyaW5nLCBzZXNzaW9uRGF0YTogTGVhcm5pbmdTZXNzaW9uKSA9PiB7XG4gICAgY29uc3QgbG93ZXJSZXNwb25zZSA9IGFpUmVzcG9uc2UudG9Mb3dlckNhc2UoKTtcbiAgICBcbiAgICAvLyAxLiDpppblhYjmo4Dmn6XnlKjmiLfmmK/lkKbmmI7noa7opoHmsYLot7PovazliLDnibnlrprlsI/oioJcbiAgICBjb25zdCB1c2VyTWVzc2FnZUZvckp1bXAgPSBzZXNzaW9uRGF0YS5tZXNzYWdlcy5maWx0ZXIobSA9PiBtLnJvbGUgPT09ICd1c2VyJykucG9wKCk7XG4gICAgaWYgKHVzZXJNZXNzYWdlRm9ySnVtcCkge1xuICAgICAgLy8g5qOA5p+l55So5oi35raI5oGv5Lit55qE5bCP6IqC57yW5Y+377yI5aaCXCLljrsxLjJcIuOAgVwi5a2m5LmgMS4zXCLjgIFcIjEuMuWwj+iKglwi562J77yJXG4gICAgICBjb25zdCB1c2VyU2VjdGlvblBhdHRlcm4gPSAvKD865Y67fOWIsHzlrabkuaB86L+b5YWlfOW8gOWniyk/Lio/KFxcZCtcXC5cXGQrKSg/OuWwj+iKgnzoioIpPy9nO1xuICAgICAgY29uc3QgdXNlclNlY3Rpb25NYXRjaGVzID0gWy4uLnVzZXJNZXNzYWdlRm9ySnVtcC5jb250ZW50Lm1hdGNoQWxsKHVzZXJTZWN0aW9uUGF0dGVybildO1xuICAgICAgXG4gICAgICBpZiAodXNlclNlY3Rpb25NYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8g5om+5Yiw5pyA5ZCO5LiA5Liq5o+Q5Yiw55qE5bCP6IqC57yW5Y+3XG4gICAgICAgIGNvbnN0IGxhc3RNYXRjaCA9IHVzZXJTZWN0aW9uTWF0Y2hlc1t1c2VyU2VjdGlvbk1hdGNoZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IHNlY3Rpb25OdW1iZXIgPSBsYXN0TWF0Y2hbMV07XG4gICAgICAgIFxuICAgICAgICAvLyDlnKjlpKfnurLkuK3mn6Xmib7lr7nlupTnmoTlsI/oioJcbiAgICAgICAgY29uc3QgdGFyZ2V0U2VjdGlvbiA9IHNlc3Npb25EYXRhLm91dGxpbmUuZmluZChpdGVtID0+IFxuICAgICAgICAgIGl0ZW0udHlwZSA9PT0gJ3NlY3Rpb24nICYmIGl0ZW0udGl0bGUuaW5jbHVkZXMoc2VjdGlvbk51bWJlcilcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0YXJnZXRTZWN0aW9uICYmIHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyICE9PSB0YXJnZXRTZWN0aW9uLmlkKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYOeUqOaIt+imgeaxgui3s+i9rOWIsOWwj+iKgiAke3NlY3Rpb25OdW1iZXJ977yM5YiH5o2i5YiwOmAsIHRhcmdldFNlY3Rpb24udGl0bGUpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIOWcqOi3s+i9rOWIsOaMh+WumuWwj+iKguS5i+WJje+8jOWFiOagh+iusOW9k+WJjeWwj+iKguS4uuWujOaIkFxuICAgICAgICAgIGlmIChzZXNzaW9uRGF0YS5jdXJyZW50Q2hhcHRlcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+eUqOaIt+i3s+i9rOWJjeagh+iusOW9k+WJjeWwj+iKguS4uuWujOaIkDonLCBzZXNzaW9uRGF0YS5jdXJyZW50Q2hhcHRlcik7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVNYXJrQ2hhcHRlckNvbXBsZXRlZChzZXNzaW9uRGF0YS5jdXJyZW50Q2hhcHRlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHVwZGF0ZVNlc3Npb25DdXJyZW50Q2hhcHRlcihzZXNzaW9uRGF0YS5pZCwgdGFyZ2V0U2VjdGlvbi5pZCk7XG4gICAgICAgICAgc2V0U2Vzc2lvbihwcmV2ID0+IHByZXYgPyB7IC4uLnByZXYsIGN1cnJlbnRDaGFwdGVyOiB0YXJnZXRTZWN0aW9uLmlkIH0gOiBudWxsKTtcbiAgICAgICAgICByZXR1cm47IC8vIOaJvuWIsOaYjuehrueahOWwj+iKgu+8jOebtOaOpei/lOWbnlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIDIuIOajgOafpUFJ5piv5ZCm5piO56Gu5o+Q5Yiw5LqG5YW35L2T55qE5bCP6IqC57yW5Y+3XG4gICAgY29uc29sZS5sb2coJ0FJ5Zue5aSN5YaF5a65OicsIGFpUmVzcG9uc2UpO1xuICAgIGNvbnN0IGFpU2VjdGlvblBhdHRlcm4gPSAvKD86546w5ZyofOW8gOWni3zov5vlhaV85a2m5LmgfOiusuino3zmjqLorqgpLio/KFxcZCtcXC5cXGQrKSg/OuWwj+iKgnzoioIpPy9nO1xuICAgIGNvbnN0IGFpU2VjdGlvbk1hdGNoZXMgPSBbLi4uYWlSZXNwb25zZS5tYXRjaEFsbChhaVNlY3Rpb25QYXR0ZXJuKV07XG4gICAgY29uc29sZS5sb2coJ0FJ5bCP6IqC5Yy56YWN57uT5p6cOicsIGFpU2VjdGlvbk1hdGNoZXMpO1xuICAgIFxuICAgIGlmIChhaVNlY3Rpb25NYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIOaJvuWIsOacgOWQjuS4gOS4quaPkOWIsOeahOWwj+iKgue8luWPt1xuICAgICAgY29uc3QgbGFzdE1hdGNoID0gYWlTZWN0aW9uTWF0Y2hlc1thaVNlY3Rpb25NYXRjaGVzLmxlbmd0aCAtIDFdO1xuICAgICAgY29uc3Qgc2VjdGlvbk51bWJlciA9IGxhc3RNYXRjaFsxXTtcbiAgICAgIGNvbnNvbGUubG9nKCdBSeaPkOWIsOeahOWwj+iKgue8luWPtzonLCBzZWN0aW9uTnVtYmVyKTtcbiAgICAgIFxuICAgICAgLy8g5Zyo5aSn57qy5Lit5p+l5om+5a+55bqU55qE5bCP6IqCXG4gICAgICBjb25zdCB0YXJnZXRTZWN0aW9uID0gc2Vzc2lvbkRhdGEub3V0bGluZS5maW5kKGl0ZW0gPT4gXG4gICAgICAgIGl0ZW0udHlwZSA9PT0gJ3NlY3Rpb24nICYmIGl0ZW0udGl0bGUuaW5jbHVkZXMoc2VjdGlvbk51bWJlcilcbiAgICAgICk7XG4gICAgICBjb25zb2xlLmxvZygn5om+5Yiw55qE55uu5qCH5bCP6IqCOicsIHRhcmdldFNlY3Rpb24pO1xuICAgICAgXG4gICAgICBpZiAodGFyZ2V0U2VjdGlvbiAmJiBzZXNzaW9uRGF0YS5jdXJyZW50Q2hhcHRlciAhPT0gdGFyZ2V0U2VjdGlvbi5pZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgQUnmmI7noa7mj5DliLDlsI/oioIgJHtzZWN0aW9uTnVtYmVyfe+8jOWIh+aNouWIsDpgLCB0YXJnZXRTZWN0aW9uLnRpdGxlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOWcqOWIh+aNouWIsOaWsOWwj+iKguS5i+WJje+8jOWFiOagh+iusOW9k+WJjeWwj+iKguS4uuWujOaIkFxuICAgICAgICBpZiAoc2Vzc2lvbkRhdGEuY3VycmVudENoYXB0ZXIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn5YiH5o2i5YmN5qCH6K6w5b2T5YmN5bCP6IqC5Li65a6M5oiQOicsIHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyKTtcbiAgICAgICAgICBhd2FpdCBoYW5kbGVNYXJrQ2hhcHRlckNvbXBsZXRlZChzZXNzaW9uRGF0YS5jdXJyZW50Q2hhcHRlcik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHVwZGF0ZVNlc3Npb25DdXJyZW50Q2hhcHRlcihzZXNzaW9uRGF0YS5pZCwgdGFyZ2V0U2VjdGlvbi5pZCk7XG4gICAgICAgIHNldFNlc3Npb24ocHJldiA9PiBwcmV2ID8geyAuLi5wcmV2LCBjdXJyZW50Q2hhcHRlcjogdGFyZ2V0U2VjdGlvbi5pZCB9IDogbnVsbCk7XG4gICAgICAgIHJldHVybjsgLy8g5om+5Yiw5piO56Gu55qE5bCP6IqC77yM55u05o6l6L+U5ZueXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIDIuIOajgOafpUFJ5piv5ZCm5o+Q5Yiw5LqG5bCP6IqC5a6M5oiQ55qE5YWz6ZSu6K+NXG4gICAgY29uc3QgY29tcGxldGlvbktleXdvcmRzID0gW1xuICAgICAgJ+WujOaIkOS6hicsICflt7Lnu4/lrozmiJDkuoYnLCAn5oiR5Lus5a6M5oiQ5LqGJywgJ+WImuaJjeWujOaIkOS6hicsXG4gICAgICAn5a2m5Lmg5a6M5LqGJywgJ+W3sue7j+WtpuWujOS6hicsICfmiJHku6zlrablrozkuoYnLFxuICAgICAgJ+e7k+adn+S6hicsICflt7Lnu4/nu5PmnZ/kuoYnLCAn5oiR5Lus57uT5p2f5LqGJyxcbiAgICAgICfov5nkuIDoioLlsLHliLDov5nph4wnLCAn5pys6IqC5YaF5a6557uT5p2fJyxcbiAgICAgICfov5nkuKrlsI/oioLnmoTlhoXlrrnlsLHorrLlrozkuoYnLCAn5pys5bCP6IqC5Yiw5q2k57uT5p2fJ1xuICAgIF07XG4gICAgXG4gICAgY29uc29sZS5sb2coJ+ajgOafpUFJ5piv5ZCm5o+Q5Yiw5a6M5oiQ5YWz6ZSu6K+NOicsIGNvbXBsZXRpb25LZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gbG93ZXJSZXNwb25zZS5pbmNsdWRlcyhrZXl3b3JkKSkpO1xuICAgIGNvbnNvbGUubG9nKCdBSeWbnuWkjeWGheWuuSjlsI/lhpkpOicsIGxvd2VyUmVzcG9uc2UpO1xuICAgIFxuICAgIC8vIOWmguaenEFJ5o+Q5Yiw5LqG5a6M5oiQ5YWz6ZSu6K+NXG4gICAgaWYgKGNvbXBsZXRpb25LZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gbG93ZXJSZXNwb25zZS5pbmNsdWRlcyhrZXl3b3JkKSkpIHtcbiAgICAgIGxldCBjb21wbGV0ZWRTZWN0aW9uSWQgPSBudWxsO1xuICAgICAgXG4gICAgICAvLyDmo4Dmn6XmmK/lkKbmj5DliLDkuoblhbfkvZPnmoTlsI/oioLnvJblj7fvvIjnlKjkuo7moIforrDlrozmiJDvvIlcbiAgICAgIC8vIOWinuW8uuato+WImeihqOi+vuW8j++8jOaUr+aMgeabtOWkmueahOihqOi+vuaWueW8j1xuICAgICAgY29uc3QgY29tcGxldGVkU2VjdGlvblBhdHRlcm4gPSAvKD865a6M5oiQ5LqGfOWtpuWujOS6hnznu5PmnZ/kuoZ85bey57uP5a6M5oiQ5LqGfOaIkeS7rOWujOaIkOS6hikuKj8oXFxkK1xcLlxcZCspKD865bCP6IqCfOiKgik/Lio/KD8655qE5a2m5LmgfOWtpuS5oHznmoTlhoXlrrkpPy9nO1xuICAgICAgY29uc3QgY29tcGxldGVkTWF0Y2hlcyA9IFsuLi5haVJlc3BvbnNlLm1hdGNoQWxsKGNvbXBsZXRlZFNlY3Rpb25QYXR0ZXJuKV07XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCflrozmiJDlsI/oioLljLnphY3nu5Pmnpw6JywgY29tcGxldGVkTWF0Y2hlcyk7XG4gICAgICBcbiAgICAgIGlmIChjb21wbGV0ZWRNYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgY29tcGxldGVkTnVtYmVyID0gY29tcGxldGVkTWF0Y2hlc1swXVsxXTtcbiAgICAgICAgY29uc29sZS5sb2coJ+aPkOWPluWIsOeahOWujOaIkOWwj+iKgue8luWPtzonLCBjb21wbGV0ZWROdW1iZXIpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgY29tcGxldGVkU2VjdGlvbiA9IHNlc3Npb25EYXRhLm91dGxpbmUuZmluZChpdGVtID0+IFxuICAgICAgICAgIGl0ZW0udHlwZSA9PT0gJ3NlY3Rpb24nICYmIGl0ZW0udGl0bGUuaW5jbHVkZXMoY29tcGxldGVkTnVtYmVyKVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ+aJvuWIsOeahOWujOaIkOWwj+iKgjonLCBjb21wbGV0ZWRTZWN0aW9uKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjb21wbGV0ZWRTZWN0aW9uKSB7XG4gICAgICAgICAgY29tcGxldGVkU2VjdGlvbklkID0gY29tcGxldGVkU2VjdGlvbi5pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDlpoLmnpzmsqHmnInmmI7noa7nmoTnvJblj7fvvIzlsJ3or5XpgJrov4flsI/oioLmoIfpopjljLnphY1cbiAgICAgIGlmICghY29tcGxldGVkU2VjdGlvbklkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCflsJ3or5XpgJrov4fmoIfpopjljLnphY3lrozmiJDnmoTlsI/oioInKTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHNlc3Npb25EYXRhLm91dGxpbmUpIHtcbiAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlV2l0aG91dE51bWJlciA9IGl0ZW0udGl0bGUucmVwbGFjZSgvXlxcZCtcXC5cXGQrXFxzKi8sICcnKS50cmltKCk7XG4gICAgICAgICAgICBpZiAodGl0bGVXaXRob3V0TnVtYmVyICYmIGFpUmVzcG9uc2UuaW5jbHVkZXModGl0bGVXaXRob3V0TnVtYmVyKSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6YCa6L+H5qCH6aKY5Yy56YWN5Yiw5a6M5oiQ5bCP6IqCOicsIGl0ZW0udGl0bGUpO1xuICAgICAgICAgICAgICBjb21wbGV0ZWRTZWN0aW9uSWQgPSBpdGVtLmlkO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8g5aaC5p6c6L+Y5piv5rKh5om+5Yiw77yM5L2/55So5b2T5YmN56ug6IqCXG4gICAgICBpZiAoIWNvbXBsZXRlZFNlY3Rpb25JZCAmJiBzZXNzaW9uRGF0YS5jdXJyZW50Q2hhcHRlcikge1xuICAgICAgICBjb25zb2xlLmxvZygn5L2/55So5b2T5YmN56ug6IqC5L2c5Li65a6M5oiQ5bCP6IqCOicsIHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyKTtcbiAgICAgICAgY29tcGxldGVkU2VjdGlvbklkID0gc2Vzc2lvbkRhdGEuY3VycmVudENoYXB0ZXI7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOagh+iusOaJvuWIsOeahOWwj+iKguS4uuWujOaIkFxuICAgICAgaWYgKGNvbXBsZXRlZFNlY3Rpb25JZCkge1xuICAgICAgICBjb25zb2xlLmxvZygn5qCH6K6w5bCP6IqC5Li65a6M5oiQOicsIGNvbXBsZXRlZFNlY3Rpb25JZCk7XG4gICAgICAgIGF3YWl0IGhhbmRsZU1hcmtDaGFwdGVyQ29tcGxldGVkKGNvbXBsZXRlZFNlY3Rpb25JZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygn5pyq5om+5Yiw6KaB5qCH6K6w5Li65a6M5oiQ55qE5bCP6IqCJyk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIDMuIOajgOafpeaYr+WQpueUqOaIt+aYjuehruimgeaxgui/m+WFpeS4i+S4gOiKglxuICAgIC8vIOazqOaEj++8muagueaNruaWsOeahFwi5LiA5q2l5LiA5YGcXCLmlZnlrabmqKHlvI/vvIzmiJHku6zkuI3lupTor6Xlm6DkuLpBSeaPkOWIsFwi5o6l5LiL5p2lXCLlsLHoh6rliqjmjqjov5tcbiAgICAvLyDlj6rmnInlvZPnlKjmiLfmmI7noa7opoHmsYLmiJZBSeaYjuehruivtOaYjuaVtOS4quWwj+iKguW3sue7j+WujOaIkOaXtuaJjeaOqOi/m1xuICAgIGNvbnN0IHVzZXJSZXF1ZXN0TmV4dEtleXdvcmRzID0gW1xuICAgICAgJ+aIkeaDs+WtpuS4i+S4gOiKgicsICfov5vlhaXkuIvkuIDoioLlkKcnLCAn5byA5aeL5LiL5LiA6IqCJywgXG4gICAgICAn5LiL5LiA5Liq5bCP6IqCJywgJ+e7p+e7reS4i+S4gOiKgicsICfot7PliLDkuIvkuIDoioInLFxuICAgICAgJ+S4i+S4gOeroOWQpycsICfov5vlhaXkuIvkuIDnq6AnLCAn5byA5aeL5LiL5LiA56ugJyxcbiAgICAgICfkuIvkuKrnq6DoioInLCAn57un57ut5LiL5LiA56ugJywgJ+S4i+S4queroOiKgidcbiAgICBdO1xuICAgIFxuICAgIC8vIOWPquacieW9k+eUqOaIt+eahOa2iOaBr+S4reWMheWQq+i/meS6m+WFs+mUruivjeaXtuaJjeiAg+iZkeaOqOi/m1xuICAgIGNvbnN0IHVzZXJNZXNzYWdlRm9yTmV4dCA9IHNlc3Npb25EYXRhLm1lc3NhZ2VzLmZpbHRlcihtID0+IG0ucm9sZSA9PT0gJ3VzZXInKS5wb3AoKTtcbiAgICBpZiAodXNlck1lc3NhZ2VGb3JOZXh0ICYmIHVzZXJSZXF1ZXN0TmV4dEtleXdvcmRzLnNvbWUoa2V5d29yZCA9PiB1c2VyTWVzc2FnZUZvck5leHQuY29udGVudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGtleXdvcmQpKSkge1xuICAgICAgLy8g5aaC5p6c5rKh5pyJ5piO56Gu5oyH5a6a5bCP6IqC57yW5Y+377yM6Ieq5Yqo5o6o6L+b5Yiw5LiL5LiA5Liq5bCP6IqCXG4gICAgICBpZiAoIWFpU2VjdGlvbk1hdGNoZXMubGVuZ3RoICYmIHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHNlc3Npb25EYXRhLm91dGxpbmUuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5pZCA9PT0gc2Vzc2lvbkRhdGEuY3VycmVudENoYXB0ZXIpO1xuICAgICAgICBjb25zb2xlLmxvZygn5b2T5YmN56ug6IqC57Si5byVOicsIGN1cnJlbnRJbmRleCwgJ+W9k+WJjeeroOiKgklEOicsIHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyKTtcbiAgICAgICAgY29uc29sZS5sb2coJ+Wkp+e6sue7k+aehDonLCBzZXNzaW9uRGF0YS5vdXRsaW5lLm1hcCgoaXRlbSwgaW5kZXgpID0+IGAke2luZGV4fTogJHtpdGVtLnRpdGxlfSAoJHtpdGVtLnR5cGV9KWApKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPj0gMCkge1xuICAgICAgICAgIC8vIOafpeaJvuS4i+S4gOS4quWwj+iKgu+8iOi3s+i/h+eroOiKguagh+mimO+8iVxuICAgICAgICAgIGNvbnN0IG5leHRTZWN0aW9uID0gZmluZE5leHRTZWN0aW9uKHNlc3Npb25EYXRhLm91dGxpbmUsIGN1cnJlbnRJbmRleCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKG5leHRTZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn55So5oi36KaB5rGC5o6o6L+b5Yiw5LiL5LiA5bCP6IqCOicsIG5leHRTZWN0aW9uLnRpdGxlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8g5Zyo5o6o6L+b5Yiw5LiL5LiA6IqC5LmL5YmN77yM5YWI5qCH6K6w5b2T5YmN5bCP6IqC5Li65a6M5oiQXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn55So5oi35o6o6L+b5YmN5qCH6K6w5b2T5YmN5bCP6IqC5Li65a6M5oiQOicsIHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyKTtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZU1hcmtDaGFwdGVyQ29tcGxldGVkKHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdXBkYXRlU2Vzc2lvbkN1cnJlbnRDaGFwdGVyKHNlc3Npb25EYXRhLmlkLCBuZXh0U2VjdGlvbi5pZCk7XG4gICAgICAgICAgICBzZXRTZXNzaW9uKHByZXYgPT4gcHJldiA/IHsgLi4ucHJldiwgY3VycmVudENoYXB0ZXI6IG5leHRTZWN0aW9uLmlkIH0gOiBudWxsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+W3sue7j+aYr+acgOWQjuS4gOS4quWwj+iKgu+8jOaXoOazlee7p+e7reaOqOi/mycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyA0LiDmo4Dmn6VBSeaYr+WQpuaPkOWIsOS6huWFt+S9k+eahOWwj+iKguagh+mimO+8iOeUqOS6juWIh+aNoueroOiKgu+8iVxuICAgIGxldCBjaGFwdGVyRm91bmRBbmRVcGRhdGVkID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHNlc3Npb25EYXRhLm91dGxpbmUpIHtcbiAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdzZWN0aW9uJyAmJiAhY2hhcHRlckZvdW5kQW5kVXBkYXRlZCkge1xuICAgICAgICAvLyDmo4Dmn6XmmK/lkKbmj5DliLDkuoblsI/oioLnmoTmoLjlv4PmoIfpophcbiAgICAgICAgY29uc3QgdGl0bGVXaXRob3V0TnVtYmVyID0gaXRlbS50aXRsZS5yZXBsYWNlKC9eXFxkK1xcLlxcZCtcXHMqLywgJycpLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aXRsZVdpdGhvdXROdW1iZXIubGVuZ3RoID4gMikgeyAvLyDpgb/lhY3ljLnphY3ov4fnn63nmoTmoIfpophcbiAgICAgICAgICBjb25zdCB0aXRsZVBhdHRlcm5zID0gW1xuICAgICAgICAgICAgYOWtpuS5oCR7dGl0bGVXaXRob3V0TnVtYmVyfWAsIGDlvIDlp4ske3RpdGxlV2l0aG91dE51bWJlcn1gLFxuICAgICAgICAgICAgYOi/m+WFpSR7dGl0bGVXaXRob3V0TnVtYmVyfWAsIGDorrLop6Mke3RpdGxlV2l0aG91dE51bWJlcn1gLFxuICAgICAgICAgICAgYCR7dGl0bGVXaXRob3V0TnVtYmVyfeeahOWGheWuuWAsIGAke3RpdGxlV2l0aG91dE51bWJlcn3pg6jliIZgXG4gICAgICAgICAgXTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAodGl0bGVQYXR0ZXJucy5zb21lKHBhdHRlcm4gPT4gYWlSZXNwb25zZS5pbmNsdWRlcyhwYXR0ZXJuKSkpIHtcbiAgICAgICAgICAgIGlmIChzZXNzaW9uRGF0YS5jdXJyZW50Q2hhcHRlciAhPT0gaXRlbS5pZCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6YCa6L+H5qCH6aKY5Yy56YWN5YiH5o2i56ug6IqCOicsIGl0ZW0udGl0bGUpO1xuICAgICAgICAgICAgICB1cGRhdGVTZXNzaW9uQ3VycmVudENoYXB0ZXIoc2Vzc2lvbkRhdGEuaWQsIGl0ZW0uaWQpO1xuICAgICAgICAgICAgICBzZXRTZXNzaW9uKHByZXYgPT4gcHJldiA/IHsgLi4ucHJldiwgY3VycmVudENoYXB0ZXI6IGl0ZW0uaWQgfSA6IG51bGwpO1xuICAgICAgICAgICAgICBjaGFwdGVyRm91bmRBbmRVcGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIOWkhOeQhueroOiKgueCueWHu1xuICAgKi9cbiAgY29uc3QgaGFuZGxlQ2hhcHRlckNsaWNrID0gKGNoYXB0ZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFzZXNzaW9uIHx8IGlzU2VuZGluZ01lc3NhZ2UpIHJldHVybjtcblxuICAgIGNvbnN0IGl0ZW0gPSBzZXNzaW9uLm91dGxpbmUuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGNoYXB0ZXJJZCk7XG4gICAgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgXG4gICAgLy8g5Y+q5pyJ5bCP6IqC77yIc2VjdGlvbu+8ieaJjeiDveeCueWHu+WtpuS5oO+8jOeroOiKgu+8iGNoYXB0ZXLvvInlj6rmmK/moIfpophcbiAgICBpZiAoaXRlbS50eXBlID09PSAnY2hhcHRlcicpIHJldHVybjtcblxuICAgIC8vIOabtOaWsOW9k+WJjeeroOiKglxuICAgIHVwZGF0ZVNlc3Npb25DdXJyZW50Q2hhcHRlcihzZXNzaW9uLmlkLCBjaGFwdGVySWQpO1xuICAgIHNldFNlc3Npb24ocHJldiA9PiBwcmV2ID8geyAuLi5wcmV2LCBjdXJyZW50Q2hhcHRlcjogY2hhcHRlcklkIH0gOiBudWxsKTtcblxuICAgIC8vIOWPkemAgeWIh+aNoueroOiKgueahOa2iOaBr1xuICAgIGNvbnN0IHN3aXRjaE1lc3NhZ2UgPSBg5oiR5oOz6Lez6L2s5YiwXCIke2l0ZW0udGl0bGV9XCLov5nkuKrlsI/oioLov5vooYzlrabkuaDjgIJgO1xuICAgIGhhbmRsZVNlbmRNZXNzYWdlKHN3aXRjaE1lc3NhZ2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiDlpITnkIbmtojmga/mlLbol4/kuLrljaHniYdcbiAgICovXG4gIGNvbnN0IGhhbmRsZUJvb2ttYXJrTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZywgdHlwZTogJ2luc3BpcmF0aW9uJyB8ICdib29rbWFyaycsIHVzZXJOb3RlPzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFzZXNzaW9uIHx8ICFhcGlDb25maWcpIHJldHVybjtcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBzZXNzaW9uLm1lc3NhZ2VzLmZpbmQobSA9PiBtLmlkID09PSBtZXNzYWdlSWQpO1xuICAgIGlmICghbWVzc2FnZSB8fCBtZXNzYWdlLnJvbGUgIT09ICdhc3Npc3RhbnQnKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgLy8g5L2/55SoQUnnlJ/miJDnroDmtIHnmoTljaHniYfmoIfpophcbiAgICAgIGNvbnN0IHRpdGxlUmVzcG9uc2UgPSBhd2FpdCBzdW1tYXJpemVDYXJkVGl0bGUoYXBpQ29uZmlnLCBtZXNzYWdlLmNvbnRlbnQpO1xuICAgICAgY29uc3QgY2FyZFRpdGxlID0gdGl0bGVSZXNwb25zZS5zdWNjZXNzID8gdGl0bGVSZXNwb25zZS5kYXRhIDogbWVzc2FnZS5jb250ZW50LnN1YnN0cmluZygwLCAxMik7XG5cbiAgICAgIC8vIOWIm+W7uuWNoeeJh1xuICAgICAgY29uc3QgY2FyZDogTGVhcm5pbmdDYXJkID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVDYXJkSWQoKSxcbiAgICAgICAgdGl0bGU6IGNhcmRUaXRsZSxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICB1c2VyTm90ZSxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgdGFnczogW10sXG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgbmV4dFJldmlld0F0OiBEYXRlLm5vdygpICsgKDEgKiA2MCAqIDEwMDApLCAvLyAx5YiG6ZKf5ZCO5aSN5Lmg77yI5rWL6K+V55So77yJXG4gICAgICAgIHJldmlld0NvdW50OiAwLFxuICAgICAgICBkaWZmaWN1bHR5OiAzLFxuICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb24uaWQsXG4gICAgICAgIG1lc3NhZ2VJZDogbWVzc2FnZS5pZCxcbiAgICAgICAgY2hhcHRlcklkOiBzZXNzaW9uLmN1cnJlbnRDaGFwdGVyLFxuICAgICAgfTtcblxuICAgICAgLy8g5L+d5a2Y5Y2h54mHXG4gICAgICBjb25zdCBzdWNjZXNzID0gYWRkTGVhcm5pbmdDYXJkKHNlc3Npb24uaWQsIGNhcmQpO1xuICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgLy8g5pu05paw5raI5oGv55qE5pS26JeP54q25oCBXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRNZXNzYWdlcyA9IHNlc3Npb24ubWVzc2FnZXMubWFwKG0gPT5cbiAgICAgICAgICBtLmlkID09PSBtZXNzYWdlSWQgXG4gICAgICAgICAgICA/IHsgLi4ubSwgaXNCb29rbWFya2VkOiB0cnVlLCBjYXJkSWQ6IGNhcmQuaWQgfVxuICAgICAgICAgICAgOiBtXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBzZXRTZXNzaW9uKHByZXYgPT4gcHJldiA/IHsgLi4ucHJldiwgbWVzc2FnZXM6IHVwZGF0ZWRNZXNzYWdlcyB9IDogbnVsbCk7XG4gICAgICAgIHVwZGF0ZVNlc3Npb25NZXNzYWdlcyhzZXNzaW9uLmlkLCB1cGRhdGVkTWVzc2FnZXMpO1xuICAgICAgICBcbiAgICAgICAgLy8g5Yi35paw5Y2h54mH566h55CG5ZmoXG4gICAgICAgIHNldENhcmRNYW5hZ2VyS2V5KHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfliJvlu7rljaHniYflpLHotKU6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyDlpoLmnpxBSeiwg+eUqOWksei0pe+8jOS9v+eUqOWkh+eUqOaWueahiFxuICAgICAgY29uc3QgZmFsbGJhY2tUaXRsZSA9IG1lc3NhZ2UuY29udGVudC5zdWJzdHJpbmcoMCwgMTIpO1xuICAgICAgXG4gICAgICBjb25zdCBjYXJkOiBMZWFybmluZ0NhcmQgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUNhcmRJZCgpLFxuICAgICAgICB0aXRsZTogZmFsbGJhY2tUaXRsZSxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICB1c2VyTm90ZSxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgdGFnczogW10sXG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgbmV4dFJldmlld0F0OiBEYXRlLm5vdygpICsgKDEgKiA2MCAqIDEwMDApLFxuICAgICAgICByZXZpZXdDb3VudDogMCxcbiAgICAgICAgZGlmZmljdWx0eTogMyxcbiAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uLmlkLFxuICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIGNoYXB0ZXJJZDogc2Vzc2lvbi5jdXJyZW50Q2hhcHRlcixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhZGRMZWFybmluZ0NhcmQoc2Vzc2lvbi5pZCwgY2FyZCk7XG4gICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICBjb25zdCB1cGRhdGVkTWVzc2FnZXMgPSBzZXNzaW9uLm1lc3NhZ2VzLm1hcChtID0+XG4gICAgICAgICAgbS5pZCA9PT0gbWVzc2FnZUlkIFxuICAgICAgICAgICAgPyB7IC4uLm0sIGlzQm9va21hcmtlZDogdHJ1ZSwgY2FyZElkOiBjYXJkLmlkIH1cbiAgICAgICAgICAgIDogbVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgc2V0U2Vzc2lvbihwcmV2ID0+IHByZXYgPyB7IC4uLnByZXYsIG1lc3NhZ2VzOiB1cGRhdGVkTWVzc2FnZXMgfSA6IG51bGwpO1xuICAgICAgICB1cGRhdGVTZXNzaW9uTWVzc2FnZXMoc2Vzc2lvbi5pZCwgdXBkYXRlZE1lc3NhZ2VzKTtcbiAgICAgICAgc2V0Q2FyZE1hbmFnZXJLZXkocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiDov5Tlm57pppbpobVcbiAgICovXG4gIGNvbnN0IGhhbmRsZUdvQmFjayA9ICgpID0+IHtcbiAgICByb3V0ZXIucHVzaCgnLycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiDmoIforrDnq6DoioLkuLrlt7LlrozmiJBcbiAgICovXG4gIGNvbnN0IGhhbmRsZU1hcmtDaGFwdGVyQ29tcGxldGVkID0gYXN5bmMgKGNoYXB0ZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFzZXNzaW9uKSByZXR1cm47XG5cbiAgICBjb25zdCBzdWNjZXNzID0gbWFya0NoYXB0ZXJDb21wbGV0ZWQoc2Vzc2lvbi5pZCwgY2hhcHRlcklkKTtcbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgLy8g5pu05paw5pys5Zyw54q25oCBXG4gICAgICBzZXRTZXNzaW9uKHByZXYgPT4ge1xuICAgICAgICBpZiAoIXByZXYpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCB1cGRhdGVkT3V0bGluZSA9IHByZXYub3V0bGluZS5tYXAoaXRlbSA9PiBcbiAgICAgICAgICBpdGVtLmlkID09PSBjaGFwdGVySWQgXG4gICAgICAgICAgICA/IHsgLi4uaXRlbSwgaXNDb21wbGV0ZWQ6IHRydWUsIGNvbXBsZXRlZEF0OiBEYXRlLm5vdygpIH1cbiAgICAgICAgICAgIDogaXRlbVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4geyAuLi5wcmV2LCBvdXRsaW5lOiB1cGRhdGVkT3V0bGluZSB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiDorqHnrpflrozmiJDov5vluqZcbiAgICovXG4gIGNvbnN0IGdldENvbXBsZXRpb25TdGF0cyA9ICgpID0+IHtcbiAgICBpZiAoIXNlc3Npb24pIHJldHVybiB7IGNvbXBsZXRlZDogMCwgdG90YWw6IDAgfTtcbiAgICBcbiAgICBjb25zdCBjb21wbGV0ZWQgPSBzZXNzaW9uLm91dGxpbmUuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pc0NvbXBsZXRlZCkubGVuZ3RoO1xuICAgIGNvbnN0IHRvdGFsID0gc2Vzc2lvbi5vdXRsaW5lLmxlbmd0aDtcbiAgICBcbiAgICByZXR1cm4geyBjb21wbGV0ZWQsIHRvdGFsIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIOWkhOeQhuWNoeeJh+abtOaWsFxuICAgKi9cbiAgY29uc3QgaGFuZGxlQ2FyZHNVcGRhdGUgPSAoKSA9PiB7XG4gICAgc2V0Q2FyZE1hbmFnZXJLZXkocHJldiA9PiBwcmV2ICsgMSk7XG4gIH07XG5cbiAgaWYgKGlzTG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC0xMiB3LTEyIGJvcmRlci00IGJvcmRlci1wcmltYXJ5LTYwMCBib3JkZXItdC10cmFuc3BhcmVudCBteC1hdXRvIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+5Yqg6L295a2m5Lmg5Lya6K+d5LitLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoIXNlc3Npb24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj7kvJror53kuI3lrZjlnKg8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbWItNlwiPuivt+ajgOafpemTvuaOpeaYr+WQpuato+ehrjwvcD5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUdvQmFja30+6L+U5Zue6aaW6aG1PC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLXNjcmVlbiBiZy1ncmF5LTUwIGZsZXggZmxleC1jb2xcIj5cbiAgICAgIHsvKiDpobbpg6jlr7zoiKrmoI8gKi99XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImJnLXdoaXRlIGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBmbGV4LXNocmluay0wXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGgtMTYgcHgtNlwiPlxuICAgICAgICAgIHsvKiDlt6bkvqfkv6Hmga8gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVHb0JhY2t9XG4gICAgICAgICAgICAgIGljb249ezxBcnJvd0xlZnQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDov5Tlm55cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1sIGJvcmRlci1ncmF5LTMwMCBwbC00XCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCB0cnVuY2F0ZSBtYXgtdy1tZFwiPlxuICAgICAgICAgICAgICAgIHtzZXNzaW9uLnRpdGxlfVxuICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICB7c2Vzc2lvbi5sZWFybmluZ0xldmVsID09PSAnYmVnaW5uZXInID8gKFxuICAgICAgICAgICAgICAgICAgICA8VXNlciBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxaYXAgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAge3Nlc3Npb24ubGVhcm5pbmdMZXZlbCA9PT0gJ2JlZ2lubmVyJyA/ICflsI/nmb3mqKHlvI8nIDogJ+mrmOaJi+aooeW8jyd9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxzcGFuPsK3PC9zcGFuPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gZ2V0Q29tcGxldGlvblN0YXRzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtzdGF0cy5jb21wbGV0ZWR9LyR7c3RhdHMudG90YWx9IOS4queroOiKguW3suWujOaIkGA7XG4gICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8c3Bhbj7Ctzwvc3Bhbj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8c3Bhbj57c2Vzc2lvbi5tZXNzYWdlcy5maWx0ZXIobSA9PiBtLnJvbGUgIT09ICdzeXN0ZW0nKS5sZW5ndGh9IOadoeWvueivnTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiDlj7Pkvqfmk43kvZwgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAg5ouW5ou95Lit6Ze05YiG6ZqU5p2h5Y+v6LCD5pW06Z2i5p2/5aSn5bCPXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2hlYWRlcj5cblxuICAgICAgey8qIOS4u+S9k+WGheWuuSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGxcIj5cbiAgICAgICAgICB7Lyog5bem5L6n5aSn57qy6Z2i5p2/ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLzQgbWluLXctWzI1MHB4XSBtYXgtdy1bNDAwcHhdIGgtZnVsbCBiZy13aGl0ZSBib3JkZXItciBib3JkZXItZ3JheS0yMDAgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgey8qIOWkp+e6suWktOmDqCAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItNFwiPlxuICAgICAgICAgICAgICAgIDxCb29rT3BlbiBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtcHJpbWFyeS02MDBcIiAvPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMFwiPuWtpuS5oOWkp+e6sjwvaDI+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIOi/m+W6puS/oeaBryAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgPHA+5YWxIHtzZXNzaW9uLm91dGxpbmUubGVuZ3RofSDkuKrnq6DoioI8L3A+XG4gICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBnZXRDb21wbGV0aW9uU3RhdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IHN0YXRzLnRvdGFsID4gMCA/IE1hdGgucm91bmQoKHN0YXRzLmNvbXBsZXRlZCAvIHN0YXRzLnRvdGFsKSAqIDEwMCkgOiAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTYwMFwiPuW3suWujOaIkCB7c3RhdHMuY29tcGxldGVkfSDkuKogKHtwZXJjZW50YWdlfSUpPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JheS0yMDAgcm91bmRlZC1mdWxsIGgtMiBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmVlbi01MDAgaC0yIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgJHtwZXJjZW50YWdlfSVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge3Nlc3Npb24uY3VycmVudENoYXB0ZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXByaW1hcnktNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgIOW9k+WJje+8mntzZXNzaW9uLm91dGxpbmUuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IHNlc3Npb24uY3VycmVudENoYXB0ZXIpPy50aXRsZX1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7Lyog5aSn57qy5YaF5a65ICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtNlwiPlxuICAgICAgICAgICAgICA8T3V0bGluZUVkaXRvclxuICAgICAgICAgICAgICAgIGl0ZW1zPXtzZXNzaW9uLm91dGxpbmV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHt9fSAvLyDlrabkuaDmqKHlvI/kuIvkuI3lhYHorrjnvJbovpHlpKfnurJcbiAgICAgICAgICAgICAgICBhY3RpdmVDaGFwdGVySWQ9e3Nlc3Npb24uY3VycmVudENoYXB0ZXJ9XG4gICAgICAgICAgICAgICAgb25DaGFwdGVyQ2xpY2s9e2hhbmRsZUNoYXB0ZXJDbGlja31cbiAgICAgICAgICAgICAgICByZWFkb25seT17dHJ1ZX1cbiAgICAgICAgICAgICAgICBzaG93TnVtYmVycz17dHJ1ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiDnq6DoioLlrozmiJDmk43kvZwgKi99XG4gICAgICAgICAgICAgIHtzZXNzaW9uLmN1cnJlbnRDaGFwdGVyICYmIHNlc3Npb24ub3V0bGluZS5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gc2Vzc2lvbi5jdXJyZW50Q2hhcHRlcik/LnR5cGUgPT09ICdzZWN0aW9uJyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHB0LTQgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgIOW9k+WJjeWwj+iKguaTjeS9nO+8mlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlTWFya0NoYXB0ZXJDb21wbGV0ZWQoc2Vzc2lvbi5jdXJyZW50Q2hhcHRlciEpfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2Vzc2lvbi5vdXRsaW5lLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBzZXNzaW9uLmN1cnJlbnRDaGFwdGVyKT8uaXNDb21wbGV0ZWR9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtzZXNzaW9uLm91dGxpbmUuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IHNlc3Npb24uY3VycmVudENoYXB0ZXIpPy5pc0NvbXBsZXRlZCBcbiAgICAgICAgICAgICAgICAgICAgICA/ICfinIUg5bey5a6M5oiQJyBcbiAgICAgICAgICAgICAgICAgICAgICA6ICfmoIforrDkuLrlt7LlrozmiJAnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7Lyog5Lit6Ze06IGK5aSp55WM6Z2iICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGgtZnVsbCBmbGV4IGZsZXgtY29sIGJnLXdoaXRlIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgey8qIOiBiuWkqeWktOmDqCAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCBwLTQgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCBiZy1ncmFkaWVudC10by1iciBmcm9tLXNlY29uZGFyeS01MDAgdG8tc2Vjb25kYXJ5LTYwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxNZXNzYWdlQ2lyY2xlIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj5BSeengeaVmeWKqeaJizwvaDM+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAge3Nlc3Npb24ubGVhcm5pbmdMZXZlbCA9PT0gJ2JlZ2lubmVyJyBcbiAgICAgICAgICAgICAgICAgICAgICA/ICfogJDlv4PlvJXlr7zmqKHlvI/vvIzlvqrluo/muJDov5snIFxuICAgICAgICAgICAgICAgICAgICAgIDogJ+mrmOaViOWtpuS5oOaooeW8j++8jOebtOWHu+mHjeeCuSdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7Lyog6IGK5aSp5YaF5a65ICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgIDxDaGF0SW50ZXJmYWNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM9e3Nlc3Npb24ubWVzc2FnZXMuZmlsdGVyKG0gPT4gbS5yb2xlICE9PSAnc3lzdGVtJyl9XG4gICAgICAgICAgICAgICAgb25TZW5kTWVzc2FnZT17aGFuZGxlU2VuZE1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgb25Cb29rbWFya01lc3NhZ2U9e2hhbmRsZUJvb2ttYXJrTWVzc2FnZX1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtpc1NlbmRpbmdNZXNzYWdlfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6L6T5YWl5oKo55qE6Zeu6aKY5oiW5Zue5bqULi4uXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTZW5kaW5nTWVzc2FnZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIOWPs+S+p+WNoeeJh+euoeeQhumdouadvyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMS81IG1pbi13LVsyODBweF0gbWF4LXctWzM1MHB4XSBoLWZ1bGxcIj5cbiAgICAgICAgICAgIDxDYXJkTWFuYWdlclxuICAgICAgICAgICAgICBrZXk9e2NhcmRNYW5hZ2VyS2V5fVxuICAgICAgICAgICAgICBzZXNzaW9uSWQ9e3Nlc3Npb24uaWR9XG4gICAgICAgICAgICAgIG9uQ2FyZHNVcGRhdGU9e2hhbmRsZUNhcmRzVXBkYXRlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExlYXJuUGFnZTsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJvdXRlciIsIkFycm93TGVmdCIsIkJvb2tPcGVuIiwiTWVzc2FnZUNpcmNsZSIsIlVzZXIiLCJaYXAiLCJCdXR0b24iLCJPdXRsaW5lRWRpdG9yIiwiQ2hhdEludGVyZmFjZSIsIkNhcmRNYW5hZ2VyIiwiZ2V0U2Vzc2lvbkJ5SWQiLCJzYXZlU2Vzc2lvbiIsInVwZGF0ZVNlc3Npb25NZXNzYWdlcyIsInVwZGF0ZVNlc3Npb25DdXJyZW50Q2hhcHRlciIsImdldEFQSUNvbmZpZyIsIm1hcmtDaGFwdGVyQ29tcGxldGVkIiwiYWRkTGVhcm5pbmdDYXJkIiwic2VuZENoYXRNZXNzYWdlIiwic3VtbWFyaXplQ2FyZFRpdGxlIiwiTGVhcm5QYWdlIiwic2Vzc2lvbiIsInJvdXRlciIsInNlc3Npb25JZCIsInF1ZXJ5Iiwic2V0U2Vzc2lvbiIsImFwaUNvbmZpZyIsInNldEFwaUNvbmZpZyIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImlzU2VuZGluZ01lc3NhZ2UiLCJzZXRJc1NlbmRpbmdNZXNzYWdlIiwiY2FyZE1hbmFnZXJLZXkiLCJzZXRDYXJkTWFuYWdlcktleSIsImxvYWRTZXNzaW9uIiwibG9hZGVkU2Vzc2lvbiIsImxvYWRlZENvbmZpZyIsImFsZXJ0IiwicHVzaCIsIm1lc3NhZ2VzIiwibGVuZ3RoIiwiaW5pdGlhbGl6ZUNoYXQiLCJlcnJvciIsImNvbnNvbGUiLCJnZW5lcmF0ZU1lc3NhZ2VJZCIsIk1hdGgiLCJEYXRlIiwibm93IiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJnZW5lcmF0ZUNhcmRJZCIsInNlc3Npb25EYXRhIiwiY29uZmlnIiwiZmlyc3RTZWN0aW9uIiwib3V0bGluZSIsImZpbmQiLCJpdGVtIiwidHlwZSIsInN5c3RlbU1lc3NhZ2UiLCJpZCIsInJvbGUiLCJjb250ZW50IiwidGl0bGUiLCJsZWFybmluZ0xldmVsIiwidGltZXN0YW1wIiwid2VsY29tZU1lc3NhZ2UiLCJpbml0aWFsTWVzc2FnZXMiLCJ1cGRhdGVkU2Vzc2lvbiIsImN1cnJlbnRDaGFwdGVyIiwiZmluZE5leHRTZWN0aW9uIiwiY3VycmVudEluZGV4IiwiaSIsImxvZyIsImhhbmRsZVNlbmRNZXNzYWdlIiwidXNlck1lc3NhZ2UiLCJ1cGRhdGVkTWVzc2FnZXMiLCJwcmV2IiwicmVzcG9uc2UiLCJkb2N1bWVudENvbnRlbnQiLCJzdWNjZXNzIiwiZGF0YSIsImFzc2lzdGFudE1lc3NhZ2UiLCJmaW5hbE1lc3NhZ2VzIiwiY2hlY2tBbmRVcGRhdGVDdXJyZW50Q2hhcHRlciIsIkVycm9yIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsIm1lc3NhZ2VzV2l0aEVycm9yIiwiYWlSZXNwb25zZSIsImxvd2VyUmVzcG9uc2UiLCJ0b0xvd2VyQ2FzZSIsInVzZXJNZXNzYWdlRm9ySnVtcCIsImZpbHRlciIsIm0iLCJwb3AiLCJ1c2VyU2VjdGlvblBhdHRlcm4iLCJ1c2VyU2VjdGlvbk1hdGNoZXMiLCJtYXRjaEFsbCIsImxhc3RNYXRjaCIsInNlY3Rpb25OdW1iZXIiLCJ0YXJnZXRTZWN0aW9uIiwiaW5jbHVkZXMiLCJoYW5kbGVNYXJrQ2hhcHRlckNvbXBsZXRlZCIsImFpU2VjdGlvblBhdHRlcm4iLCJhaVNlY3Rpb25NYXRjaGVzIiwiY29tcGxldGlvbktleXdvcmRzIiwic29tZSIsImtleXdvcmQiLCJjb21wbGV0ZWRTZWN0aW9uSWQiLCJjb21wbGV0ZWRTZWN0aW9uUGF0dGVybiIsImNvbXBsZXRlZE1hdGNoZXMiLCJjb21wbGV0ZWROdW1iZXIiLCJjb21wbGV0ZWRTZWN0aW9uIiwidGl0bGVXaXRob3V0TnVtYmVyIiwicmVwbGFjZSIsInRyaW0iLCJ1c2VyUmVxdWVzdE5leHRLZXl3b3JkcyIsInVzZXJNZXNzYWdlRm9yTmV4dCIsImZpbmRJbmRleCIsIm1hcCIsImluZGV4IiwibmV4dFNlY3Rpb24iLCJjaGFwdGVyRm91bmRBbmRVcGRhdGVkIiwidGl0bGVQYXR0ZXJucyIsInBhdHRlcm4iLCJoYW5kbGVDaGFwdGVyQ2xpY2siLCJjaGFwdGVySWQiLCJzd2l0Y2hNZXNzYWdlIiwiaGFuZGxlQm9va21hcmtNZXNzYWdlIiwibWVzc2FnZUlkIiwidXNlck5vdGUiLCJ0aXRsZVJlc3BvbnNlIiwiY2FyZFRpdGxlIiwic3Vic3RyaW5nIiwiY2FyZCIsInRhZ3MiLCJjcmVhdGVkQXQiLCJuZXh0UmV2aWV3QXQiLCJyZXZpZXdDb3VudCIsImRpZmZpY3VsdHkiLCJpc0Jvb2ttYXJrZWQiLCJjYXJkSWQiLCJmYWxsYmFja1RpdGxlIiwiaGFuZGxlR29CYWNrIiwidXBkYXRlZE91dGxpbmUiLCJpc0NvbXBsZXRlZCIsImNvbXBsZXRlZEF0IiwiZ2V0Q29tcGxldGlvblN0YXRzIiwiY29tcGxldGVkIiwidG90YWwiLCJoYW5kbGVDYXJkc1VwZGF0ZSIsImRpdiIsImNsYXNzTmFtZSIsInAiLCJoMiIsIm9uQ2xpY2siLCJoZWFkZXIiLCJ2YXJpYW50Iiwic2l6ZSIsImljb24iLCJoMSIsInNwYW4iLCJzdGF0cyIsInBlcmNlbnRhZ2UiLCJyb3VuZCIsInN0eWxlIiwid2lkdGgiLCJpdGVtcyIsIm9uQ2hhbmdlIiwiYWN0aXZlQ2hhcHRlcklkIiwib25DaGFwdGVyQ2xpY2siLCJyZWFkb25seSIsInNob3dOdW1iZXJzIiwiZGlzYWJsZWQiLCJoMyIsIm9uU2VuZE1lc3NhZ2UiLCJvbkJvb2ttYXJrTWVzc2FnZSIsImxvYWRpbmciLCJwbGFjZWhvbGRlciIsIm9uQ2FyZHNVcGRhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/learn/[sessionId].tsx\n"));

/***/ })

});