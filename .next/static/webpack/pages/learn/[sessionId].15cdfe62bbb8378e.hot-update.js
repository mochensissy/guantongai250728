"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/learn/[sessionId]",{

/***/ "./pages/learn/[sessionId].tsx":
/*!*************************************!*\
  !*** ./pages/learn/[sessionId].tsx ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,BookOpen,MessageCircle,User,Zap!=!lucide-react */ \"__barrel_optimize__?names=ArrowLeft,BookOpen,MessageCircle,User,Zap!=!./node_modules/lucide-react/dist/esm/lucide-react.js\");\n/* harmony import */ var _src_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../src/components/ui/Button */ \"./src/components/ui/Button.tsx\");\n/* harmony import */ var _src_components_OutlineEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../src/components/OutlineEditor */ \"./src/components/OutlineEditor.tsx\");\n/* harmony import */ var _src_components_ChatInterface__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../src/components/ChatInterface */ \"./src/components/ChatInterface.tsx\");\n/* harmony import */ var _src_components_CardManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../src/components/CardManager */ \"./src/components/CardManager.tsx\");\n/* harmony import */ var _src_utils_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../src/utils/storage */ \"./src/utils/storage.ts\");\n/* harmony import */ var _src_utils_aiService__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../src/utils/aiService */ \"./src/utils/aiService.ts\");\n/**\n * 学习会话页面\n * \n * 提供双栏布局的学习界面：\n * - 左侧：学习大纲导航\n * - 右侧：AI私教对话界面\n * - 大纲与对话的双向同步\n * - 学习进度跟踪\n */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nconst LearnPage = ()=>{\n    var _session_outline_find, _session_outline_find1, _session_outline_find2, _session_outline_find3;\n    _s();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const { sessionId } = router.query;\n    // 状态管理\n    const [session, setSession] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [apiConfig, setApiConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isSendingMessage, setIsSendingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cardManagerKey, setCardManagerKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    /**\n   * 初始化会话数据\n   */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!sessionId || typeof sessionId !== \"string\") return;\n        const loadSession = ()=>{\n            try {\n                const loadedSession = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.getSessionById)(sessionId);\n                const loadedConfig = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.getAPIConfig)();\n                if (!loadedSession) {\n                    alert(\"学习会话不存在\");\n                    router.push(\"/\");\n                    return;\n                }\n                if (!loadedConfig) {\n                    alert(\"API配置丢失，请重新配置\");\n                    router.push(\"/\");\n                    return;\n                }\n                setSession(loadedSession);\n                setApiConfig(loadedConfig);\n                // 如果是新会话且没有消息，发送初始消息\n                if (loadedSession.messages.length === 0) {\n                    initializeChat(loadedSession, loadedConfig);\n                }\n            } catch (error) {\n                console.error(\"加载会话失败:\", error);\n                alert(\"加载会话失败\");\n                router.push(\"/\");\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        loadSession();\n    }, [\n        sessionId,\n        router\n    ]);\n    /**\n   * 生成消息ID\n   */ const generateMessageId = ()=>{\n        return \"msg-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n    };\n    /**\n   * 生成卡片ID\n   */ const generateCardId = ()=>{\n        return \"card-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n    };\n    /**\n   * 初始化聊天\n   */ const initializeChat = async (sessionData, config)=>{\n        // 找到第一个小节作为初始学习目标\n        const firstSection = sessionData.outline.find((item)=>item.type === \"section\");\n        // 创建系统初始化消息\n        const systemMessage = {\n            id: generateMessageId(),\n            role: \"system\",\n            content: \"学习会话已开始。文档标题：\".concat(sessionData.title, \"，学习水平：\").concat(sessionData.learningLevel === \"beginner\" ? \"小白\" : \"高手\", \"模式。\"),\n            timestamp: Date.now()\n        };\n        const welcomeMessage = {\n            id: generateMessageId(),\n            role: \"assistant\",\n            content: \"你好！我将作为你的私人导师，帮助你更好的理解你上传的材料《\".concat(sessionData.title, \"》。为了给您提供最合适的教学体验，我将根据你之前选择的\").concat(sessionData.learningLevel === \"beginner\" ? \"小白\" : \"高手\", \"模式来跟你互动。\\n\\n看完左边这个课程大纲了吗？我们是按照这个顺序从第一章开始，还是您想先跳到某个您特别感兴趣的章节？\"),\n            timestamp: Date.now()\n        };\n        const initialMessages = [\n            systemMessage,\n            welcomeMessage\n        ];\n        // 更新会话\n        const updatedSession = {\n            ...sessionData,\n            messages: initialMessages,\n            currentChapter: firstSection === null || firstSection === void 0 ? void 0 : firstSection.id\n        };\n        setSession(updatedSession);\n        // 保存会话和当前章节\n        (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.saveSession)(updatedSession);\n    };\n    /**\n   * 发送消息给AI\n   */ const handleSendMessage = async (content)=>{\n        if (!session || !apiConfig || isSendingMessage) return;\n        setIsSendingMessage(true);\n        try {\n            // 创建用户消息\n            const userMessage = {\n                id: generateMessageId(),\n                role: \"user\",\n                content,\n                timestamp: Date.now()\n            };\n            // 更新消息列表\n            const updatedMessages = [\n                ...session.messages,\n                userMessage\n            ];\n            setSession((prev)=>prev ? {\n                    ...prev,\n                    messages: updatedMessages\n                } : null);\n            // 发送给AI\n            const response = await (0,_src_utils_aiService__WEBPACK_IMPORTED_MODULE_8__.sendChatMessage)(apiConfig, updatedMessages, session.documentContent, session.outline, session.learningLevel);\n            if (response.success && response.data) {\n                // 创建AI回复消息\n                const assistantMessage = {\n                    id: generateMessageId(),\n                    role: \"assistant\",\n                    content: response.data,\n                    timestamp: Date.now()\n                };\n                const finalMessages = [\n                    ...updatedMessages,\n                    assistantMessage\n                ];\n                // 更新本地状态\n                setSession((prev)=>prev ? {\n                        ...prev,\n                        messages: finalMessages\n                    } : null);\n                // 保存到存储\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionMessages)(session.id, finalMessages);\n                // 检查是否需要更新当前章节\n                await checkAndUpdateCurrentChapter(response.data, session);\n            } else {\n                throw new Error(response.error || \"AI响应失败\");\n            }\n        } catch (error) {\n            console.error(\"发送消息失败:\", error);\n            // 创建错误消息\n            const errorMessage = {\n                id: generateMessageId(),\n                role: \"system\",\n                content: \"发送失败: \".concat(error instanceof Error ? error.message : \"未知错误\"),\n                timestamp: Date.now()\n            };\n            setSession((prev)=>{\n                if (!prev) return null;\n                const messagesWithError = [\n                    ...prev.messages,\n                    errorMessage\n                ];\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionMessages)(prev.id, messagesWithError);\n                return {\n                    ...prev,\n                    messages: messagesWithError\n                };\n            });\n        } finally{\n            setIsSendingMessage(false);\n        }\n    };\n    /**\n   * 检查并更新当前章节\n   */ const checkAndUpdateCurrentChapter = async (aiResponse, sessionData)=>{\n        // 1. 首先检查AI是否明确提到了具体的小节编号\n        const lowerResponse = aiResponse.toLowerCase();\n        // 检查是否有明确的小节编号提及（如\"1.2小节\"、\"现在学习2.1\"等）\n        const sectionNumberPattern = /(?:现在|开始|进入|学习).*?(\\d+\\.\\d+)(?:小节|节)/g;\n        const sectionMatches = [\n            ...aiResponse.matchAll(sectionNumberPattern)\n        ];\n        if (sectionMatches.length > 0) {\n            // 找到最后一个提到的小节编号\n            const lastMatch = sectionMatches[sectionMatches.length - 1];\n            const sectionNumber = lastMatch[1];\n            // 在大纲中查找对应的小节\n            const targetSection = sessionData.outline.find((item)=>item.type === \"section\" && item.title.includes(sectionNumber));\n            if (targetSection && sessionData.currentChapter !== targetSection.id) {\n                console.log(\"AI明确提到小节 \".concat(sectionNumber, \"，切换到:\"), targetSection.title);\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(sessionData.id, targetSection.id);\n                setSession((prev)=>prev ? {\n                        ...prev,\n                        currentChapter: targetSection.id\n                    } : null);\n                return; // 找到明确的小节，直接返回\n            }\n        }\n        // 2. 检查AI是否提到了小节完成的关键词\n        const completionKeywords = [\n            \"完成了\",\n            \"已经完成了\",\n            \"我们完成了\",\n            \"刚才完成了\",\n            \"学习完了\",\n            \"已经学完了\",\n            \"我们学完了\",\n            \"结束了\",\n            \"已经结束了\",\n            \"我们结束了\",\n            \"这一节就到这里\",\n            \"本节内容结束\",\n            \"这个小节的内容就讲完了\",\n            \"本小节到此结束\"\n        ];\n        // 如果AI提到了完成关键词\n        if (completionKeywords.some((keyword)=>lowerResponse.includes(keyword))) {\n            let completedSectionId = null;\n            // 检查是否提到了具体的小节编号（用于标记完成）\n            const completedSectionPattern = /(?:完成了|学完了|结束了).*?(\\d+\\.\\d+)(?:小节|节)/g;\n            const completedMatches = [\n                ...aiResponse.matchAll(completedSectionPattern)\n            ];\n            if (completedMatches.length > 0) {\n                const completedNumber = completedMatches[0][1];\n                const completedSection = sessionData.outline.find((item)=>item.type === \"section\" && item.title.includes(completedNumber));\n                if (completedSection) {\n                    completedSectionId = completedSection.id;\n                }\n            }\n            // 如果没有明确的编号，尝试通过小节标题匹配\n            if (!completedSectionId) {\n                for (const item of sessionData.outline){\n                    if (item.type === \"section\") {\n                        const titleWithoutNumber = item.title.replace(/^\\d+\\.\\d+\\s*/, \"\").trim();\n                        if (titleWithoutNumber && aiResponse.includes(titleWithoutNumber)) {\n                            completedSectionId = item.id;\n                            break;\n                        }\n                    }\n                }\n            }\n            // 如果还是没找到，使用当前章节\n            if (!completedSectionId && sessionData.currentChapter) {\n                completedSectionId = sessionData.currentChapter;\n            }\n            // 标记找到的小节为完成\n            if (completedSectionId) {\n                console.log(\"标记小节为完成:\", completedSectionId);\n                await handleMarkChapterCompleted(completedSectionId);\n            }\n        }\n        // 3. 检查是否用户明确要求进入下一节\n        // 注意：根据新的\"一步一停\"教学模式，我们不应该因为AI提到\"接下来\"就自动推进\n        // 只有当用户明确要求或AI明确说明整个小节已经完成时才推进\n        const userRequestNextKeywords = [\n            \"我想学下一节\",\n            \"进入下一节吧\",\n            \"开始下一节\",\n            \"下一个小节\",\n            \"继续下一节\",\n            \"跳到下一节\",\n            \"下一章吧\",\n            \"进入下一章\",\n            \"开始下一章\",\n            \"下一个章节\",\n            \"继续下一章\",\n            \"下个章节\"\n        ];\n        // 只有当用户的消息中包含这些关键词时才考虑推进\n        const lastUserMessage = sessionData.messages.filter((m)=>m.role === \"user\").pop();\n        if (lastUserMessage && userRequestNextKeywords.some((keyword)=>lastUserMessage.content.toLowerCase().includes(keyword))) {\n            // 如果没有明确指定小节编号，自动推进到下一个小节\n            if (!sectionMatches.length && sessionData.currentChapter) {\n                const currentIndex = sessionData.outline.findIndex((item)=>item.id === sessionData.currentChapter);\n                if (currentIndex >= 0) {\n                    // 查找下一个小节（跳过章节标题）\n                    for(let i = currentIndex + 1; i < sessionData.outline.length; i++){\n                        if (sessionData.outline[i].type === \"section\") {\n                            const nextSection = sessionData.outline[i];\n                            console.log(\"用户要求推进到下一小节:\", nextSection.title);\n                            (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(sessionData.id, nextSection.id);\n                            setSession((prev)=>prev ? {\n                                    ...prev,\n                                    currentChapter: nextSection.id\n                                } : null);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        // 4. 检查AI是否提到了具体的小节标题（用于切换章节）\n        let chapterFoundAndUpdated = false;\n        for (const item of sessionData.outline){\n            if (item.type === \"section\" && !chapterFoundAndUpdated) {\n                // 检查是否提到了小节的核心标题\n                const titleWithoutNumber = item.title.replace(/^\\d+\\.\\d+\\s*/, \"\").trim();\n                if (titleWithoutNumber.length > 2) {\n                    const titlePatterns = [\n                        \"学习\".concat(titleWithoutNumber),\n                        \"开始\".concat(titleWithoutNumber),\n                        \"进入\".concat(titleWithoutNumber),\n                        \"讲解\".concat(titleWithoutNumber),\n                        \"\".concat(titleWithoutNumber, \"的内容\"),\n                        \"\".concat(titleWithoutNumber, \"部分\")\n                    ];\n                    if (titlePatterns.some((pattern)=>aiResponse.includes(pattern))) {\n                        if (sessionData.currentChapter !== item.id) {\n                            console.log(\"通过标题匹配切换章节:\", item.title);\n                            (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(sessionData.id, item.id);\n                            setSession((prev)=>prev ? {\n                                    ...prev,\n                                    currentChapter: item.id\n                                } : null);\n                            chapterFoundAndUpdated = true;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n   * 处理章节点击\n   */ const handleChapterClick = (chapterId)=>{\n        if (!session || isSendingMessage) return;\n        const item = session.outline.find((item)=>item.id === chapterId);\n        if (!item) return;\n        // 只有小节（section）才能点击学习，章节（chapter）只是标题\n        if (item.type === \"chapter\") return;\n        // 更新当前章节\n        (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(session.id, chapterId);\n        setSession((prev)=>prev ? {\n                ...prev,\n                currentChapter: chapterId\n            } : null);\n        // 发送切换章节的消息\n        const switchMessage = '我想跳转到\"'.concat(item.title, '\"这个小节进行学习。');\n        handleSendMessage(switchMessage);\n    };\n    /**\n   * 处理消息收藏为卡片\n   */ const handleBookmarkMessage = async (messageId, type, userNote)=>{\n        if (!session || !apiConfig) return;\n        const message = session.messages.find((m)=>m.id === messageId);\n        if (!message || message.role !== \"assistant\") return;\n        try {\n            // 使用AI生成简洁的卡片标题\n            const titleResponse = await (0,_src_utils_aiService__WEBPACK_IMPORTED_MODULE_8__.summarizeCardTitle)(apiConfig, message.content);\n            const cardTitle = titleResponse.success ? titleResponse.data : message.content.substring(0, 12);\n            // 创建卡片\n            const card = {\n                id: generateCardId(),\n                title: cardTitle,\n                content: message.content,\n                userNote,\n                type,\n                tags: [],\n                createdAt: Date.now(),\n                nextReviewAt: Date.now() + 1 * 60 * 1000,\n                reviewCount: 0,\n                difficulty: 3,\n                sessionId: session.id,\n                messageId: message.id,\n                chapterId: session.currentChapter\n            };\n            // 保存卡片\n            const success = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.addLearningCard)(session.id, card);\n            if (success) {\n                // 更新消息的收藏状态\n                const updatedMessages = session.messages.map((m)=>m.id === messageId ? {\n                        ...m,\n                        isBookmarked: true,\n                        cardId: card.id\n                    } : m);\n                setSession((prev)=>prev ? {\n                        ...prev,\n                        messages: updatedMessages\n                    } : null);\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionMessages)(session.id, updatedMessages);\n                // 刷新卡片管理器\n                setCardManagerKey((prev)=>prev + 1);\n            }\n        } catch (error) {\n            console.error(\"创建卡片失败:\", error);\n            // 如果AI调用失败，使用备用方案\n            const fallbackTitle = message.content.substring(0, 12);\n            const card = {\n                id: generateCardId(),\n                title: fallbackTitle,\n                content: message.content,\n                userNote,\n                type,\n                tags: [],\n                createdAt: Date.now(),\n                nextReviewAt: Date.now() + 1 * 60 * 1000,\n                reviewCount: 0,\n                difficulty: 3,\n                sessionId: session.id,\n                messageId: message.id,\n                chapterId: session.currentChapter\n            };\n            const success = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.addLearningCard)(session.id, card);\n            if (success) {\n                const updatedMessages = session.messages.map((m)=>m.id === messageId ? {\n                        ...m,\n                        isBookmarked: true,\n                        cardId: card.id\n                    } : m);\n                setSession((prev)=>prev ? {\n                        ...prev,\n                        messages: updatedMessages\n                    } : null);\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionMessages)(session.id, updatedMessages);\n                setCardManagerKey((prev)=>prev + 1);\n            }\n        }\n    };\n    /**\n   * 返回首页\n   */ const handleGoBack = ()=>{\n        router.push(\"/\");\n    };\n    /**\n   * 标记章节为已完成\n   */ const handleMarkChapterCompleted = async (chapterId)=>{\n        if (!session) return;\n        const success = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.markChapterCompleted)(session.id, chapterId);\n        if (success) {\n            // 更新本地状态\n            setSession((prev)=>{\n                if (!prev) return null;\n                const updatedOutline = prev.outline.map((item)=>item.id === chapterId ? {\n                        ...item,\n                        isCompleted: true,\n                        completedAt: Date.now()\n                    } : item);\n                return {\n                    ...prev,\n                    outline: updatedOutline\n                };\n            });\n        }\n    };\n    /**\n   * 计算完成进度\n   */ const getCompletionStats = ()=>{\n        if (!session) return {\n            completed: 0,\n            total: 0\n        };\n        const completed = session.outline.filter((item)=>item.isCompleted).length;\n        const total = session.outline.length;\n        return {\n            completed,\n            total\n        };\n    };\n    /**\n   * 处理卡片更新\n   */ const handleCardsUpdate = ()=>{\n        setCardManagerKey((prev)=>prev + 1);\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent mx-auto mb-4\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                        lineNumber: 511,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600\",\n                        children: \"加载学习会话中...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                        lineNumber: 512,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                lineNumber: 510,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n            lineNumber: 509,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (!session) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-gray-900 mb-4\",\n                        children: \"会话不存在\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                        lineNumber: 522,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600 mb-6\",\n                        children: \"请检查链接是否正确\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                        lineNumber: 523,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        onClick: handleGoBack,\n                        children: \"返回首页\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                        lineNumber: 524,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                lineNumber: 521,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n            lineNumber: 520,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen bg-gray-50 flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"bg-white border-b border-gray-200 flex-shrink-0\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between h-16 px-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    variant: \"ghost\",\n                                    size: \"sm\",\n                                    onClick: handleGoBack,\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.ArrowLeft, {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                        lineNumber: 541,\n                                        columnNumber: 21\n                                    }, void 0),\n                                    children: \"返回\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                    lineNumber: 537,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-l border-gray-300 pl-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                            className: \"text-lg font-semibold text-gray-900 truncate max-w-md\",\n                                            children: session.title\n                                        }, void 0, false, {\n                                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                            lineNumber: 547,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-3 text-sm text-gray-500\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"flex items-center gap-1\",\n                                                    children: [\n                                                        session.learningLevel === \"beginner\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.User, {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                            lineNumber: 553,\n                                                            columnNumber: 21\n                                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.Zap, {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                            lineNumber: 555,\n                                                            columnNumber: 21\n                                                        }, undefined),\n                                                        session.learningLevel === \"beginner\" ? \"小白模式\" : \"高手模式\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 551,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 560,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: (()=>{\n                                                        const stats = getCompletionStats();\n                                                        return \"\".concat(stats.completed, \"/\").concat(stats.total, \" 个章节已完成\");\n                                                    })()\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 562,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 569,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        session.messages.filter((m)=>m.role !== \"system\").length,\n                                                        \" 条对话\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 571,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                            lineNumber: 550,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                    lineNumber: 546,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                            lineNumber: 536,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-gray-500\",\n                                children: \"拖拽中间分隔条可调整面板大小\"\n                            }, void 0, false, {\n                                fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                lineNumber: 578,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                            lineNumber: 577,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                    lineNumber: 534,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                lineNumber: 533,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex overflow-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex w-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-1/4 min-w-[250px] max-w-[400px] h-full bg-white border-r border-gray-200 flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-6 border-b border-gray-200 flex-shrink-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2 mb-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.BookOpen, {\n                                                    className: \"w-5 h-5 text-primary-600\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 593,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                    className: \"text-lg font-semibold text-gray-900\",\n                                                    children: \"学习大纲\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 594,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                            lineNumber: 592,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm text-gray-600\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            children: [\n                                                                \"共 \",\n                                                                session.outline.length,\n                                                                \" 个章节\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                            lineNumber: 600,\n                                                            columnNumber: 19\n                                                        }, undefined),\n                                                        (()=>{\n                                                            const stats = getCompletionStats();\n                                                            const percentage = stats.total > 0 ? Math.round(stats.completed / stats.total * 100) : 0;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-green-600\",\n                                                                        children: [\n                                                                            \"已完成 \",\n                                                                            stats.completed,\n                                                                            \" 个 (\",\n                                                                            percentage,\n                                                                            \"%)\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                                        lineNumber: 606,\n                                                                        columnNumber: 25\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"w-full bg-gray-200 rounded-full h-2 mt-1\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"bg-green-500 h-2 rounded-full transition-all duration-300\",\n                                                                            style: {\n                                                                                width: \"\".concat(percentage, \"%\")\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                                            lineNumber: 608,\n                                                                            columnNumber: 27\n                                                                        }, undefined)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                                        lineNumber: 607,\n                                                                        columnNumber: 25\n                                                                    }, undefined)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                                lineNumber: 605,\n                                                                columnNumber: 23\n                                                            }, undefined);\n                                                        })()\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 599,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                session.currentChapter && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"mt-2 text-primary-600\",\n                                                    children: [\n                                                        \"当前：\",\n                                                        (_session_outline_find = session.outline.find((item)=>item.id === session.currentChapter)) === null || _session_outline_find === void 0 ? void 0 : _session_outline_find.title\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 618,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                            lineNumber: 598,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                    lineNumber: 591,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-y-auto p-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_OutlineEditor__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            items: session.outline,\n                                            onChange: ()=>{},\n                                            activeChapterId: session.currentChapter,\n                                            onChapterClick: handleChapterClick,\n                                            readonly: true,\n                                            showNumbers: true\n                                        }, void 0, false, {\n                                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                            lineNumber: 627,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        session.currentChapter && ((_session_outline_find1 = session.outline.find((item)=>item.id === session.currentChapter)) === null || _session_outline_find1 === void 0 ? void 0 : _session_outline_find1.type) === \"section\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-4 pt-4 border-t border-gray-200\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm text-gray-600 mb-2\",\n                                                    children: \"当前小节操作：\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 639,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                                    variant: \"outline\",\n                                                    size: \"sm\",\n                                                    onClick: ()=>handleMarkChapterCompleted(session.currentChapter),\n                                                    disabled: (_session_outline_find2 = session.outline.find((item)=>item.id === session.currentChapter)) === null || _session_outline_find2 === void 0 ? void 0 : _session_outline_find2.isCompleted,\n                                                    className: \"w-full\",\n                                                    children: ((_session_outline_find3 = session.outline.find((item)=>item.id === session.currentChapter)) === null || _session_outline_find3 === void 0 ? void 0 : _session_outline_find3.isCompleted) ? \"✅ 已完成\" : \"标记为已完成\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 642,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                            lineNumber: 638,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                    lineNumber: 626,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                            lineNumber: 589,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 h-full flex flex-col bg-white overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-shrink-0 p-4 border-b border-gray-200\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-10 h-10 bg-gradient-to-br from-secondary-500 to-secondary-600 rounded-full flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.MessageCircle, {\n                                                    className: \"w-5 h-5 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 665,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                lineNumber: 664,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                        className: \"font-semibold text-gray-900\",\n                                                        children: \"AI私教助手\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                        lineNumber: 668,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-gray-500\",\n                                                        children: session.learningLevel === \"beginner\" ? \"耐心引导模式，循序渐进\" : \"高效学习模式，直击重点\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                        lineNumber: 669,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                                lineNumber: 667,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                        lineNumber: 663,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                    lineNumber: 662,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-hidden\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ChatInterface__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                        messages: session.messages.filter((m)=>m.role !== \"system\"),\n                                        onSendMessage: handleSendMessage,\n                                        onBookmarkMessage: handleBookmarkMessage,\n                                        loading: isSendingMessage,\n                                        placeholder: \"输入您的问题或回应...\",\n                                        disabled: isSendingMessage\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                        lineNumber: 681,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                    lineNumber: 680,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                            lineNumber: 660,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-1/5 min-w-[280px] max-w-[350px] h-full\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_CardManager__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                sessionId: session.id,\n                                onCardsUpdate: handleCardsUpdate\n                            }, cardManagerKey, false, {\n                                fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                                lineNumber: 694,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                            lineNumber: 693,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                    lineNumber: 587,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n                lineNumber: 586,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/hubai/Documents/AI提效项目开发/250728私教互动平台--外观完整但对话不行版本/pages/learn/[sessionId].tsx\",\n        lineNumber: 531,\n        columnNumber: 5\n    }, undefined);\n};\n_s(LearnPage, \"JI6NQCD7KQ9++W6FjyohJQMDkhw=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = LearnPage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (LearnPage);\nvar _c;\n$RefreshReg$(_c, \"LearnPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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XS50c3g/ZTZkYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOWtpuS5oOS8muivnemhtemdolxuICogXG4gKiDmj5Dkvpvlj4zmoI/luIPlsYDnmoTlrabkuaDnlYzpnaLvvJpcbiAqIC0g5bem5L6n77ya5a2m5Lmg5aSn57qy5a+86IiqXG4gKiAtIOWPs+S+p++8mkFJ56eB5pWZ5a+56K+d55WM6Z2iXG4gKiAtIOWkp+e6suS4juWvueivneeahOWPjOWQkeWQjOatpVxuICogLSDlrabkuaDov5vluqbot5/ouKpcbiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IEFycm93TGVmdCwgU2V0dGluZ3MsIEJvb2tPcGVuLCBNZXNzYWdlQ2lyY2xlLCBVc2VyLCBaYXAgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi8uLi9zcmMvY29tcG9uZW50cy91aS9CdXR0b24nO1xuaW1wb3J0IFJlc2l6YWJsZVBhbmVsIGZyb20gJy4uLy4uL3NyYy9jb21wb25lbnRzL1Jlc2l6YWJsZVBhbmVsJztcbmltcG9ydCBPdXRsaW5lRWRpdG9yIGZyb20gJy4uLy4uL3NyYy9jb21wb25lbnRzL091dGxpbmVFZGl0b3InO1xuaW1wb3J0IENoYXRJbnRlcmZhY2UgZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvQ2hhdEludGVyZmFjZSc7XG5pbXBvcnQgQ2FyZE1hbmFnZXIgZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvQ2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgXG4gIExlYXJuaW5nU2Vzc2lvbiwgXG4gIENoYXRNZXNzYWdlLCBcbiAgT3V0bGluZUl0ZW0sIFxuICBBUElDb25maWcsXG4gIExlYXJuaW5nQ2FyZFxufSBmcm9tICcuLi8uLi9zcmMvdHlwZXMnO1xuaW1wb3J0IHsgXG4gIGdldFNlc3Npb25CeUlkLCBcbiAgc2F2ZVNlc3Npb24sIFxuICB1cGRhdGVTZXNzaW9uTWVzc2FnZXMsXG4gIHVwZGF0ZVNlc3Npb25DdXJyZW50Q2hhcHRlcixcbiAgZ2V0QVBJQ29uZmlnLFxuICBtYXJrQ2hhcHRlckNvbXBsZXRlZCxcbiAgYWRkTGVhcm5pbmdDYXJkXG59IGZyb20gJy4uLy4uL3NyYy91dGlscy9zdG9yYWdlJztcbmltcG9ydCB7IHNlbmRDaGF0TWVzc2FnZSwgc3VtbWFyaXplQ2FyZFRpdGxlIH0gZnJvbSAnLi4vLi4vc3JjL3V0aWxzL2FpU2VydmljZSc7XG5cbmNvbnN0IExlYXJuUGFnZTogUmVhY3QuRkMgPSAoKSA9PiB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCB7IHNlc3Npb25JZCB9ID0gcm91dGVyLnF1ZXJ5O1xuXG4gIC8vIOeKtuaAgeeuoeeQhlxuICBjb25zdCBbc2Vzc2lvbiwgc2V0U2Vzc2lvbl0gPSB1c2VTdGF0ZTxMZWFybmluZ1Nlc3Npb24gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2FwaUNvbmZpZywgc2V0QXBpQ29uZmlnXSA9IHVzZVN0YXRlPEFQSUNvbmZpZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtpc1NlbmRpbmdNZXNzYWdlLCBzZXRJc1NlbmRpbmdNZXNzYWdlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NhcmRNYW5hZ2VyS2V5LCBzZXRDYXJkTWFuYWdlcktleV0gPSB1c2VTdGF0ZSgwKTtcblxuICAvKipcbiAgICog5Yid5aeL5YyW5Lya6K+d5pWw5o2uXG4gICAqL1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc2Vzc2lvbklkIHx8IHR5cGVvZiBzZXNzaW9uSWQgIT09ICdzdHJpbmcnKSByZXR1cm47XG5cbiAgICBjb25zdCBsb2FkU2Vzc2lvbiA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxvYWRlZFNlc3Npb24gPSBnZXRTZXNzaW9uQnlJZChzZXNzaW9uSWQpO1xuICAgICAgICBjb25zdCBsb2FkZWRDb25maWcgPSBnZXRBUElDb25maWcoKTtcblxuICAgICAgICBpZiAoIWxvYWRlZFNlc3Npb24pIHtcbiAgICAgICAgICBhbGVydCgn5a2m5Lmg5Lya6K+d5LiN5a2Y5ZyoJyk7XG4gICAgICAgICAgcm91dGVyLnB1c2goJy8nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWxvYWRlZENvbmZpZykge1xuICAgICAgICAgIGFsZXJ0KCdBUEnphY3nva7kuKLlpLHvvIzor7fph43mlrDphY3nva4nKTtcbiAgICAgICAgICByb3V0ZXIucHVzaCgnLycpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFNlc3Npb24obG9hZGVkU2Vzc2lvbik7XG4gICAgICAgIHNldEFwaUNvbmZpZyhsb2FkZWRDb25maWcpO1xuICAgICAgICBcbiAgICAgICAgLy8g5aaC5p6c5piv5paw5Lya6K+d5LiU5rKh5pyJ5raI5oGv77yM5Y+R6YCB5Yid5aeL5raI5oGvXG4gICAgICAgIGlmIChsb2FkZWRTZXNzaW9uLm1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGluaXRpYWxpemVDaGF0KGxvYWRlZFNlc3Npb24sIGxvYWRlZENvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WKoOi9veS8muivneWksei0pTonLCBlcnJvcik7XG4gICAgICAgIGFsZXJ0KCfliqDovb3kvJror53lpLHotKUnKTtcbiAgICAgICAgcm91dGVyLnB1c2goJy8nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxvYWRTZXNzaW9uKCk7XG4gIH0sIFtzZXNzaW9uSWQsIHJvdXRlcl0pO1xuXG4gIC8qKlxuICAgKiDnlJ/miJDmtojmga9JRFxuICAgKi9cbiAgY29uc3QgZ2VuZXJhdGVNZXNzYWdlSWQgPSAoKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gYG1zZy0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gIH07XG5cbiAgLyoqXG4gICAqIOeUn+aIkOWNoeeJh0lEXG4gICAqL1xuICBjb25zdCBnZW5lcmF0ZUNhcmRJZCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBgY2FyZC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gIH07XG5cbiAgLyoqXG4gICAqIOWIneWni+WMluiBiuWkqVxuICAgKi9cbiAgY29uc3QgaW5pdGlhbGl6ZUNoYXQgPSBhc3luYyAoc2Vzc2lvbkRhdGE6IExlYXJuaW5nU2Vzc2lvbiwgY29uZmlnOiBBUElDb25maWcpID0+IHtcbiAgICAvLyDmib7liLDnrKzkuIDkuKrlsI/oioLkvZzkuLrliJ3lp4vlrabkuaDnm67moIdcbiAgICBjb25zdCBmaXJzdFNlY3Rpb24gPSBzZXNzaW9uRGF0YS5vdXRsaW5lLmZpbmQoaXRlbSA9PiBpdGVtLnR5cGUgPT09ICdzZWN0aW9uJyk7XG4gICAgXG4gICAgLy8g5Yib5bu657O757uf5Yid5aeL5YyW5raI5oGvXG4gICAgY29uc3Qgc3lzdGVtTWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG4gICAgICBpZDogZ2VuZXJhdGVNZXNzYWdlSWQoKSxcbiAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgY29udGVudDogYOWtpuS5oOS8muivneW3suW8gOWni+OAguaWh+aho+agh+mimO+8miR7c2Vzc2lvbkRhdGEudGl0bGV977yM5a2m5Lmg5rC05bmz77yaJHtzZXNzaW9uRGF0YS5sZWFybmluZ0xldmVsID09PSAnYmVnaW5uZXInID8gJ+Wwj+eZvScgOiAn6auY5omLJ33mqKHlvI/jgIJgLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH07XG5cbiAgICBjb25zdCB3ZWxjb21lTWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG4gICAgICBpZDogZ2VuZXJhdGVNZXNzYWdlSWQoKSxcbiAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgY29udGVudDogYOS9oOWlve+8geaIkeWwhuS9nOS4uuS9oOeahOengeS6uuWvvOW4iO+8jOW4ruWKqeS9oOabtOWlveeahOeQhuino+S9oOS4iuS8oOeahOadkOaWmeOAiiR7c2Vzc2lvbkRhdGEudGl0bGV944CL44CC5Li65LqG57uZ5oKo5o+Q5L6b5pyA5ZCI6YCC55qE5pWZ5a2m5L2T6aqM77yM5oiR5bCG5qC55o2u5L2g5LmL5YmN6YCJ5oup55qEJHtzZXNzaW9uRGF0YS5sZWFybmluZ0xldmVsID09PSAnYmVnaW5uZXInID8gJ+Wwj+eZvScgOiAn6auY5omLJ33mqKHlvI/mnaXot5/kvaDkupLliqjjgIJcblxu55yL5a6M5bem6L656L+Z5Liq6K++56iL5aSn57qy5LqG5ZCX77yf5oiR5Lus5piv5oyJ54Wn6L+Z5Liq6aG65bqP5LuO56ys5LiA56ug5byA5aeL77yM6L+Y5piv5oKo5oOz5YWI6Lez5Yiw5p+Q5Liq5oKo54m55Yir5oSf5YW06Laj55qE56ug6IqC77yfYCxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB9O1xuXG4gICAgY29uc3QgaW5pdGlhbE1lc3NhZ2VzID0gW3N5c3RlbU1lc3NhZ2UsIHdlbGNvbWVNZXNzYWdlXTtcbiAgICBcbiAgICAvLyDmm7TmlrDkvJror51cbiAgICBjb25zdCB1cGRhdGVkU2Vzc2lvbiA9IHtcbiAgICAgIC4uLnNlc3Npb25EYXRhLFxuICAgICAgbWVzc2FnZXM6IGluaXRpYWxNZXNzYWdlcyxcbiAgICAgIGN1cnJlbnRDaGFwdGVyOiBmaXJzdFNlY3Rpb24/LmlkLCAvLyDorr7nva7nrKzkuIDkuKrlsI/oioLkuLrlvZPliY3nq6DoioJcbiAgICB9O1xuXG4gICAgc2V0U2Vzc2lvbih1cGRhdGVkU2Vzc2lvbik7XG4gICAgLy8g5L+d5a2Y5Lya6K+d5ZKM5b2T5YmN56ug6IqCXG4gICAgc2F2ZVNlc3Npb24odXBkYXRlZFNlc3Npb24pO1xuICB9O1xuXG4gIC8qKlxuICAgKiDlj5HpgIHmtojmga/nu5lBSVxuICAgKi9cbiAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSBhc3luYyAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFzZXNzaW9uIHx8ICFhcGlDb25maWcgfHwgaXNTZW5kaW5nTWVzc2FnZSkgcmV0dXJuO1xuXG4gICAgc2V0SXNTZW5kaW5nTWVzc2FnZSh0cnVlKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyDliJvlu7rnlKjmiLfmtojmga9cbiAgICAgIGNvbnN0IHVzZXJNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IGdlbmVyYXRlTWVzc2FnZUlkKCksXG4gICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgfTtcblxuICAgICAgLy8g5pu05paw5raI5oGv5YiX6KGoXG4gICAgICBjb25zdCB1cGRhdGVkTWVzc2FnZXMgPSBbLi4uc2Vzc2lvbi5tZXNzYWdlcywgdXNlck1lc3NhZ2VdO1xuICAgICAgc2V0U2Vzc2lvbihwcmV2ID0+IHByZXYgPyB7IC4uLnByZXYsIG1lc3NhZ2VzOiB1cGRhdGVkTWVzc2FnZXMgfSA6IG51bGwpO1xuXG4gICAgICAvLyDlj5HpgIHnu5lBSVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kQ2hhdE1lc3NhZ2UoXG4gICAgICAgIGFwaUNvbmZpZyxcbiAgICAgICAgdXBkYXRlZE1lc3NhZ2VzLFxuICAgICAgICBzZXNzaW9uLmRvY3VtZW50Q29udGVudCxcbiAgICAgICAgc2Vzc2lvbi5vdXRsaW5lLFxuICAgICAgICBzZXNzaW9uLmxlYXJuaW5nTGV2ZWxcbiAgICAgICk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgLy8g5Yib5bu6QUnlm57lpI3mtojmga9cbiAgICAgICAgY29uc3QgYXNzaXN0YW50TWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlTWVzc2FnZUlkKCksXG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgY29udGVudDogcmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZmluYWxNZXNzYWdlcyA9IFsuLi51cGRhdGVkTWVzc2FnZXMsIGFzc2lzdGFudE1lc3NhZ2VdO1xuICAgICAgICBcbiAgICAgICAgLy8g5pu05paw5pys5Zyw54q25oCBXG4gICAgICAgIHNldFNlc3Npb24ocHJldiA9PiBwcmV2ID8geyAuLi5wcmV2LCBtZXNzYWdlczogZmluYWxNZXNzYWdlcyB9IDogbnVsbCk7XG4gICAgICAgIFxuICAgICAgICAvLyDkv53lrZjliLDlrZjlgqhcbiAgICAgICAgdXBkYXRlU2Vzc2lvbk1lc3NhZ2VzKHNlc3Npb24uaWQsIGZpbmFsTWVzc2FnZXMpO1xuXG4gICAgICAgIC8vIOajgOafpeaYr+WQpumcgOimgeabtOaWsOW9k+WJjeeroOiKglxuICAgICAgICBhd2FpdCBjaGVja0FuZFVwZGF0ZUN1cnJlbnRDaGFwdGVyKHJlc3BvbnNlLmRhdGEsIHNlc3Npb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLmVycm9yIHx8ICdBSeWTjeW6lOWksei0pScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCflj5HpgIHmtojmga/lpLHotKU6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyDliJvlu7rplJnor6/mtojmga9cbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZU1lc3NhZ2VJZCgpLFxuICAgICAgICByb2xlOiAnc3lzdGVtJyxcbiAgICAgICAgY29udGVudDogYOWPkemAgeWksei0pTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfmnKrnn6XplJnor68nfWAsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIH07XG5cbiAgICAgIHNldFNlc3Npb24ocHJldiA9PiB7XG4gICAgICAgIGlmICghcHJldikgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzV2l0aEVycm9yID0gWy4uLnByZXYubWVzc2FnZXMsIGVycm9yTWVzc2FnZV07XG4gICAgICAgIHVwZGF0ZVNlc3Npb25NZXNzYWdlcyhwcmV2LmlkLCBtZXNzYWdlc1dpdGhFcnJvcik7XG4gICAgICAgIHJldHVybiB7IC4uLnByZXYsIG1lc3NhZ2VzOiBtZXNzYWdlc1dpdGhFcnJvciB9O1xuICAgICAgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU2VuZGluZ01lc3NhZ2UoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICog5qOA5p+l5bm25pu05paw5b2T5YmN56ug6IqCXG4gICAqL1xuICBjb25zdCBjaGVja0FuZFVwZGF0ZUN1cnJlbnRDaGFwdGVyID0gYXN5bmMgKGFpUmVzcG9uc2U6IHN0cmluZywgc2Vzc2lvbkRhdGE6IExlYXJuaW5nU2Vzc2lvbikgPT4ge1xuICAgIC8vIDEuIOmmluWFiOajgOafpUFJ5piv5ZCm5piO56Gu5o+Q5Yiw5LqG5YW35L2T55qE5bCP6IqC57yW5Y+3XG4gICAgY29uc3QgbG93ZXJSZXNwb25zZSA9IGFpUmVzcG9uc2UudG9Mb3dlckNhc2UoKTtcbiAgICBcbiAgICAvLyDmo4Dmn6XmmK/lkKbmnInmmI7noa7nmoTlsI/oioLnvJblj7fmj5Dlj4rvvIjlpoJcIjEuMuWwj+iKglwi44CBXCLnjrDlnKjlrabkuaAyLjFcIuetie+8iVxuICAgIGNvbnN0IHNlY3Rpb25OdW1iZXJQYXR0ZXJuID0gLyg/OueOsOWcqHzlvIDlp4t86L+b5YWlfOWtpuS5oCkuKj8oXFxkK1xcLlxcZCspKD865bCP6IqCfOiKgikvZztcbiAgICBjb25zdCBzZWN0aW9uTWF0Y2hlcyA9IFsuLi5haVJlc3BvbnNlLm1hdGNoQWxsKHNlY3Rpb25OdW1iZXJQYXR0ZXJuKV07XG4gICAgXG4gICAgaWYgKHNlY3Rpb25NYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIOaJvuWIsOacgOWQjuS4gOS4quaPkOWIsOeahOWwj+iKgue8luWPt1xuICAgICAgY29uc3QgbGFzdE1hdGNoID0gc2VjdGlvbk1hdGNoZXNbc2VjdGlvbk1hdGNoZXMubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCBzZWN0aW9uTnVtYmVyID0gbGFzdE1hdGNoWzFdO1xuICAgICAgXG4gICAgICAvLyDlnKjlpKfnurLkuK3mn6Xmib7lr7nlupTnmoTlsI/oioJcbiAgICAgIGNvbnN0IHRhcmdldFNlY3Rpb24gPSBzZXNzaW9uRGF0YS5vdXRsaW5lLmZpbmQoaXRlbSA9PiBcbiAgICAgICAgaXRlbS50eXBlID09PSAnc2VjdGlvbicgJiYgaXRlbS50aXRsZS5pbmNsdWRlcyhzZWN0aW9uTnVtYmVyKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKHRhcmdldFNlY3Rpb24gJiYgc2Vzc2lvbkRhdGEuY3VycmVudENoYXB0ZXIgIT09IHRhcmdldFNlY3Rpb24uaWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coYEFJ5piO56Gu5o+Q5Yiw5bCP6IqCICR7c2VjdGlvbk51bWJlcn3vvIzliIfmjaLliLA6YCwgdGFyZ2V0U2VjdGlvbi50aXRsZSk7XG4gICAgICAgIHVwZGF0ZVNlc3Npb25DdXJyZW50Q2hhcHRlcihzZXNzaW9uRGF0YS5pZCwgdGFyZ2V0U2VjdGlvbi5pZCk7XG4gICAgICAgIHNldFNlc3Npb24ocHJldiA9PiBwcmV2ID8geyAuLi5wcmV2LCBjdXJyZW50Q2hhcHRlcjogdGFyZ2V0U2VjdGlvbi5pZCB9IDogbnVsbCk7XG4gICAgICAgIHJldHVybjsgLy8g5om+5Yiw5piO56Gu55qE5bCP6IqC77yM55u05o6l6L+U5ZueXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIDIuIOajgOafpUFJ5piv5ZCm5o+Q5Yiw5LqG5bCP6IqC5a6M5oiQ55qE5YWz6ZSu6K+NXG4gICAgY29uc3QgY29tcGxldGlvbktleXdvcmRzID0gW1xuICAgICAgJ+WujOaIkOS6hicsICflt7Lnu4/lrozmiJDkuoYnLCAn5oiR5Lus5a6M5oiQ5LqGJywgJ+WImuaJjeWujOaIkOS6hicsXG4gICAgICAn5a2m5Lmg5a6M5LqGJywgJ+W3sue7j+WtpuWujOS6hicsICfmiJHku6zlrablrozkuoYnLFxuICAgICAgJ+e7k+adn+S6hicsICflt7Lnu4/nu5PmnZ/kuoYnLCAn5oiR5Lus57uT5p2f5LqGJyxcbiAgICAgICfov5nkuIDoioLlsLHliLDov5nph4wnLCAn5pys6IqC5YaF5a6557uT5p2fJyxcbiAgICAgICfov5nkuKrlsI/oioLnmoTlhoXlrrnlsLHorrLlrozkuoYnLCAn5pys5bCP6IqC5Yiw5q2k57uT5p2fJ1xuICAgIF07XG4gICAgXG4gICAgLy8g5aaC5p6cQUnmj5DliLDkuoblrozmiJDlhbPplK7or41cbiAgICBpZiAoY29tcGxldGlvbktleXdvcmRzLnNvbWUoa2V5d29yZCA9PiBsb3dlclJlc3BvbnNlLmluY2x1ZGVzKGtleXdvcmQpKSkge1xuICAgICAgbGV0IGNvbXBsZXRlZFNlY3Rpb25JZCA9IG51bGw7XG4gICAgICBcbiAgICAgIC8vIOajgOafpeaYr+WQpuaPkOWIsOS6huWFt+S9k+eahOWwj+iKgue8luWPt++8iOeUqOS6juagh+iusOWujOaIkO+8iVxuICAgICAgY29uc3QgY29tcGxldGVkU2VjdGlvblBhdHRlcm4gPSAvKD865a6M5oiQ5LqGfOWtpuWujOS6hnznu5PmnZ/kuoYpLio/KFxcZCtcXC5cXGQrKSg/OuWwj+iKgnzoioIpL2c7XG4gICAgICBjb25zdCBjb21wbGV0ZWRNYXRjaGVzID0gWy4uLmFpUmVzcG9uc2UubWF0Y2hBbGwoY29tcGxldGVkU2VjdGlvblBhdHRlcm4pXTtcbiAgICAgIFxuICAgICAgaWYgKGNvbXBsZXRlZE1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBjb21wbGV0ZWROdW1iZXIgPSBjb21wbGV0ZWRNYXRjaGVzWzBdWzFdO1xuICAgICAgICBjb25zdCBjb21wbGV0ZWRTZWN0aW9uID0gc2Vzc2lvbkRhdGEub3V0bGluZS5maW5kKGl0ZW0gPT4gXG4gICAgICAgICAgaXRlbS50eXBlID09PSAnc2VjdGlvbicgJiYgaXRlbS50aXRsZS5pbmNsdWRlcyhjb21wbGV0ZWROdW1iZXIpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjb21wbGV0ZWRTZWN0aW9uKSB7XG4gICAgICAgICAgY29tcGxldGVkU2VjdGlvbklkID0gY29tcGxldGVkU2VjdGlvbi5pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDlpoLmnpzmsqHmnInmmI7noa7nmoTnvJblj7fvvIzlsJ3or5XpgJrov4flsI/oioLmoIfpopjljLnphY1cbiAgICAgIGlmICghY29tcGxldGVkU2VjdGlvbklkKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzZXNzaW9uRGF0YS5vdXRsaW5lKSB7XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCB0aXRsZVdpdGhvdXROdW1iZXIgPSBpdGVtLnRpdGxlLnJlcGxhY2UoL15cXGQrXFwuXFxkK1xccyovLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgaWYgKHRpdGxlV2l0aG91dE51bWJlciAmJiBhaVJlc3BvbnNlLmluY2x1ZGVzKHRpdGxlV2l0aG91dE51bWJlcikpIHtcbiAgICAgICAgICAgICAgY29tcGxldGVkU2VjdGlvbklkID0gaXRlbS5pZDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOWmguaenOi/mOaYr+ayoeaJvuWIsO+8jOS9v+eUqOW9k+WJjeeroOiKglxuICAgICAgaWYgKCFjb21wbGV0ZWRTZWN0aW9uSWQgJiYgc2Vzc2lvbkRhdGEuY3VycmVudENoYXB0ZXIpIHtcbiAgICAgICAgY29tcGxldGVkU2VjdGlvbklkID0gc2Vzc2lvbkRhdGEuY3VycmVudENoYXB0ZXI7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOagh+iusOaJvuWIsOeahOWwj+iKguS4uuWujOaIkFxuICAgICAgaWYgKGNvbXBsZXRlZFNlY3Rpb25JZCkge1xuICAgICAgICBjb25zb2xlLmxvZygn5qCH6K6w5bCP6IqC5Li65a6M5oiQOicsIGNvbXBsZXRlZFNlY3Rpb25JZCk7XG4gICAgICAgIGF3YWl0IGhhbmRsZU1hcmtDaGFwdGVyQ29tcGxldGVkKGNvbXBsZXRlZFNlY3Rpb25JZCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIDMuIOajgOafpeaYr+WQpueUqOaIt+aYjuehruimgeaxgui/m+WFpeS4i+S4gOiKglxuICAgIC8vIOazqOaEj++8muagueaNruaWsOeahFwi5LiA5q2l5LiA5YGcXCLmlZnlrabmqKHlvI/vvIzmiJHku6zkuI3lupTor6Xlm6DkuLpBSeaPkOWIsFwi5o6l5LiL5p2lXCLlsLHoh6rliqjmjqjov5tcbiAgICAvLyDlj6rmnInlvZPnlKjmiLfmmI7noa7opoHmsYLmiJZBSeaYjuehruivtOaYjuaVtOS4quWwj+iKguW3sue7j+WujOaIkOaXtuaJjeaOqOi/m1xuICAgIGNvbnN0IHVzZXJSZXF1ZXN0TmV4dEtleXdvcmRzID0gW1xuICAgICAgJ+aIkeaDs+WtpuS4i+S4gOiKgicsICfov5vlhaXkuIvkuIDoioLlkKcnLCAn5byA5aeL5LiL5LiA6IqCJywgXG4gICAgICAn5LiL5LiA5Liq5bCP6IqCJywgJ+e7p+e7reS4i+S4gOiKgicsICfot7PliLDkuIvkuIDoioInLFxuICAgICAgJ+S4i+S4gOeroOWQpycsICfov5vlhaXkuIvkuIDnq6AnLCAn5byA5aeL5LiL5LiA56ugJyxcbiAgICAgICfkuIvkuIDkuKrnq6DoioInLCAn57un57ut5LiL5LiA56ugJywgJ+S4i+S4queroOiKgidcbiAgICBdO1xuICAgIFxuICAgIC8vIOWPquacieW9k+eUqOaIt+eahOa2iOaBr+S4reWMheWQq+i/meS6m+WFs+mUruivjeaXtuaJjeiAg+iZkeaOqOi/m1xuICAgIGNvbnN0IGxhc3RVc2VyTWVzc2FnZSA9IHNlc3Npb25EYXRhLm1lc3NhZ2VzLmZpbHRlcihtID0+IG0ucm9sZSA9PT0gJ3VzZXInKS5wb3AoKTtcbiAgICBpZiAobGFzdFVzZXJNZXNzYWdlICYmIHVzZXJSZXF1ZXN0TmV4dEtleXdvcmRzLnNvbWUoa2V5d29yZCA9PiBsYXN0VXNlck1lc3NhZ2UuY29udGVudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGtleXdvcmQpKSkge1xuICAgICAgLy8g5aaC5p6c5rKh5pyJ5piO56Gu5oyH5a6a5bCP6IqC57yW5Y+377yM6Ieq5Yqo5o6o6L+b5Yiw5LiL5LiA5Liq5bCP6IqCXG4gICAgICBpZiAoIXNlY3Rpb25NYXRjaGVzLmxlbmd0aCAmJiBzZXNzaW9uRGF0YS5jdXJyZW50Q2hhcHRlcikge1xuICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBzZXNzaW9uRGF0YS5vdXRsaW5lLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyKTtcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgLy8g5p+l5om+5LiL5LiA5Liq5bCP6IqC77yI6Lez6L+H56ug6IqC5qCH6aKY77yJXG4gICAgICAgICAgZm9yIChsZXQgaSA9IGN1cnJlbnRJbmRleCArIDE7IGkgPCBzZXNzaW9uRGF0YS5vdXRsaW5lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbkRhdGEub3V0bGluZVtpXS50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgICAgICAgICAgY29uc3QgbmV4dFNlY3Rpb24gPSBzZXNzaW9uRGF0YS5vdXRsaW5lW2ldO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn55So5oi36KaB5rGC5o6o6L+b5Yiw5LiL5LiA5bCP6IqCOicsIG5leHRTZWN0aW9uLnRpdGxlKTtcbiAgICAgICAgICAgICAgdXBkYXRlU2Vzc2lvbkN1cnJlbnRDaGFwdGVyKHNlc3Npb25EYXRhLmlkLCBuZXh0U2VjdGlvbi5pZCk7XG4gICAgICAgICAgICAgIHNldFNlc3Npb24ocHJldiA9PiBwcmV2ID8geyAuLi5wcmV2LCBjdXJyZW50Q2hhcHRlcjogbmV4dFNlY3Rpb24uaWQgfSA6IG51bGwpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gNC4g5qOA5p+lQUnmmK/lkKbmj5DliLDkuoblhbfkvZPnmoTlsI/oioLmoIfpopjvvIjnlKjkuo7liIfmjaLnq6DoioLvvIlcbiAgICBsZXQgY2hhcHRlckZvdW5kQW5kVXBkYXRlZCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBzZXNzaW9uRGF0YS5vdXRsaW5lKSB7XG4gICAgICBpZiAoaXRlbS50eXBlID09PSAnc2VjdGlvbicgJiYgIWNoYXB0ZXJGb3VuZEFuZFVwZGF0ZWQpIHtcbiAgICAgICAgLy8g5qOA5p+l5piv5ZCm5o+Q5Yiw5LqG5bCP6IqC55qE5qC45b+D5qCH6aKYXG4gICAgICAgIGNvbnN0IHRpdGxlV2l0aG91dE51bWJlciA9IGl0ZW0udGl0bGUucmVwbGFjZSgvXlxcZCtcXC5cXGQrXFxzKi8sICcnKS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodGl0bGVXaXRob3V0TnVtYmVyLmxlbmd0aCA+IDIpIHsgLy8g6YG/5YWN5Yy56YWN6L+H55+t55qE5qCH6aKYXG4gICAgICAgICAgY29uc3QgdGl0bGVQYXR0ZXJucyA9IFtcbiAgICAgICAgICAgIGDlrabkuaAke3RpdGxlV2l0aG91dE51bWJlcn1gLCBg5byA5aeLJHt0aXRsZVdpdGhvdXROdW1iZXJ9YCxcbiAgICAgICAgICAgIGDov5vlhaUke3RpdGxlV2l0aG91dE51bWJlcn1gLCBg6K6y6KejJHt0aXRsZVdpdGhvdXROdW1iZXJ9YCxcbiAgICAgICAgICAgIGAke3RpdGxlV2l0aG91dE51bWJlcn3nmoTlhoXlrrlgLCBgJHt0aXRsZVdpdGhvdXROdW1iZXJ96YOo5YiGYFxuICAgICAgICAgIF07XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHRpdGxlUGF0dGVybnMuc29tZShwYXR0ZXJuID0+IGFpUmVzcG9uc2UuaW5jbHVkZXMocGF0dGVybikpKSB7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbkRhdGEuY3VycmVudENoYXB0ZXIgIT09IGl0ZW0uaWQpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+mAmui/h+agh+mimOWMuemFjeWIh+aNoueroOiKgjonLCBpdGVtLnRpdGxlKTtcbiAgICAgICAgICAgICAgdXBkYXRlU2Vzc2lvbkN1cnJlbnRDaGFwdGVyKHNlc3Npb25EYXRhLmlkLCBpdGVtLmlkKTtcbiAgICAgICAgICAgICAgc2V0U2Vzc2lvbihwcmV2ID0+IHByZXYgPyB7IC4uLnByZXYsIGN1cnJlbnRDaGFwdGVyOiBpdGVtLmlkIH0gOiBudWxsKTtcbiAgICAgICAgICAgICAgY2hhcHRlckZvdW5kQW5kVXBkYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiDlpITnkIbnq6DoioLngrnlh7tcbiAgICovXG4gIGNvbnN0IGhhbmRsZUNoYXB0ZXJDbGljayA9IChjaGFwdGVySWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghc2Vzc2lvbiB8fCBpc1NlbmRpbmdNZXNzYWdlKSByZXR1cm47XG5cbiAgICBjb25zdCBpdGVtID0gc2Vzc2lvbi5vdXRsaW5lLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBjaGFwdGVySWQpO1xuICAgIGlmICghaXRlbSkgcmV0dXJuO1xuICAgIFxuICAgIC8vIOWPquacieWwj+iKgu+8iHNlY3Rpb27vvInmiY3og73ngrnlh7vlrabkuaDvvIznq6DoioLvvIhjaGFwdGVy77yJ5Y+q5piv5qCH6aKYXG4gICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2NoYXB0ZXInKSByZXR1cm47XG5cbiAgICAvLyDmm7TmlrDlvZPliY3nq6DoioJcbiAgICB1cGRhdGVTZXNzaW9uQ3VycmVudENoYXB0ZXIoc2Vzc2lvbi5pZCwgY2hhcHRlcklkKTtcbiAgICBzZXRTZXNzaW9uKHByZXYgPT4gcHJldiA/IHsgLi4ucHJldiwgY3VycmVudENoYXB0ZXI6IGNoYXB0ZXJJZCB9IDogbnVsbCk7XG5cbiAgICAvLyDlj5HpgIHliIfmjaLnq6DoioLnmoTmtojmga9cbiAgICBjb25zdCBzd2l0Y2hNZXNzYWdlID0gYOaIkeaDs+i3s+i9rOWIsFwiJHtpdGVtLnRpdGxlfVwi6L+Z5Liq5bCP6IqC6L+b6KGM5a2m5Lmg44CCYDtcbiAgICBoYW5kbGVTZW5kTWVzc2FnZShzd2l0Y2hNZXNzYWdlKTtcbiAgfTtcblxuICAvKipcbiAgICog5aSE55CG5raI5oGv5pS26JeP5Li65Y2h54mHXG4gICAqL1xuICBjb25zdCBoYW5kbGVCb29rbWFya01lc3NhZ2UgPSBhc3luYyAobWVzc2FnZUlkOiBzdHJpbmcsIHR5cGU6ICdpbnNwaXJhdGlvbicgfCAnYm9va21hcmsnLCB1c2VyTm90ZT86IHN0cmluZykgPT4ge1xuICAgIGlmICghc2Vzc2lvbiB8fCAhYXBpQ29uZmlnKSByZXR1cm47XG5cbiAgICBjb25zdCBtZXNzYWdlID0gc2Vzc2lvbi5tZXNzYWdlcy5maW5kKG0gPT4gbS5pZCA9PT0gbWVzc2FnZUlkKTtcbiAgICBpZiAoIW1lc3NhZ2UgfHwgbWVzc2FnZS5yb2xlICE9PSAnYXNzaXN0YW50JykgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIOS9v+eUqEFJ55Sf5oiQ566A5rSB55qE5Y2h54mH5qCH6aKYXG4gICAgICBjb25zdCB0aXRsZVJlc3BvbnNlID0gYXdhaXQgc3VtbWFyaXplQ2FyZFRpdGxlKGFwaUNvbmZpZywgbWVzc2FnZS5jb250ZW50KTtcbiAgICAgIGNvbnN0IGNhcmRUaXRsZSA9IHRpdGxlUmVzcG9uc2Uuc3VjY2VzcyA/IHRpdGxlUmVzcG9uc2UuZGF0YSA6IG1lc3NhZ2UuY29udGVudC5zdWJzdHJpbmcoMCwgMTIpO1xuXG4gICAgICAvLyDliJvlu7rljaHniYdcbiAgICAgIGNvbnN0IGNhcmQ6IExlYXJuaW5nQ2FyZCA9IHtcbiAgICAgICAgaWQ6IGdlbmVyYXRlQ2FyZElkKCksXG4gICAgICAgIHRpdGxlOiBjYXJkVGl0bGUsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgdXNlck5vdGUsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHRhZ3M6IFtdLFxuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIG5leHRSZXZpZXdBdDogRGF0ZS5ub3coKSArICgxICogNjAgKiAxMDAwKSwgLy8gMeWIhumSn+WQjuWkjeS5oO+8iOa1i+ivleeUqO+8iVxuICAgICAgICByZXZpZXdDb3VudDogMCxcbiAgICAgICAgZGlmZmljdWx0eTogMyxcbiAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uLmlkLFxuICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIGNoYXB0ZXJJZDogc2Vzc2lvbi5jdXJyZW50Q2hhcHRlcixcbiAgICAgIH07XG5cbiAgICAgIC8vIOS/neWtmOWNoeeJh1xuICAgICAgY29uc3Qgc3VjY2VzcyA9IGFkZExlYXJuaW5nQ2FyZChzZXNzaW9uLmlkLCBjYXJkKTtcbiAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgIC8vIOabtOaWsOa2iOaBr+eahOaUtuiXj+eKtuaAgVxuICAgICAgICBjb25zdCB1cGRhdGVkTWVzc2FnZXMgPSBzZXNzaW9uLm1lc3NhZ2VzLm1hcChtID0+XG4gICAgICAgICAgbS5pZCA9PT0gbWVzc2FnZUlkIFxuICAgICAgICAgICAgPyB7IC4uLm0sIGlzQm9va21hcmtlZDogdHJ1ZSwgY2FyZElkOiBjYXJkLmlkIH1cbiAgICAgICAgICAgIDogbVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgc2V0U2Vzc2lvbihwcmV2ID0+IHByZXYgPyB7IC4uLnByZXYsIG1lc3NhZ2VzOiB1cGRhdGVkTWVzc2FnZXMgfSA6IG51bGwpO1xuICAgICAgICB1cGRhdGVTZXNzaW9uTWVzc2FnZXMoc2Vzc2lvbi5pZCwgdXBkYXRlZE1lc3NhZ2VzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOWIt+aWsOWNoeeJh+euoeeQhuWZqFxuICAgICAgICBzZXRDYXJkTWFuYWdlcktleShwcmV2ID0+IHByZXYgKyAxKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign5Yib5bu65Y2h54mH5aSx6LSlOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgLy8g5aaC5p6cQUnosIPnlKjlpLHotKXvvIzkvb/nlKjlpIfnlKjmlrnmoYhcbiAgICAgIGNvbnN0IGZhbGxiYWNrVGl0bGUgPSBtZXNzYWdlLmNvbnRlbnQuc3Vic3RyaW5nKDAsIDEyKTtcbiAgICAgIFxuICAgICAgY29uc3QgY2FyZDogTGVhcm5pbmdDYXJkID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVDYXJkSWQoKSxcbiAgICAgICAgdGl0bGU6IGZhbGxiYWNrVGl0bGUsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgdXNlck5vdGUsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHRhZ3M6IFtdLFxuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIG5leHRSZXZpZXdBdDogRGF0ZS5ub3coKSArICgxICogNjAgKiAxMDAwKSxcbiAgICAgICAgcmV2aWV3Q291bnQ6IDAsXG4gICAgICAgIGRpZmZpY3VsdHk6IDMsXG4gICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgbWVzc2FnZUlkOiBtZXNzYWdlLmlkLFxuICAgICAgICBjaGFwdGVySWQ6IHNlc3Npb24uY3VycmVudENoYXB0ZXIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzdWNjZXNzID0gYWRkTGVhcm5pbmdDYXJkKHNlc3Npb24uaWQsIGNhcmQpO1xuICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZE1lc3NhZ2VzID0gc2Vzc2lvbi5tZXNzYWdlcy5tYXAobSA9PlxuICAgICAgICAgIG0uaWQgPT09IG1lc3NhZ2VJZCBcbiAgICAgICAgICAgID8geyAuLi5tLCBpc0Jvb2ttYXJrZWQ6IHRydWUsIGNhcmRJZDogY2FyZC5pZCB9XG4gICAgICAgICAgICA6IG1cbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIHNldFNlc3Npb24ocHJldiA9PiBwcmV2ID8geyAuLi5wcmV2LCBtZXNzYWdlczogdXBkYXRlZE1lc3NhZ2VzIH0gOiBudWxsKTtcbiAgICAgICAgdXBkYXRlU2Vzc2lvbk1lc3NhZ2VzKHNlc3Npb24uaWQsIHVwZGF0ZWRNZXNzYWdlcyk7XG4gICAgICAgIHNldENhcmRNYW5hZ2VyS2V5KHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICog6L+U5Zue6aaW6aG1XG4gICAqL1xuICBjb25zdCBoYW5kbGVHb0JhY2sgPSAoKSA9PiB7XG4gICAgcm91dGVyLnB1c2goJy8nKTtcbiAgfTtcblxuICAvKipcbiAgICog5qCH6K6w56ug6IqC5Li65bey5a6M5oiQXG4gICAqL1xuICBjb25zdCBoYW5kbGVNYXJrQ2hhcHRlckNvbXBsZXRlZCA9IGFzeW5jIChjaGFwdGVySWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghc2Vzc2lvbikgcmV0dXJuO1xuXG4gICAgY29uc3Qgc3VjY2VzcyA9IG1hcmtDaGFwdGVyQ29tcGxldGVkKHNlc3Npb24uaWQsIGNoYXB0ZXJJZCk7XG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIC8vIOabtOaWsOacrOWcsOeKtuaAgVxuICAgICAgc2V0U2Vzc2lvbihwcmV2ID0+IHtcbiAgICAgICAgaWYgKCFwcmV2KSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgdXBkYXRlZE91dGxpbmUgPSBwcmV2Lm91dGxpbmUubWFwKGl0ZW0gPT4gXG4gICAgICAgICAgaXRlbS5pZCA9PT0gY2hhcHRlcklkIFxuICAgICAgICAgICAgPyB7IC4uLml0ZW0sIGlzQ29tcGxldGVkOiB0cnVlLCBjb21wbGV0ZWRBdDogRGF0ZS5ub3coKSB9XG4gICAgICAgICAgICA6IGl0ZW1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgb3V0bGluZTogdXBkYXRlZE91dGxpbmUgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICog6K6h566X5a6M5oiQ6L+b5bqmXG4gICAqL1xuICBjb25zdCBnZXRDb21wbGV0aW9uU3RhdHMgPSAoKSA9PiB7XG4gICAgaWYgKCFzZXNzaW9uKSByZXR1cm4geyBjb21wbGV0ZWQ6IDAsIHRvdGFsOiAwIH07XG4gICAgXG4gICAgY29uc3QgY29tcGxldGVkID0gc2Vzc2lvbi5vdXRsaW5lLmZpbHRlcihpdGVtID0+IGl0ZW0uaXNDb21wbGV0ZWQpLmxlbmd0aDtcbiAgICBjb25zdCB0b3RhbCA9IHNlc3Npb24ub3V0bGluZS5sZW5ndGg7XG4gICAgXG4gICAgcmV0dXJuIHsgY29tcGxldGVkLCB0b3RhbCB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiDlpITnkIbljaHniYfmm7TmlrBcbiAgICovXG4gIGNvbnN0IGhhbmRsZUNhcmRzVXBkYXRlID0gKCkgPT4ge1xuICAgIHNldENhcmRNYW5hZ2VyS2V5KHByZXYgPT4gcHJldiArIDEpO1xuICB9O1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItNCBib3JkZXItcHJpbWFyeS02MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnQgbXgtYXV0byBtYi00XCI+PC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPuWKoOi9veWtpuS5oOS8muivneS4rS4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKCFzZXNzaW9uKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi00XCI+5Lya6K+d5LiN5a2Y5ZyoPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTZcIj7or7fmo4Dmn6Xpk77mjqXmmK/lkKbmraPnoa48L3A+XG4gICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVHb0JhY2t9Pui/lOWbnummlumhtTwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1zY3JlZW4gYmctZ3JheS01MCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICB7Lyog6aG26YOo5a+86Iiq5qCPICovfVxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJiZy13aGl0ZSBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBoLTE2IHB4LTZcIj5cbiAgICAgICAgICB7Lyog5bem5L6n5L+h5oGvICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR29CYWNrfVxuICAgICAgICAgICAgICBpY29uPXs8QXJyb3dMZWZ0IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg6L+U5ZueXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItbCBib3JkZXItZ3JheS0zMDAgcGwtNFwiPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgdHJ1bmNhdGUgbWF4LXctbWRcIj5cbiAgICAgICAgICAgICAgICB7c2Vzc2lvbi50aXRsZX1cbiAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyB0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAge3Nlc3Npb24ubGVhcm5pbmdMZXZlbCA9PT0gJ2JlZ2lubmVyJyA/IChcbiAgICAgICAgICAgICAgICAgICAgPFVzZXIgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8WmFwIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHtzZXNzaW9uLmxlYXJuaW5nTGV2ZWwgPT09ICdiZWdpbm5lcicgPyAn5bCP55m95qih5byPJyA6ICfpq5jmiYvmqKHlvI8nfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8c3Bhbj7Ctzwvc3Bhbj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0cyA9IGdldENvbXBsZXRpb25TdGF0cygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7c3RhdHMuY29tcGxldGVkfS8ke3N0YXRzLnRvdGFsfSDkuKrnq6DoioLlt7LlrozmiJBgO1xuICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPHNwYW4+wrc8L3NwYW4+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPHNwYW4+e3Nlc3Npb24ubWVzc2FnZXMuZmlsdGVyKG0gPT4gbS5yb2xlICE9PSAnc3lzdGVtJykubGVuZ3RofSDmnaHlr7nor508L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7Lyog5Y+z5L6n5pON5L2cICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgIOaLluaLveS4remXtOWIhumalOadoeWPr+iwg+aVtOmdouadv+Wkp+Wwj1xuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIHsvKiDkuLvkvZPlhoXlrrkgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsXCI+XG4gICAgICAgICAgey8qIOW3puS+p+Wkp+e6sumdouadvyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMS80IG1pbi13LVsyNTBweF0gbWF4LXctWzQwMHB4XSBoLWZ1bGwgYmctd2hpdGUgYm9yZGVyLXIgYm9yZGVyLWdyYXktMjAwIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIHsvKiDlpKfnurLlpLTpg6ggKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTRcIj5cbiAgICAgICAgICAgICAgICA8Qm9va09wZW4gY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXByaW1hcnktNjAwXCIgLz5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj7lrabkuaDlpKfnurI8L2gyPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiDov5vluqbkv6Hmga8gKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgIDxwPuWFsSB7c2Vzc2lvbi5vdXRsaW5lLmxlbmd0aH0g5Liq56ug6IqCPC9wPlxuICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gZ2V0Q29tcGxldGlvblN0YXRzKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSBzdGF0cy50b3RhbCA+IDAgPyBNYXRoLnJvdW5kKChzdGF0cy5jb21wbGV0ZWQgLyBzdGF0cy50b3RhbCkgKiAxMDApIDogMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmVlbi02MDBcIj7lt7LlrozmiJAge3N0YXRzLmNvbXBsZXRlZH0g5LiqICh7cGVyY2VudGFnZX0lKTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktMjAwIHJvdW5kZWQtZnVsbCBoLTIgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNTAwIGgtMiByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7cGVyY2VudGFnZX0lYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtzZXNzaW9uLmN1cnJlbnRDaGFwdGVyICYmIChcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1wcmltYXJ5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICDlvZPliY3vvJp7c2Vzc2lvbi5vdXRsaW5lLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBzZXNzaW9uLmN1cnJlbnRDaGFwdGVyKT8udGl0bGV9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIOWkp+e6suWGheWuuSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTZcIj5cbiAgICAgICAgICAgICAgPE91dGxpbmVFZGl0b3JcbiAgICAgICAgICAgICAgICBpdGVtcz17c2Vzc2lvbi5vdXRsaW5lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7fX0gLy8g5a2m5Lmg5qih5byP5LiL5LiN5YWB6K6457yW6L6R5aSn57qyXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2hhcHRlcklkPXtzZXNzaW9uLmN1cnJlbnRDaGFwdGVyfVxuICAgICAgICAgICAgICAgIG9uQ2hhcHRlckNsaWNrPXtoYW5kbGVDaGFwdGVyQ2xpY2t9XG4gICAgICAgICAgICAgICAgcmVhZG9ubHk9e3RydWV9XG4gICAgICAgICAgICAgICAgc2hvd051bWJlcnM9e3RydWV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7Lyog56ug6IqC5a6M5oiQ5pON5L2cICovfVxuICAgICAgICAgICAgICB7c2Vzc2lvbi5jdXJyZW50Q2hhcHRlciAmJiBzZXNzaW9uLm91dGxpbmUuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IHNlc3Npb24uY3VycmVudENoYXB0ZXIpPy50eXBlID09PSAnc2VjdGlvbicgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBwdC00IGJvcmRlci10IGJvcmRlci1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICDlvZPliY3lsI/oioLmk43kvZzvvJpcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZU1hcmtDaGFwdGVyQ29tcGxldGVkKHNlc3Npb24uY3VycmVudENoYXB0ZXIhKX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3Nlc3Npb24ub3V0bGluZS5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gc2Vzc2lvbi5jdXJyZW50Q2hhcHRlcik/LmlzQ29tcGxldGVkfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7c2Vzc2lvbi5vdXRsaW5lLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBzZXNzaW9uLmN1cnJlbnRDaGFwdGVyKT8uaXNDb21wbGV0ZWQgXG4gICAgICAgICAgICAgICAgICAgICAgPyAn4pyFIOW3suWujOaIkCcgXG4gICAgICAgICAgICAgICAgICAgICAgOiAn5qCH6K6w5Li65bey5a6M5oiQJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIOS4remXtOiBiuWkqeeVjOmdoiAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBoLWZ1bGwgZmxleCBmbGV4LWNvbCBiZy13aGl0ZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgIHsvKiDogYrlpKnlpLTpg6ggKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgcC00IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1zZWNvbmRhcnktNTAwIHRvLXNlY29uZGFyeS02MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8TWVzc2FnZUNpcmNsZSBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+QUnnp4HmlZnliqnmiYs8L2gzPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgIHtzZXNzaW9uLmxlYXJuaW5nTGV2ZWwgPT09ICdiZWdpbm5lcicgXG4gICAgICAgICAgICAgICAgICAgICAgPyAn6ICQ5b+D5byV5a+85qih5byP77yM5b6q5bqP5riQ6L+bJyBcbiAgICAgICAgICAgICAgICAgICAgICA6ICfpq5jmlYjlrabkuaDmqKHlvI/vvIznm7Tlh7vph43ngrknXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIOiBiuWkqeWGheWuuSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICA8Q2hhdEludGVyZmFjZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzPXtzZXNzaW9uLm1lc3NhZ2VzLmZpbHRlcihtID0+IG0ucm9sZSAhPT0gJ3N5c3RlbScpfVxuICAgICAgICAgICAgICAgIG9uU2VuZE1lc3NhZ2U9e2hhbmRsZVNlbmRNZXNzYWdlfVxuICAgICAgICAgICAgICAgIG9uQm9va21hcmtNZXNzYWdlPXtoYW5kbGVCb29rbWFya01lc3NhZ2V9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17aXNTZW5kaW5nTWVzc2FnZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIui+k+WFpeaCqOeahOmXrumimOaIluWbnuW6lC4uLlwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2VuZGluZ01lc3NhZ2V9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiDlj7PkvqfljaHniYfnrqHnkIbpnaLmnb8gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEvNSBtaW4tdy1bMjgwcHhdIG1heC13LVszNTBweF0gaC1mdWxsXCI+XG4gICAgICAgICAgICA8Q2FyZE1hbmFnZXJcbiAgICAgICAgICAgICAga2V5PXtjYXJkTWFuYWdlcktleX1cbiAgICAgICAgICAgICAgc2Vzc2lvbklkPXtzZXNzaW9uLmlkfVxuICAgICAgICAgICAgICBvbkNhcmRzVXBkYXRlPXtoYW5kbGVDYXJkc1VwZGF0ZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMZWFyblBhZ2U7Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSb3V0ZXIiLCJBcnJvd0xlZnQiLCJCb29rT3BlbiIsIk1lc3NhZ2VDaXJjbGUiLCJVc2VyIiwiWmFwIiwiQnV0dG9uIiwiT3V0bGluZUVkaXRvciIsIkNoYXRJbnRlcmZhY2UiLCJDYXJkTWFuYWdlciIsImdldFNlc3Npb25CeUlkIiwic2F2ZVNlc3Npb24iLCJ1cGRhdGVTZXNzaW9uTWVzc2FnZXMiLCJ1cGRhdGVTZXNzaW9uQ3VycmVudENoYXB0ZXIiLCJnZXRBUElDb25maWciLCJtYXJrQ2hhcHRlckNvbXBsZXRlZCIsImFkZExlYXJuaW5nQ2FyZCIsInNlbmRDaGF0TWVzc2FnZSIsInN1bW1hcml6ZUNhcmRUaXRsZSIsIkxlYXJuUGFnZSIsInNlc3Npb24iLCJyb3V0ZXIiLCJzZXNzaW9uSWQiLCJxdWVyeSIsInNldFNlc3Npb24iLCJhcGlDb25maWciLCJzZXRBcGlDb25maWciLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJpc1NlbmRpbmdNZXNzYWdlIiwic2V0SXNTZW5kaW5nTWVzc2FnZSIsImNhcmRNYW5hZ2VyS2V5Iiwic2V0Q2FyZE1hbmFnZXJLZXkiLCJsb2FkU2Vzc2lvbiIsImxvYWRlZFNlc3Npb24iLCJsb2FkZWRDb25maWciLCJhbGVydCIsInB1c2giLCJtZXNzYWdlcyIsImxlbmd0aCIsImluaXRpYWxpemVDaGF0IiwiZXJyb3IiLCJjb25zb2xlIiwiZ2VuZXJhdGVNZXNzYWdlSWQiLCJNYXRoIiwiRGF0ZSIsIm5vdyIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiZ2VuZXJhdGVDYXJkSWQiLCJzZXNzaW9uRGF0YSIsImNvbmZpZyIsImZpcnN0U2VjdGlvbiIsIm91dGxpbmUiLCJmaW5kIiwiaXRlbSIsInR5cGUiLCJzeXN0ZW1NZXNzYWdlIiwiaWQiLCJyb2xlIiwiY29udGVudCIsInRpdGxlIiwibGVhcm5pbmdMZXZlbCIsInRpbWVzdGFtcCIsIndlbGNvbWVNZXNzYWdlIiwiaW5pdGlhbE1lc3NhZ2VzIiwidXBkYXRlZFNlc3Npb24iLCJjdXJyZW50Q2hhcHRlciIsImhhbmRsZVNlbmRNZXNzYWdlIiwidXNlck1lc3NhZ2UiLCJ1cGRhdGVkTWVzc2FnZXMiLCJwcmV2IiwicmVzcG9uc2UiLCJkb2N1bWVudENvbnRlbnQiLCJzdWNjZXNzIiwiZGF0YSIsImFzc2lzdGFudE1lc3NhZ2UiLCJmaW5hbE1lc3NhZ2VzIiwiY2hlY2tBbmRVcGRhdGVDdXJyZW50Q2hhcHRlciIsIkVycm9yIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsIm1lc3NhZ2VzV2l0aEVycm9yIiwiYWlSZXNwb25zZSIsImxvd2VyUmVzcG9uc2UiLCJ0b0xvd2VyQ2FzZSIsInNlY3Rpb25OdW1iZXJQYXR0ZXJuIiwic2VjdGlvbk1hdGNoZXMiLCJtYXRjaEFsbCIsImxhc3RNYXRjaCIsInNlY3Rpb25OdW1iZXIiLCJ0YXJnZXRTZWN0aW9uIiwiaW5jbHVkZXMiLCJsb2ciLCJjb21wbGV0aW9uS2V5d29yZHMiLCJzb21lIiwia2V5d29yZCIsImNvbXBsZXRlZFNlY3Rpb25JZCIsImNvbXBsZXRlZFNlY3Rpb25QYXR0ZXJuIiwiY29tcGxldGVkTWF0Y2hlcyIsImNvbXBsZXRlZE51bWJlciIsImNvbXBsZXRlZFNlY3Rpb24iLCJ0aXRsZVdpdGhvdXROdW1iZXIiLCJyZXBsYWNlIiwidHJpbSIsImhhbmRsZU1hcmtDaGFwdGVyQ29tcGxldGVkIiwidXNlclJlcXVlc3ROZXh0S2V5d29yZHMiLCJsYXN0VXNlck1lc3NhZ2UiLCJmaWx0ZXIiLCJtIiwicG9wIiwiY3VycmVudEluZGV4IiwiZmluZEluZGV4IiwiaSIsIm5leHRTZWN0aW9uIiwiY2hhcHRlckZvdW5kQW5kVXBkYXRlZCIsInRpdGxlUGF0dGVybnMiLCJwYXR0ZXJuIiwiaGFuZGxlQ2hhcHRlckNsaWNrIiwiY2hhcHRlcklkIiwic3dpdGNoTWVzc2FnZSIsImhhbmRsZUJvb2ttYXJrTWVzc2FnZSIsIm1lc3NhZ2VJZCIsInVzZXJOb3RlIiwidGl0bGVSZXNwb25zZSIsImNhcmRUaXRsZSIsInN1YnN0cmluZyIsImNhcmQiLCJ0YWdzIiwiY3JlYXRlZEF0IiwibmV4dFJldmlld0F0IiwicmV2aWV3Q291bnQiLCJkaWZmaWN1bHR5IiwibWFwIiwiaXNCb29rbWFya2VkIiwiY2FyZElkIiwiZmFsbGJhY2tUaXRsZSIsImhhbmRsZUdvQmFjayIsInVwZGF0ZWRPdXRsaW5lIiwiaXNDb21wbGV0ZWQiLCJjb21wbGV0ZWRBdCIsImdldENvbXBsZXRpb25TdGF0cyIsImNvbXBsZXRlZCIsInRvdGFsIiwiaGFuZGxlQ2FyZHNVcGRhdGUiLCJkaXYiLCJjbGFzc05hbWUiLCJwIiwiaDIiLCJvbkNsaWNrIiwiaGVhZGVyIiwidmFyaWFudCIsInNpemUiLCJpY29uIiwiaDEiLCJzcGFuIiwic3RhdHMiLCJwZXJjZW50YWdlIiwicm91bmQiLCJzdHlsZSIsIndpZHRoIiwiaXRlbXMiLCJvbkNoYW5nZSIsImFjdGl2ZUNoYXB0ZXJJZCIsIm9uQ2hhcHRlckNsaWNrIiwicmVhZG9ubHkiLCJzaG93TnVtYmVycyIsImRpc2FibGVkIiwiaDMiLCJvblNlbmRNZXNzYWdlIiwib25Cb29rbWFya01lc3NhZ2UiLCJsb2FkaW5nIiwicGxhY2Vob2xkZXIiLCJvbkNhcmRzVXBkYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/learn/[sessionId].tsx\n"));

/***/ })

});