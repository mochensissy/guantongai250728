"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/learn/[sessionId]",{

/***/ "./pages/learn/[sessionId].tsx":
/*!*************************************!*\
  !*** ./pages/learn/[sessionId].tsx ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,BookOpen,MessageCircle,User,Zap!=!lucide-react */ \"__barrel_optimize__?names=ArrowLeft,BookOpen,MessageCircle,User,Zap!=!./node_modules/lucide-react/dist/esm/lucide-react.js\");\n/* harmony import */ var _src_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../src/components/ui/Button */ \"./src/components/ui/Button.tsx\");\n/* harmony import */ var _src_components_OutlineEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../src/components/OutlineEditor */ \"./src/components/OutlineEditor.tsx\");\n/* harmony import */ var _src_components_ChatInterface__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../src/components/ChatInterface */ \"./src/components/ChatInterface.tsx\");\n/* harmony import */ var _src_components_CardManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../src/components/CardManager */ \"./src/components/CardManager.tsx\");\n/* harmony import */ var _src_utils_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../src/utils/storage */ \"./src/utils/storage.ts\");\n/* harmony import */ var _src_utils_aiService__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../src/utils/aiService */ \"./src/utils/aiService.ts\");\n/**\n * å­¦ä¹ ä¼šè¯é¡µé¢\n * \n * æä¾›åŒæ å¸ƒå±€çš„å­¦ä¹ ç•Œé¢ï¼š\n * - å·¦ä¾§ï¼šå­¦ä¹ å¤§çº²å¯¼èˆª\n * - å³ä¾§ï¼šAIç§æ•™å¯¹è¯ç•Œé¢\n * - å¤§çº²ä¸å¯¹è¯çš„åŒå‘åŒæ­¥\n * - å­¦ä¹ è¿›åº¦è·Ÿè¸ª\n */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nconst LearnPage = ()=>{\n    var _session_outline_find, _session_outline_find1, _session_outline_find2, _session_outline_find3;\n    _s();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const { sessionId } = router.query;\n    // çŠ¶æ€ç®¡ç†\n    const [session, setSession] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [apiConfig, setApiConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isSendingMessage, setIsSendingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cardManagerKey, setCardManagerKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    /**\n   * åˆå§‹åŒ–ä¼šè¯æ•°æ®\n   */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!sessionId || typeof sessionId !== \"string\") return;\n        const loadSession = ()=>{\n            try {\n                const loadedSession = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.getSessionById)(sessionId);\n                const loadedConfig = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.getAPIConfig)();\n                if (!loadedSession) {\n                    alert(\"å­¦ä¹ ä¼šè¯ä¸å­˜åœ¨\");\n                    router.push(\"/\");\n                    return;\n                }\n                if (!loadedConfig) {\n                    alert(\"APIé…ç½®ä¸¢å¤±ï¼Œè¯·é‡æ–°é…ç½®\");\n                    router.push(\"/\");\n                    return;\n                }\n                setSession(loadedSession);\n                setApiConfig(loadedConfig);\n                // å¦‚æœæ˜¯æ–°ä¼šè¯ä¸”æ²¡æœ‰æ¶ˆæ¯ï¼Œå‘é€åˆå§‹æ¶ˆæ¯\n                if (loadedSession.messages.length === 0) {\n                    initializeChat(loadedSession, loadedConfig);\n                }\n            } catch (error) {\n                console.error(\"åŠ è½½ä¼šè¯å¤±è´¥:\", error);\n                alert(\"åŠ è½½ä¼šè¯å¤±è´¥\");\n                router.push(\"/\");\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        loadSession();\n    }, [\n        sessionId,\n        router\n    ]);\n    /**\n   * ç”Ÿæˆæ¶ˆæ¯ID\n   */ const generateMessageId = ()=>{\n        return \"msg-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n    };\n    /**\n   * ç”Ÿæˆå¡ç‰‡ID\n   */ const generateCardId = ()=>{\n        return \"card-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n    };\n    /**\n   * åˆå§‹åŒ–èŠå¤©\n   */ const initializeChat = async (sessionData, config)=>{\n        // æ‰¾åˆ°ç¬¬ä¸€ä¸ªå°èŠ‚ä½œä¸ºåˆå§‹å­¦ä¹ ç›®æ ‡\n        const firstSection = sessionData.outline.find((item)=>item.type === \"section\");\n        // åˆ›å»ºç³»ç»Ÿåˆå§‹åŒ–æ¶ˆæ¯\n        const systemMessage = {\n            id: generateMessageId(),\n            role: \"system\",\n            content: \"å­¦ä¹ ä¼šè¯å·²å¼€å§‹ã€‚æ–‡æ¡£æ ‡é¢˜ï¼š\".concat(sessionData.title, \"ï¼Œå­¦ä¹ æ°´å¹³ï¼š\").concat(sessionData.learningLevel === \"beginner\" ? \"å°ç™½\" : \"é«˜æ‰‹\", \"æ¨¡å¼ã€‚\"),\n            timestamp: Date.now()\n        };\n        const welcomeMessage = {\n            id: generateMessageId(),\n            role: \"assistant\",\n            content: \"ä½ å¥½ï¼æˆ‘å°†ä½œä¸ºä½ çš„ç§äººå¯¼å¸ˆï¼Œå¸®åŠ©ä½ æ›´å¥½çš„ç†è§£ä½ ä¸Šä¼ çš„ææ–™ã€Š\".concat(sessionData.title, \"ã€‹ã€‚ä¸ºäº†ç»™æ‚¨æä¾›æœ€åˆé€‚çš„æ•™å­¦ä½“éªŒï¼Œæˆ‘å°†æ ¹æ®ä½ ä¹‹å‰é€‰æ‹©çš„\").concat(sessionData.learningLevel === \"beginner\" ? \"å°ç™½\" : \"é«˜æ‰‹\", \"æ¨¡å¼æ¥è·Ÿä½ äº’åŠ¨ã€‚\\n\\nçœ‹å®Œå·¦è¾¹è¿™ä¸ªè¯¾ç¨‹å¤§çº²äº†å—ï¼Ÿæˆ‘ä»¬æ˜¯æŒ‰ç…§è¿™ä¸ªé¡ºåºä»ç¬¬ä¸€ç« å¼€å§‹ï¼Œè¿˜æ˜¯æ‚¨æƒ³å…ˆè·³åˆ°æŸä¸ªæ‚¨ç‰¹åˆ«æ„Ÿå…´è¶£çš„ç« èŠ‚ï¼Ÿ\"),\n            timestamp: Date.now()\n        };\n        const initialMessages = [\n            systemMessage,\n            welcomeMessage\n        ];\n        // æ›´æ–°ä¼šè¯\n        const updatedSession = {\n            ...sessionData,\n            messages: initialMessages,\n            currentChapter: firstSection === null || firstSection === void 0 ? void 0 : firstSection.id\n        };\n        setSession(updatedSession);\n        // ä¿å­˜ä¼šè¯å’Œå½“å‰ç« èŠ‚\n        (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.saveSession)(updatedSession);\n    };\n    /**\n   * å‘é€æ¶ˆæ¯ç»™AI\n   */ const handleSendMessage = async (content)=>{\n        if (!session || !apiConfig || isSendingMessage) return;\n        setIsSendingMessage(true);\n        try {\n            // åˆ›å»ºç”¨æˆ·æ¶ˆæ¯\n            const userMessage = {\n                id: generateMessageId(),\n                role: \"user\",\n                content,\n                timestamp: Date.now()\n            };\n            // æ›´æ–°æ¶ˆæ¯åˆ—è¡¨\n            const updatedMessages = [\n                ...session.messages,\n                userMessage\n            ];\n            setSession((prev)=>prev ? {\n                    ...prev,\n                    messages: updatedMessages\n                } : null);\n            // å‘é€ç»™AI\n            const response = await (0,_src_utils_aiService__WEBPACK_IMPORTED_MODULE_8__.sendChatMessage)(apiConfig, updatedMessages, session.documentContent, session.outline, session.learningLevel);\n            if (response.success && response.data) {\n                // åˆ›å»ºAIå›å¤æ¶ˆæ¯\n                const assistantMessage = {\n                    id: generateMessageId(),\n                    role: \"assistant\",\n                    content: response.data,\n                    timestamp: Date.now()\n                };\n                const finalMessages = [\n                    ...updatedMessages,\n                    assistantMessage\n                ];\n                // æ›´æ–°æœ¬åœ°çŠ¶æ€\n                setSession((prev)=>prev ? {\n                        ...prev,\n                        messages: finalMessages\n                    } : null);\n                // ä¿å­˜åˆ°å­˜å‚¨\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionMessages)(session.id, finalMessages);\n                // æ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°å½“å‰ç« èŠ‚\n                await checkAndUpdateCurrentChapter(response.data, session);\n            } else {\n                throw new Error(response.error || \"AIå“åº”å¤±è´¥\");\n            }\n        } catch (error) {\n            console.error(\"å‘é€æ¶ˆæ¯å¤±è´¥:\", error);\n            // åˆ›å»ºé”™è¯¯æ¶ˆæ¯\n            const errorMessage = {\n                id: generateMessageId(),\n                role: \"system\",\n                content: \"å‘é€å¤±è´¥: \".concat(error instanceof Error ? error.message : \"æœªçŸ¥é”™è¯¯\"),\n                timestamp: Date.now()\n            };\n            setSession((prev)=>{\n                if (!prev) return null;\n                const messagesWithError = [\n                    ...prev.messages,\n                    errorMessage\n                ];\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionMessages)(prev.id, messagesWithError);\n                return {\n                    ...prev,\n                    messages: messagesWithError\n                };\n            });\n        } finally{\n            setIsSendingMessage(false);\n        }\n    };\n    /**\n   * æ£€æŸ¥å¹¶æ›´æ–°å½“å‰ç« èŠ‚\n   */ const checkAndUpdateCurrentChapter = async (aiResponse, sessionData)=>{\n        const lowerResponse = aiResponse.toLowerCase();\n        // 1. é¦–å…ˆæ£€æŸ¥ç”¨æˆ·æ˜¯å¦æ˜ç¡®è¦æ±‚è·³è½¬åˆ°ç‰¹å®šå°èŠ‚\n        const userMessageForJump = sessionData.messages.filter((m)=>m.role === \"user\").pop();\n        if (userMessageForJump) {\n            // æ£€æŸ¥ç”¨æˆ·æ¶ˆæ¯ä¸­çš„å°èŠ‚ç¼–å·ï¼ˆå¦‚\"å»1.2\"ã€\"å­¦ä¹ 1.3\"ã€\"1.2å°èŠ‚\"ç­‰ï¼‰\n            const userSectionPattern = /(?:å»|åˆ°|å­¦ä¹ |è¿›å…¥|å¼€å§‹)?.*?(\\d+\\.\\d+)(?:å°èŠ‚|èŠ‚)?/g;\n            const userSectionMatches = [\n                ...userMessageForJump.content.matchAll(userSectionPattern)\n            ];\n            if (userSectionMatches.length > 0) {\n                // æ‰¾åˆ°æœ€åä¸€ä¸ªæåˆ°çš„å°èŠ‚ç¼–å·\n                const lastMatch = userSectionMatches[userSectionMatches.length - 1];\n                const sectionNumber = lastMatch[1];\n                // åœ¨å¤§çº²ä¸­æŸ¥æ‰¾å¯¹åº”çš„å°èŠ‚\n                const targetSection = sessionData.outline.find((item)=>item.type === \"section\" && item.title.includes(sectionNumber));\n                if (targetSection && sessionData.currentChapter !== targetSection.id) {\n                    console.log(\"ç”¨æˆ·è¦æ±‚è·³è½¬åˆ°å°èŠ‚ \".concat(sectionNumber, \"ï¼Œåˆ‡æ¢åˆ°:\"), targetSection.title);\n                    // åœ¨è·³è½¬åˆ°æŒ‡å®šå°èŠ‚ä¹‹å‰ï¼Œå…ˆæ ‡è®°å½“å‰å°èŠ‚ä¸ºå®Œæˆ\n                    if (sessionData.currentChapter) {\n                        console.log(\"ç”¨æˆ·è·³è½¬å‰æ ‡è®°å½“å‰å°èŠ‚ä¸ºå®Œæˆ:\", sessionData.currentChapter);\n                        await handleMarkChapterCompleted(sessionData.currentChapter);\n                    }\n                    (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(sessionData.id, targetSection.id);\n                    setSession((prev)=>prev ? {\n                            ...prev,\n                            currentChapter: targetSection.id\n                        } : null);\n                    return; // æ‰¾åˆ°æ˜ç¡®çš„å°èŠ‚ï¼Œç›´æ¥è¿”å›\n                }\n            }\n        }\n        // 2. æ£€æŸ¥AIæ˜¯å¦æ˜ç¡®æåˆ°äº†å…·ä½“çš„å°èŠ‚ç¼–å·\n        console.log(\"AIå›å¤å†…å®¹:\", aiResponse);\n        const aiSectionPattern = /(?:ç°åœ¨|å¼€å§‹|è¿›å…¥|å­¦ä¹ |è®²è§£|æ¢è®¨).*?(\\d+\\.\\d+)(?:å°èŠ‚|èŠ‚)?/g;\n        const aiSectionMatches = [\n            ...aiResponse.matchAll(aiSectionPattern)\n        ];\n        console.log(\"AIå°èŠ‚åŒ¹é…ç»“æœ:\", aiSectionMatches);\n        if (aiSectionMatches.length > 0) {\n            // æ‰¾åˆ°æœ€åä¸€ä¸ªæåˆ°çš„å°èŠ‚ç¼–å·\n            const lastMatch = aiSectionMatches[aiSectionMatches.length - 1];\n            const sectionNumber = lastMatch[1];\n            console.log(\"AIæåˆ°çš„å°èŠ‚ç¼–å·:\", sectionNumber);\n            // åœ¨å¤§çº²ä¸­æŸ¥æ‰¾å¯¹åº”çš„å°èŠ‚\n            const targetSection = sessionData.outline.find((item)=>item.type === \"section\" && item.title.includes(sectionNumber));\n            console.log(\"æ‰¾åˆ°çš„ç›®æ ‡å°èŠ‚:\", targetSection);\n            if (targetSection && sessionData.currentChapter !== targetSection.id) {\n                console.log(\"AIæ˜ç¡®æåˆ°å°èŠ‚ \".concat(sectionNumber, \"ï¼Œåˆ‡æ¢åˆ°:\"), targetSection.title);\n                // åœ¨åˆ‡æ¢åˆ°æ–°å°èŠ‚ä¹‹å‰ï¼Œå…ˆæ ‡è®°å½“å‰å°èŠ‚ä¸ºå®Œæˆ\n                if (sessionData.currentChapter) {\n                    console.log(\"åˆ‡æ¢å‰æ ‡è®°å½“å‰å°èŠ‚ä¸ºå®Œæˆ:\", sessionData.currentChapter);\n                    await handleMarkChapterCompleted(sessionData.currentChapter);\n                }\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(sessionData.id, targetSection.id);\n                setSession((prev)=>prev ? {\n                        ...prev,\n                        currentChapter: targetSection.id\n                    } : null);\n                return; // æ‰¾åˆ°æ˜ç¡®çš„å°èŠ‚ï¼Œç›´æ¥è¿”å›\n            }\n        }\n        // 2. æ£€æŸ¥AIæ˜¯å¦æåˆ°äº†å°èŠ‚å®Œæˆçš„å…³é”®è¯\n        const completionKeywords = [\n            \"å®Œæˆäº†\",\n            \"å·²ç»å®Œæˆäº†\",\n            \"æˆ‘ä»¬å®Œæˆäº†\",\n            \"åˆšæ‰å®Œæˆäº†\",\n            \"å­¦ä¹ å®Œäº†\",\n            \"å·²ç»å­¦å®Œäº†\",\n            \"æˆ‘ä»¬å­¦å®Œäº†\",\n            \"ç»“æŸäº†\",\n            \"å·²ç»ç»“æŸäº†\",\n            \"æˆ‘ä»¬ç»“æŸäº†\",\n            \"è¿™ä¸€èŠ‚å°±åˆ°è¿™é‡Œ\",\n            \"æœ¬èŠ‚å†…å®¹ç»“æŸ\",\n            \"è¿™ä¸ªå°èŠ‚çš„å†…å®¹å°±è®²å®Œäº†\",\n            \"æœ¬å°èŠ‚åˆ°æ­¤ç»“æŸ\"\n        ];\n        console.log(\"æ£€æŸ¥AIæ˜¯å¦æåˆ°å®Œæˆå…³é”®è¯:\", completionKeywords.some((keyword)=>lowerResponse.includes(keyword)));\n        console.log(\"AIå›å¤å†…å®¹(å°å†™):\", lowerResponse);\n        // å¦‚æœAIæåˆ°äº†å®Œæˆå…³é”®è¯\n        if (completionKeywords.some((keyword)=>lowerResponse.includes(keyword))) {\n            let completedSectionId = null;\n            // æ£€æŸ¥æ˜¯å¦æåˆ°äº†å…·ä½“çš„å°èŠ‚ç¼–å·ï¼ˆç”¨äºæ ‡è®°å®Œæˆï¼‰\n            // å¢å¼ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œæ”¯æŒæ›´å¤šçš„è¡¨è¾¾æ–¹å¼\n            const completedSectionPattern = /(?:å®Œæˆäº†|å­¦å®Œäº†|ç»“æŸäº†|å·²ç»å®Œæˆäº†|æˆ‘ä»¬å®Œæˆäº†).*?(\\d+\\.\\d+)(?:å°èŠ‚|èŠ‚)?.*?(?:çš„å­¦ä¹ |å­¦ä¹ |çš„å†…å®¹)?/g;\n            const completedMatches = [\n                ...aiResponse.matchAll(completedSectionPattern)\n            ];\n            console.log(\"å®Œæˆå°èŠ‚åŒ¹é…ç»“æœ:\", completedMatches);\n            if (completedMatches.length > 0) {\n                const completedNumber = completedMatches[0][1];\n                console.log(\"æå–åˆ°çš„å®Œæˆå°èŠ‚ç¼–å·:\", completedNumber);\n                const completedSection = sessionData.outline.find((item)=>item.type === \"section\" && item.title.includes(completedNumber));\n                console.log(\"æ‰¾åˆ°çš„å®Œæˆå°èŠ‚:\", completedSection);\n                if (completedSection) {\n                    completedSectionId = completedSection.id;\n                }\n            }\n            // å¦‚æœæ²¡æœ‰æ˜ç¡®çš„ç¼–å·ï¼Œå°è¯•é€šè¿‡å°èŠ‚æ ‡é¢˜åŒ¹é…\n            if (!completedSectionId) {\n                console.log(\"å°è¯•é€šè¿‡æ ‡é¢˜åŒ¹é…å®Œæˆçš„å°èŠ‚\");\n                for (const item of sessionData.outline){\n                    if (item.type === \"section\") {\n                        const titleWithoutNumber = item.title.replace(/^\\d+\\.\\d+\\s*/, \"\").trim();\n                        if (titleWithoutNumber && aiResponse.includes(titleWithoutNumber)) {\n                            console.log(\"é€šè¿‡æ ‡é¢˜åŒ¹é…åˆ°å®Œæˆå°èŠ‚:\", item.title);\n                            completedSectionId = item.id;\n                            break;\n                        }\n                    }\n                }\n            }\n            // å¦‚æœè¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼Œä½¿ç”¨å½“å‰ç« èŠ‚\n            if (!completedSectionId && sessionData.currentChapter) {\n                console.log(\"ä½¿ç”¨å½“å‰ç« èŠ‚ä½œä¸ºå®Œæˆå°èŠ‚:\", sessionData.currentChapter);\n                completedSectionId = sessionData.currentChapter;\n            }\n            // æ ‡è®°æ‰¾åˆ°çš„å°èŠ‚ä¸ºå®Œæˆ\n            if (completedSectionId) {\n                console.log(\"æ ‡è®°å°èŠ‚ä¸ºå®Œæˆ:\", completedSectionId);\n                await handleMarkChapterCompleted(completedSectionId);\n            } else {\n                console.log(\"æœªæ‰¾åˆ°è¦æ ‡è®°ä¸ºå®Œæˆçš„å°èŠ‚\");\n            }\n        }\n        // 3. æ£€æŸ¥æ˜¯å¦ç”¨æˆ·æ˜ç¡®è¦æ±‚è¿›å…¥ä¸‹ä¸€èŠ‚\n        // æ³¨æ„ï¼šæ ¹æ®æ–°çš„\"ä¸€æ­¥ä¸€åœ\"æ•™å­¦æ¨¡å¼ï¼Œæˆ‘ä»¬ä¸åº”è¯¥å› ä¸ºAIæåˆ°\"æ¥ä¸‹æ¥\"å°±è‡ªåŠ¨æ¨è¿›\n        // åªæœ‰å½“ç”¨æˆ·æ˜ç¡®è¦æ±‚æˆ–AIæ˜ç¡®è¯´æ˜æ•´ä¸ªå°èŠ‚å·²ç»å®Œæˆæ—¶æ‰æ¨è¿›\n        const userRequestNextKeywords = [\n            \"æˆ‘æƒ³å­¦ä¸‹ä¸€èŠ‚\",\n            \"è¿›å…¥ä¸‹ä¸€èŠ‚å§\",\n            \"å¼€å§‹ä¸‹ä¸€èŠ‚\",\n            \"ä¸‹ä¸€ä¸ªå°èŠ‚\",\n            \"ç»§ç»­ä¸‹ä¸€èŠ‚\",\n            \"è·³åˆ°ä¸‹ä¸€èŠ‚\",\n            \"ä¸‹ä¸€ç« å§\",\n            \"è¿›å…¥ä¸‹ä¸€ç« \",\n            \"å¼€å§‹ä¸‹ä¸€ç« \",\n            \"ä¸‹ä¸€ä¸ªç« èŠ‚\",\n            \"ç»§ç»­ä¸‹ä¸€ç« \",\n            \"ä¸‹ä¸ªç« èŠ‚\"\n        ];\n        // åªæœ‰å½“ç”¨æˆ·çš„æ¶ˆæ¯ä¸­åŒ…å«è¿™äº›å…³é”®è¯æ—¶æ‰è€ƒè™‘æ¨è¿›\n        const userMessageForNext = sessionData.messages.filter((m)=>m.role === \"user\").pop();\n        if (userMessageForNext && userRequestNextKeywords.some((keyword)=>userMessageForNext.content.toLowerCase().includes(keyword))) {\n            // å¦‚æœæ²¡æœ‰æ˜ç¡®æŒ‡å®šå°èŠ‚ç¼–å·ï¼Œè‡ªåŠ¨æ¨è¿›åˆ°ä¸‹ä¸€ä¸ªå°èŠ‚\n            if (!aiSectionMatches.length && sessionData.currentChapter) {\n                const currentIndex = sessionData.outline.findIndex((item)=>item.id === sessionData.currentChapter);\n                console.log(\"å½“å‰ç« èŠ‚ç´¢å¼•:\", currentIndex, \"å½“å‰ç« èŠ‚ID:\", sessionData.currentChapter);\n                console.log(\"å¤§çº²ç»“æ„:\", sessionData.outline.map((item, index)=>\"\".concat(index, \": \").concat(item.title, \" (\").concat(item.type, \")\")));\n                if (currentIndex >= 0) {\n                    // æŸ¥æ‰¾ä¸‹ä¸€ä¸ªå°èŠ‚ï¼ˆè·³è¿‡ç« èŠ‚æ ‡é¢˜ï¼‰\n                    for(let i = currentIndex + 1; i < sessionData.outline.length; i++){\n                        console.log(\"æ£€æŸ¥ç´¢å¼• \".concat(i, \": \").concat(sessionData.outline[i].title, \" (\").concat(sessionData.outline[i].type, \")\"));\n                        if (sessionData.outline[i].type === \"section\") {\n                            const nextSection = sessionData.outline[i];\n                            console.log(\"ç”¨æˆ·è¦æ±‚æ¨è¿›åˆ°ä¸‹ä¸€å°èŠ‚:\", nextSection.title);\n                            // åœ¨æ¨è¿›åˆ°ä¸‹ä¸€èŠ‚ä¹‹å‰ï¼Œå…ˆæ ‡è®°å½“å‰å°èŠ‚ä¸ºå®Œæˆ\n                            console.log(\"ç”¨æˆ·æ¨è¿›å‰æ ‡è®°å½“å‰å°èŠ‚ä¸ºå®Œæˆ:\", sessionData.currentChapter);\n                            await handleMarkChapterCompleted(sessionData.currentChapter);\n                            (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(sessionData.id, nextSection.id);\n                            setSession((prev)=>prev ? {\n                                    ...prev,\n                                    currentChapter: nextSection.id\n                                } : null);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        // 4. æ£€æŸ¥AIæ˜¯å¦æåˆ°äº†å…·ä½“çš„å°èŠ‚æ ‡é¢˜ï¼ˆç”¨äºåˆ‡æ¢ç« èŠ‚ï¼‰\n        let chapterFoundAndUpdated = false;\n        for (const item of sessionData.outline){\n            if (item.type === \"section\" && !chapterFoundAndUpdated) {\n                // æ£€æŸ¥æ˜¯å¦æåˆ°äº†å°èŠ‚çš„æ ¸å¿ƒæ ‡é¢˜\n                const titleWithoutNumber = item.title.replace(/^\\d+\\.\\d+\\s*/, \"\").trim();\n                if (titleWithoutNumber.length > 2) {\n                    const titlePatterns = [\n                        \"å­¦ä¹ \".concat(titleWithoutNumber),\n                        \"å¼€å§‹\".concat(titleWithoutNumber),\n                        \"è¿›å…¥\".concat(titleWithoutNumber),\n                        \"è®²è§£\".concat(titleWithoutNumber),\n                        \"\".concat(titleWithoutNumber, \"çš„å†…å®¹\"),\n                        \"\".concat(titleWithoutNumber, \"éƒ¨åˆ†\")\n                    ];\n                    if (titlePatterns.some((pattern)=>aiResponse.includes(pattern))) {\n                        if (sessionData.currentChapter !== item.id) {\n                            console.log(\"é€šè¿‡æ ‡é¢˜åŒ¹é…åˆ‡æ¢ç« èŠ‚:\", item.title);\n                            (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(sessionData.id, item.id);\n                            setSession((prev)=>prev ? {\n                                    ...prev,\n                                    currentChapter: item.id\n                                } : null);\n                            chapterFoundAndUpdated = true;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n   * å¤„ç†ç« èŠ‚ç‚¹å‡»\n   */ const handleChapterClick = (chapterId)=>{\n        if (!session || isSendingMessage) return;\n        const item = session.outline.find((item)=>item.id === chapterId);\n        if (!item) return;\n        // åªæœ‰å°èŠ‚ï¼ˆsectionï¼‰æ‰èƒ½ç‚¹å‡»å­¦ä¹ ï¼Œç« èŠ‚ï¼ˆchapterï¼‰åªæ˜¯æ ‡é¢˜\n        if (item.type === \"chapter\") return;\n        // æ›´æ–°å½“å‰ç« èŠ‚\n        (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionCurrentChapter)(session.id, chapterId);\n        setSession((prev)=>prev ? {\n                ...prev,\n                currentChapter: chapterId\n            } : null);\n        // å‘é€åˆ‡æ¢ç« èŠ‚çš„æ¶ˆæ¯\n        const switchMessage = 'æˆ‘æƒ³è·³è½¬åˆ°\"'.concat(item.title, '\"è¿™ä¸ªå°èŠ‚è¿›è¡Œå­¦ä¹ ã€‚');\n        handleSendMessage(switchMessage);\n    };\n    /**\n   * å¤„ç†æ¶ˆæ¯æ”¶è—ä¸ºå¡ç‰‡\n   */ const handleBookmarkMessage = async (messageId, type, userNote)=>{\n        if (!session || !apiConfig) return;\n        const message = session.messages.find((m)=>m.id === messageId);\n        if (!message || message.role !== \"assistant\") return;\n        try {\n            // é¦–å…ˆæçº¯å†…å®¹ï¼Œç„¶ååŸºäºæçº¯åçš„å†…å®¹ç”Ÿæˆæ ‡é¢˜\n            const contentResponse = await (0,_src_utils_aiService__WEBPACK_IMPORTED_MODULE_8__.purifyCardContent)(apiConfig, message.content, userNote);\n            const purifiedContent = contentResponse.success ? contentResponse.data : message.content;\n            console.log(\"åŸå§‹å¯¹è¯å†…å®¹:\", message.content);\n            console.log(\"æçº¯åå†…å®¹:\", purifiedContent);\n            // åŸºäºæçº¯åçš„å†…å®¹ç”Ÿæˆæ ‡é¢˜ï¼ˆæ›´å‡†ç¡®ï¼‰\n            const titleResponse = await (0,_src_utils_aiService__WEBPACK_IMPORTED_MODULE_8__.summarizeCardTitle)(apiConfig, purifiedContent);\n            const cardTitle = titleResponse.success ? titleResponse.data : purifiedContent.substring(0, 12);\n            // åˆ›å»ºå¡ç‰‡\n            const card = {\n                id: generateCardId(),\n                title: cardTitle,\n                content: purifiedContent,\n                userNote,\n                type,\n                tags: [],\n                createdAt: Date.now(),\n                nextReviewAt: Date.now() + 1 * 60 * 1000,\n                reviewCount: 0,\n                difficulty: 3,\n                sessionId: session.id,\n                messageId: message.id,\n                chapterId: session.currentChapter\n            };\n            // ä¿å­˜å¡ç‰‡\n            const success = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.addLearningCard)(session.id, card);\n            if (success) {\n                // æ›´æ–°æ¶ˆæ¯çš„æ”¶è—çŠ¶æ€\n                const updatedMessages = session.messages.map((m)=>m.id === messageId ? {\n                        ...m,\n                        isBookmarked: true,\n                        cardId: card.id\n                    } : m);\n                setSession((prev)=>prev ? {\n                        ...prev,\n                        messages: updatedMessages\n                    } : null);\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionMessages)(session.id, updatedMessages);\n                // åˆ·æ–°å¡ç‰‡ç®¡ç†å™¨\n                setCardManagerKey((prev)=>prev + 1);\n            }\n        } catch (error) {\n            console.error(\"åˆ›å»ºå¡ç‰‡å¤±è´¥:\", error);\n            // å¦‚æœAIè°ƒç”¨å¤±è´¥ï¼Œä½¿ç”¨ç®€åŒ–å¤„ç†çš„å¤‡ç”¨æ–¹æ¡ˆ\n            const fallbackTitle = message.content.substring(0, 12);\n            // ç®€å•çš„æ–‡æœ¬æ¸…ç†ä½œä¸ºå¤‡ç”¨\n            const fallbackContent = message.content.replace(/[ğŸ˜ŠğŸ˜„ğŸ˜†ğŸ¤”ğŸ’¡ğŸ‘ğŸ“šâœ¨ğŸ¯ğŸš€ğŸ”§ğŸ¨]/g, \"\") // ç§»é™¤è¡¨æƒ…ç¬¦å·\n            .replace(/ä½ å¥½[ï¼!]*\\s*/g, \"\").replace(/æˆ‘ä»¬[æ¥å»]?[å­¦ä¹ è®²è§£åˆ†ææ¢è®¨]*\\s*/g, \"\").replace(/ä½ è§‰å¾—.*?[ï¼Ÿ?]/g, \"\").replace(/æ˜ç™½äº†å—[ï¼Ÿ?]/g, \"\").trim();\n            const card = {\n                id: generateCardId(),\n                title: fallbackTitle,\n                content: fallbackContent + (userNote ? \"\\n\\nå­¦ä¹ æ„Ÿå—ï¼š\".concat(userNote) : \"\"),\n                userNote,\n                type,\n                tags: [],\n                createdAt: Date.now(),\n                nextReviewAt: Date.now() + 1 * 60 * 1000,\n                reviewCount: 0,\n                difficulty: 3,\n                sessionId: session.id,\n                messageId: message.id,\n                chapterId: session.currentChapter\n            };\n            const success = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.addLearningCard)(session.id, card);\n            if (success) {\n                const updatedMessages = session.messages.map((m)=>m.id === messageId ? {\n                        ...m,\n                        isBookmarked: true,\n                        cardId: card.id\n                    } : m);\n                setSession((prev)=>prev ? {\n                        ...prev,\n                        messages: updatedMessages\n                    } : null);\n                (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.updateSessionMessages)(session.id, updatedMessages);\n                setCardManagerKey((prev)=>prev + 1);\n            }\n        }\n    };\n    /**\n   * è¿”å›é¦–é¡µ\n   */ const handleGoBack = ()=>{\n        router.push(\"/\");\n    };\n    /**\n   * æ ‡è®°ç« èŠ‚ä¸ºå·²å®Œæˆ\n   */ const handleMarkChapterCompleted = async (chapterId)=>{\n        if (!session) return;\n        const success = (0,_src_utils_storage__WEBPACK_IMPORTED_MODULE_7__.markChapterCompleted)(session.id, chapterId);\n        if (success) {\n            // æ›´æ–°æœ¬åœ°çŠ¶æ€\n            setSession((prev)=>{\n                if (!prev) return null;\n                const updatedOutline = prev.outline.map((item)=>item.id === chapterId ? {\n                        ...item,\n                        isCompleted: true,\n                        completedAt: Date.now()\n                    } : item);\n                return {\n                    ...prev,\n                    outline: updatedOutline\n                };\n            });\n        }\n    };\n    /**\n   * è®¡ç®—å®Œæˆè¿›åº¦\n   */ const getCompletionStats = ()=>{\n        if (!session) return {\n            completed: 0,\n            total: 0\n        };\n        const completed = session.outline.filter((item)=>item.isCompleted).length;\n        const total = session.outline.length;\n        return {\n            completed,\n            total\n        };\n    };\n    /**\n   * å¤„ç†å¡ç‰‡æ›´æ–°\n   */ const handleCardsUpdate = ()=>{\n        setCardManagerKey((prev)=>prev + 1);\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent mx-auto mb-4\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                        lineNumber: 595,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600\",\n                        children: \"åŠ è½½å­¦ä¹ ä¼šè¯ä¸­...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                        lineNumber: 596,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                lineNumber: 594,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n            lineNumber: 593,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (!session) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-gray-900 mb-4\",\n                        children: \"ä¼šè¯ä¸å­˜åœ¨\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                        lineNumber: 606,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600 mb-6\",\n                        children: \"è¯·æ£€æŸ¥é“¾æ¥æ˜¯å¦æ­£ç¡®\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                        lineNumber: 607,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        onClick: handleGoBack,\n                        children: \"è¿”å›é¦–é¡µ\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                        lineNumber: 608,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                lineNumber: 605,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n            lineNumber: 604,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen bg-gray-50 flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"bg-white border-b border-gray-200 flex-shrink-0\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between h-16 px-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    variant: \"ghost\",\n                                    size: \"sm\",\n                                    onClick: handleGoBack,\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.ArrowLeft, {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                        lineNumber: 625,\n                                        columnNumber: 21\n                                    }, void 0),\n                                    children: \"è¿”å›\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                    lineNumber: 621,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-l border-gray-300 pl-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                            className: \"text-lg font-semibold text-gray-900 truncate max-w-md\",\n                                            children: session.title\n                                        }, void 0, false, {\n                                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                            lineNumber: 631,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-3 text-sm text-gray-500\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"flex items-center gap-1\",\n                                                    children: [\n                                                        session.learningLevel === \"beginner\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.User, {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                            lineNumber: 637,\n                                                            columnNumber: 21\n                                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.Zap, {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                            lineNumber: 639,\n                                                            columnNumber: 21\n                                                        }, undefined),\n                                                        session.learningLevel === \"beginner\" ? \"å°ç™½æ¨¡å¼\" : \"é«˜æ‰‹æ¨¡å¼\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 635,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 644,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: (()=>{\n                                                        const stats = getCompletionStats();\n                                                        return \"\".concat(stats.completed, \"/\").concat(stats.total, \" ä¸ªç« èŠ‚å·²å®Œæˆ\");\n                                                    })()\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 646,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 653,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        session.messages.filter((m)=>m.role !== \"system\").length,\n                                                        \" æ¡å¯¹è¯\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 655,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                            lineNumber: 634,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                    lineNumber: 630,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                            lineNumber: 620,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-gray-500\",\n                                children: \"æ‹–æ‹½ä¸­é—´åˆ†éš”æ¡å¯è°ƒæ•´é¢æ¿å¤§å°\"\n                            }, void 0, false, {\n                                fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                lineNumber: 662,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                            lineNumber: 661,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                    lineNumber: 618,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                lineNumber: 617,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex overflow-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex w-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-1/4 min-w-[250px] max-w-[400px] h-full bg-white border-r border-gray-200 flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-6 border-b border-gray-200 flex-shrink-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2 mb-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.BookOpen, {\n                                                    className: \"w-5 h-5 text-primary-600\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 677,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                    className: \"text-lg font-semibold text-gray-900\",\n                                                    children: \"å­¦ä¹ å¤§çº²\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 678,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                            lineNumber: 676,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm text-gray-600\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            children: [\n                                                                \"å…± \",\n                                                                session.outline.length,\n                                                                \" ä¸ªç« èŠ‚\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                            lineNumber: 684,\n                                                            columnNumber: 19\n                                                        }, undefined),\n                                                        (()=>{\n                                                            const stats = getCompletionStats();\n                                                            const percentage = stats.total > 0 ? Math.round(stats.completed / stats.total * 100) : 0;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-green-600\",\n                                                                        children: [\n                                                                            \"å·²å®Œæˆ \",\n                                                                            stats.completed,\n                                                                            \" ä¸ª (\",\n                                                                            percentage,\n                                                                            \"%)\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                                        lineNumber: 690,\n                                                                        columnNumber: 25\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"w-full bg-gray-200 rounded-full h-2 mt-1\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"bg-green-500 h-2 rounded-full transition-all duration-300\",\n                                                                            style: {\n                                                                                width: \"\".concat(percentage, \"%\")\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                                            lineNumber: 692,\n                                                                            columnNumber: 27\n                                                                        }, undefined)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                                        lineNumber: 691,\n                                                                        columnNumber: 25\n                                                                    }, undefined)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                                lineNumber: 689,\n                                                                columnNumber: 23\n                                                            }, undefined);\n                                                        })()\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 683,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                session.currentChapter && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"mt-2 text-primary-600\",\n                                                    children: [\n                                                        \"å½“å‰ï¼š\",\n                                                        (_session_outline_find = session.outline.find((item)=>item.id === session.currentChapter)) === null || _session_outline_find === void 0 ? void 0 : _session_outline_find.title\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 702,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                            lineNumber: 682,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                    lineNumber: 675,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-y-auto p-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_OutlineEditor__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            items: session.outline,\n                                            onChange: ()=>{},\n                                            activeChapterId: session.currentChapter,\n                                            onChapterClick: handleChapterClick,\n                                            readonly: true,\n                                            showNumbers: true\n                                        }, void 0, false, {\n                                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                            lineNumber: 711,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        session.currentChapter && ((_session_outline_find1 = session.outline.find((item)=>item.id === session.currentChapter)) === null || _session_outline_find1 === void 0 ? void 0 : _session_outline_find1.type) === \"section\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-4 pt-4 border-t border-gray-200\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm text-gray-600 mb-2\",\n                                                    children: \"å½“å‰å°èŠ‚æ“ä½œï¼š\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 723,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                                    variant: \"outline\",\n                                                    size: \"sm\",\n                                                    onClick: ()=>handleMarkChapterCompleted(session.currentChapter),\n                                                    disabled: (_session_outline_find2 = session.outline.find((item)=>item.id === session.currentChapter)) === null || _session_outline_find2 === void 0 ? void 0 : _session_outline_find2.isCompleted,\n                                                    className: \"w-full\",\n                                                    children: ((_session_outline_find3 = session.outline.find((item)=>item.id === session.currentChapter)) === null || _session_outline_find3 === void 0 ? void 0 : _session_outline_find3.isCompleted) ? \"âœ… å·²å®Œæˆ\" : \"æ ‡è®°ä¸ºå·²å®Œæˆ\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 726,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                            lineNumber: 722,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                    lineNumber: 710,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                            lineNumber: 673,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 h-full flex flex-col bg-white overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-shrink-0 p-4 border-b border-gray-200\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-10 h-10 bg-gradient-to-br from-secondary-500 to-secondary-600 rounded-full flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_MessageCircle_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.MessageCircle, {\n                                                    className: \"w-5 h-5 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                    lineNumber: 749,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                lineNumber: 748,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                        className: \"font-semibold text-gray-900\",\n                                                        children: \"AIç§æ•™åŠ©æ‰‹\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                        lineNumber: 752,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-gray-500\",\n                                                        children: session.learningLevel === \"beginner\" ? \"è€å¿ƒå¼•å¯¼æ¨¡å¼ï¼Œå¾ªåºæ¸è¿›\" : \"é«˜æ•ˆå­¦ä¹ æ¨¡å¼ï¼Œç›´å‡»é‡ç‚¹\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                        lineNumber: 753,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                                lineNumber: 751,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                        lineNumber: 747,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                    lineNumber: 746,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-hidden\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_ChatInterface__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                        messages: session.messages.filter((m)=>m.role !== \"system\"),\n                                        onSendMessage: handleSendMessage,\n                                        onBookmarkMessage: handleBookmarkMessage,\n                                        loading: isSendingMessage,\n                                        placeholder: \"è¾“å…¥æ‚¨çš„é—®é¢˜æˆ–å›åº”...\",\n                                        disabled: isSendingMessage\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                        lineNumber: 765,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                    lineNumber: 764,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                            lineNumber: 744,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-1/5 min-w-[280px] max-w-[350px] h-full\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_CardManager__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                sessionId: session.id,\n                                onCardsUpdate: handleCardsUpdate\n                            }, cardManagerKey, false, {\n                                fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                                lineNumber: 778,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                            lineNumber: 777,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                    lineNumber: 671,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n                lineNumber: 670,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/hubai/Documents/AIææ•ˆé¡¹ç›®å¼€å‘/250728ç§æ•™äº’åŠ¨å¹³å°--å¤–è§‚å®Œæ•´ä½†å¯¹è¯ä¸è¡Œç‰ˆæœ¬/pages/learn/[sessionId].tsx\",\n        lineNumber: 615,\n        columnNumber: 5\n    }, undefined);\n};\n_s(LearnPage, \"JI6NQCD7KQ9++W6FjyohJQMDkhw=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = LearnPage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (LearnPage);\nvar _c;\n$RefreshReg$(_c, \"LearnPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9sZWFybi9bc2Vzc2lvbklkXS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Q0FRQzs7QUFFa0Q7QUFDWDtBQUMrQztBQUNuQztBQUVXO0FBQ0E7QUFDSjtBQWdCMUI7QUFDa0U7QUFFbkcsTUFBTXVCLFlBQXNCO1FBMHBCSkMsdUJBa0JpQkEsd0JBU1hBLHdCQUdUQTs7SUF2ckJuQixNQUFNQyxTQUFTdEIsc0RBQVNBO0lBQ3hCLE1BQU0sRUFBRXVCLFNBQVMsRUFBRSxHQUFHRCxPQUFPRSxLQUFLO0lBRWxDLE9BQU87SUFDUCxNQUFNLENBQUNILFNBQVNJLFdBQVcsR0FBRzNCLCtDQUFRQSxDQUF5QjtJQUMvRCxNQUFNLENBQUM0QixXQUFXQyxhQUFhLEdBQUc3QiwrQ0FBUUEsQ0FBbUI7SUFDN0QsTUFBTSxDQUFDOEIsV0FBV0MsYUFBYSxHQUFHL0IsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDZ0Msa0JBQWtCQyxvQkFBb0IsR0FBR2pDLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ2tDLGdCQUFnQkMsa0JBQWtCLEdBQUduQywrQ0FBUUEsQ0FBQztJQUVyRDs7R0FFQyxHQUNEQyxnREFBU0EsQ0FBQztRQUNSLElBQUksQ0FBQ3dCLGFBQWEsT0FBT0EsY0FBYyxVQUFVO1FBRWpELE1BQU1XLGNBQWM7WUFDbEIsSUFBSTtnQkFDRixNQUFNQyxnQkFBZ0J6QixrRUFBY0EsQ0FBQ2E7Z0JBQ3JDLE1BQU1hLGVBQWV0QixnRUFBWUE7Z0JBRWpDLElBQUksQ0FBQ3FCLGVBQWU7b0JBQ2xCRSxNQUFNO29CQUNOZixPQUFPZ0IsSUFBSSxDQUFDO29CQUNaO2dCQUNGO2dCQUVBLElBQUksQ0FBQ0YsY0FBYztvQkFDakJDLE1BQU07b0JBQ05mLE9BQU9nQixJQUFJLENBQUM7b0JBQ1o7Z0JBQ0Y7Z0JBRUFiLFdBQVdVO2dCQUNYUixhQUFhUztnQkFFYixxQkFBcUI7Z0JBQ3JCLElBQUlELGNBQWNJLFFBQVEsQ0FBQ0MsTUFBTSxLQUFLLEdBQUc7b0JBQ3ZDQyxlQUFlTixlQUFlQztnQkFDaEM7WUFDRixFQUFFLE9BQU9NLE9BQU87Z0JBQ2RDLFFBQVFELEtBQUssQ0FBQyxXQUFXQTtnQkFDekJMLE1BQU07Z0JBQ05mLE9BQU9nQixJQUFJLENBQUM7WUFDZCxTQUFVO2dCQUNSVCxhQUFhO1lBQ2Y7UUFDRjtRQUVBSztJQUNGLEdBQUc7UUFBQ1g7UUFBV0Q7S0FBTztJQUV0Qjs7R0FFQyxHQUNELE1BQU1zQixvQkFBb0I7UUFDeEIsT0FBTyxPQUFxQkMsT0FBZEMsS0FBS0MsR0FBRyxJQUFHLEtBQTJDLE9BQXhDRixLQUFLRyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxNQUFNLENBQUMsR0FBRztJQUNuRTtJQUVBOztHQUVDLEdBQ0QsTUFBTUMsaUJBQWlCO1FBQ3JCLE9BQU8sUUFBc0JOLE9BQWRDLEtBQUtDLEdBQUcsSUFBRyxLQUEyQyxPQUF4Q0YsS0FBS0csTUFBTSxHQUFHQyxRQUFRLENBQUMsSUFBSUMsTUFBTSxDQUFDLEdBQUc7SUFDcEU7SUFFQTs7R0FFQyxHQUNELE1BQU1ULGlCQUFpQixPQUFPVyxhQUE4QkM7UUFDMUQsa0JBQWtCO1FBQ2xCLE1BQU1DLGVBQWVGLFlBQVlHLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDQyxDQUFBQSxPQUFRQSxLQUFLQyxJQUFJLEtBQUs7UUFFcEUsWUFBWTtRQUNaLE1BQU1DLGdCQUE2QjtZQUNqQ0MsSUFBSWhCO1lBQ0ppQixNQUFNO1lBQ05DLFNBQVMsZ0JBQTBDVixPQUExQkEsWUFBWVcsS0FBSyxFQUFDLFVBQStELE9BQXZEWCxZQUFZWSxhQUFhLEtBQUssYUFBYSxPQUFPLE1BQUs7WUFDMUdDLFdBQVduQixLQUFLQyxHQUFHO1FBQ3JCO1FBRUEsTUFBTW1CLGlCQUE4QjtZQUNsQ04sSUFBSWhCO1lBQ0ppQixNQUFNO1lBQ05DLFNBQVMsZ0NBQStFVixPQUEvQ0EsWUFBWVcsS0FBSyxFQUFDLCtCQUFvRixPQUF2RFgsWUFBWVksYUFBYSxLQUFLLGFBQWEsT0FBTyxNQUFLO1lBRy9JQyxXQUFXbkIsS0FBS0MsR0FBRztRQUNyQjtRQUVBLE1BQU1vQixrQkFBa0I7WUFBQ1I7WUFBZU87U0FBZTtRQUV2RCxPQUFPO1FBQ1AsTUFBTUUsaUJBQWlCO1lBQ3JCLEdBQUdoQixXQUFXO1lBQ2RiLFVBQVU0QjtZQUNWRSxjQUFjLEVBQUVmLHlCQUFBQSxtQ0FBQUEsYUFBY00sRUFBRTtRQUNsQztRQUVBbkMsV0FBVzJDO1FBQ1gsWUFBWTtRQUNaekQsK0RBQVdBLENBQUN5RDtJQUNkO0lBRUE7O0dBRUMsR0FDRCxNQUFNRSxvQkFBb0IsT0FBT1I7UUFDL0IsSUFBSSxDQUFDekMsV0FBVyxDQUFDSyxhQUFhSSxrQkFBa0I7UUFFaERDLG9CQUFvQjtRQUVwQixJQUFJO1lBQ0YsU0FBUztZQUNULE1BQU13QyxjQUEyQjtnQkFDL0JYLElBQUloQjtnQkFDSmlCLE1BQU07Z0JBQ05DO2dCQUNBRyxXQUFXbkIsS0FBS0MsR0FBRztZQUNyQjtZQUVBLFNBQVM7WUFDVCxNQUFNeUIsa0JBQWtCO21CQUFJbkQsUUFBUWtCLFFBQVE7Z0JBQUVnQzthQUFZO1lBQzFEOUMsV0FBV2dELENBQUFBLE9BQVFBLE9BQU87b0JBQUUsR0FBR0EsSUFBSTtvQkFBRWxDLFVBQVVpQztnQkFBZ0IsSUFBSTtZQUVuRSxRQUFRO1lBQ1IsTUFBTUUsV0FBVyxNQUFNekQscUVBQWVBLENBQ3BDUyxXQUNBOEMsaUJBQ0FuRCxRQUFRc0QsZUFBZSxFQUN2QnRELFFBQVFrQyxPQUFPLEVBQ2ZsQyxRQUFRMkMsYUFBYTtZQUd2QixJQUFJVSxTQUFTRSxPQUFPLElBQUlGLFNBQVNHLElBQUksRUFBRTtnQkFDckMsV0FBVztnQkFDWCxNQUFNQyxtQkFBZ0M7b0JBQ3BDbEIsSUFBSWhCO29CQUNKaUIsTUFBTTtvQkFDTkMsU0FBU1ksU0FBU0csSUFBSTtvQkFDdEJaLFdBQVduQixLQUFLQyxHQUFHO2dCQUNyQjtnQkFFQSxNQUFNZ0MsZ0JBQWdCO3VCQUFJUDtvQkFBaUJNO2lCQUFpQjtnQkFFNUQsU0FBUztnQkFDVHJELFdBQVdnRCxDQUFBQSxPQUFRQSxPQUFPO3dCQUFFLEdBQUdBLElBQUk7d0JBQUVsQyxVQUFVd0M7b0JBQWMsSUFBSTtnQkFFakUsUUFBUTtnQkFDUm5FLHlFQUFxQkEsQ0FBQ1MsUUFBUXVDLEVBQUUsRUFBRW1CO2dCQUVsQyxlQUFlO2dCQUNmLE1BQU1DLDZCQUE2Qk4sU0FBU0csSUFBSSxFQUFFeEQ7WUFDcEQsT0FBTztnQkFDTCxNQUFNLElBQUk0RCxNQUFNUCxTQUFTaEMsS0FBSyxJQUFJO1lBQ3BDO1FBQ0YsRUFBRSxPQUFPQSxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxXQUFXQTtZQUV6QixTQUFTO1lBQ1QsTUFBTXdDLGVBQTRCO2dCQUNoQ3RCLElBQUloQjtnQkFDSmlCLE1BQU07Z0JBQ05DLFNBQVMsU0FBeUQsT0FBaERwQixpQkFBaUJ1QyxRQUFRdkMsTUFBTXlDLE9BQU8sR0FBRztnQkFDM0RsQixXQUFXbkIsS0FBS0MsR0FBRztZQUNyQjtZQUVBdEIsV0FBV2dELENBQUFBO2dCQUNULElBQUksQ0FBQ0EsTUFBTSxPQUFPO2dCQUNsQixNQUFNVyxvQkFBb0I7dUJBQUlYLEtBQUtsQyxRQUFRO29CQUFFMkM7aUJBQWE7Z0JBQzFEdEUseUVBQXFCQSxDQUFDNkQsS0FBS2IsRUFBRSxFQUFFd0I7Z0JBQy9CLE9BQU87b0JBQUUsR0FBR1gsSUFBSTtvQkFBRWxDLFVBQVU2QztnQkFBa0I7WUFDaEQ7UUFDRixTQUFVO1lBQ1JyRCxvQkFBb0I7UUFDdEI7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBTWlELCtCQUErQixPQUFPSyxZQUFvQmpDO1FBQzlELE1BQU1rQyxnQkFBZ0JELFdBQVdFLFdBQVc7UUFFNUMseUJBQXlCO1FBQ3pCLE1BQU1DLHFCQUFxQnBDLFlBQVliLFFBQVEsQ0FBQ2tELE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRTdCLElBQUksS0FBSyxRQUFROEIsR0FBRztRQUNsRixJQUFJSCxvQkFBb0I7WUFDdEIseUNBQXlDO1lBQ3pDLE1BQU1JLHFCQUFxQjtZQUMzQixNQUFNQyxxQkFBcUI7bUJBQUlMLG1CQUFtQjFCLE9BQU8sQ0FBQ2dDLFFBQVEsQ0FBQ0Y7YUFBb0I7WUFFdkYsSUFBSUMsbUJBQW1CckQsTUFBTSxHQUFHLEdBQUc7Z0JBQ2pDLGdCQUFnQjtnQkFDaEIsTUFBTXVELFlBQVlGLGtCQUFrQixDQUFDQSxtQkFBbUJyRCxNQUFNLEdBQUcsRUFBRTtnQkFDbkUsTUFBTXdELGdCQUFnQkQsU0FBUyxDQUFDLEVBQUU7Z0JBRWxDLGNBQWM7Z0JBQ2QsTUFBTUUsZ0JBQWdCN0MsWUFBWUcsT0FBTyxDQUFDQyxJQUFJLENBQUNDLENBQUFBLE9BQzdDQSxLQUFLQyxJQUFJLEtBQUssYUFBYUQsS0FBS00sS0FBSyxDQUFDbUMsUUFBUSxDQUFDRjtnQkFHakQsSUFBSUMsaUJBQWlCN0MsWUFBWWlCLGNBQWMsS0FBSzRCLGNBQWNyQyxFQUFFLEVBQUU7b0JBQ3BFakIsUUFBUXdELEdBQUcsQ0FBQyxhQUEyQixPQUFkSCxlQUFjLFVBQVFDLGNBQWNsQyxLQUFLO29CQUVsRSx3QkFBd0I7b0JBQ3hCLElBQUlYLFlBQVlpQixjQUFjLEVBQUU7d0JBQzlCMUIsUUFBUXdELEdBQUcsQ0FBQyxtQkFBbUIvQyxZQUFZaUIsY0FBYzt3QkFDekQsTUFBTStCLDJCQUEyQmhELFlBQVlpQixjQUFjO29CQUM3RDtvQkFFQXhELCtFQUEyQkEsQ0FBQ3VDLFlBQVlRLEVBQUUsRUFBRXFDLGNBQWNyQyxFQUFFO29CQUM1RG5DLFdBQVdnRCxDQUFBQSxPQUFRQSxPQUFPOzRCQUFFLEdBQUdBLElBQUk7NEJBQUVKLGdCQUFnQjRCLGNBQWNyQyxFQUFFO3dCQUFDLElBQUk7b0JBQzFFLFFBQVEsZUFBZTtnQkFDekI7WUFDRjtRQUNGO1FBRUEsd0JBQXdCO1FBQ3hCakIsUUFBUXdELEdBQUcsQ0FBQyxXQUFXZDtRQUN2QixNQUFNZ0IsbUJBQW1CO1FBQ3pCLE1BQU1DLG1CQUFtQjtlQUFJakIsV0FBV1MsUUFBUSxDQUFDTztTQUFrQjtRQUNuRTFELFFBQVF3RCxHQUFHLENBQUMsYUFBYUc7UUFFekIsSUFBSUEsaUJBQWlCOUQsTUFBTSxHQUFHLEdBQUc7WUFDL0IsZ0JBQWdCO1lBQ2hCLE1BQU11RCxZQUFZTyxnQkFBZ0IsQ0FBQ0EsaUJBQWlCOUQsTUFBTSxHQUFHLEVBQUU7WUFDL0QsTUFBTXdELGdCQUFnQkQsU0FBUyxDQUFDLEVBQUU7WUFDbENwRCxRQUFRd0QsR0FBRyxDQUFDLGNBQWNIO1lBRTFCLGNBQWM7WUFDZCxNQUFNQyxnQkFBZ0I3QyxZQUFZRyxPQUFPLENBQUNDLElBQUksQ0FBQ0MsQ0FBQUEsT0FDN0NBLEtBQUtDLElBQUksS0FBSyxhQUFhRCxLQUFLTSxLQUFLLENBQUNtQyxRQUFRLENBQUNGO1lBRWpEckQsUUFBUXdELEdBQUcsQ0FBQyxZQUFZRjtZQUV4QixJQUFJQSxpQkFBaUI3QyxZQUFZaUIsY0FBYyxLQUFLNEIsY0FBY3JDLEVBQUUsRUFBRTtnQkFDcEVqQixRQUFRd0QsR0FBRyxDQUFDLFlBQTBCLE9BQWRILGVBQWMsVUFBUUMsY0FBY2xDLEtBQUs7Z0JBRWpFLHVCQUF1QjtnQkFDdkIsSUFBSVgsWUFBWWlCLGNBQWMsRUFBRTtvQkFDOUIxQixRQUFRd0QsR0FBRyxDQUFDLGlCQUFpQi9DLFlBQVlpQixjQUFjO29CQUN2RCxNQUFNK0IsMkJBQTJCaEQsWUFBWWlCLGNBQWM7Z0JBQzdEO2dCQUVBeEQsK0VBQTJCQSxDQUFDdUMsWUFBWVEsRUFBRSxFQUFFcUMsY0FBY3JDLEVBQUU7Z0JBQzVEbkMsV0FBV2dELENBQUFBLE9BQVFBLE9BQU87d0JBQUUsR0FBR0EsSUFBSTt3QkFBRUosZ0JBQWdCNEIsY0FBY3JDLEVBQUU7b0JBQUMsSUFBSTtnQkFDMUUsUUFBUSxlQUFlO1lBQ3pCO1FBQ0Y7UUFFQSx1QkFBdUI7UUFDdkIsTUFBTTJDLHFCQUFxQjtZQUN6QjtZQUFPO1lBQVM7WUFBUztZQUN6QjtZQUFRO1lBQVM7WUFDakI7WUFBTztZQUFTO1lBQ2hCO1lBQVc7WUFDWDtZQUFlO1NBQ2hCO1FBRUQ1RCxRQUFRd0QsR0FBRyxDQUFDLGtCQUFrQkksbUJBQW1CQyxJQUFJLENBQUNDLENBQUFBLFVBQVduQixjQUFjWSxRQUFRLENBQUNPO1FBQ3hGOUQsUUFBUXdELEdBQUcsQ0FBQyxlQUFlYjtRQUUzQixlQUFlO1FBQ2YsSUFBSWlCLG1CQUFtQkMsSUFBSSxDQUFDQyxDQUFBQSxVQUFXbkIsY0FBY1ksUUFBUSxDQUFDTyxXQUFXO1lBQ3ZFLElBQUlDLHFCQUFxQjtZQUV6Qix5QkFBeUI7WUFDekIsb0JBQW9CO1lBQ3BCLE1BQU1DLDBCQUEwQjtZQUNoQyxNQUFNQyxtQkFBbUI7bUJBQUl2QixXQUFXUyxRQUFRLENBQUNhO2FBQXlCO1lBRTFFaEUsUUFBUXdELEdBQUcsQ0FBQyxhQUFhUztZQUV6QixJQUFJQSxpQkFBaUJwRSxNQUFNLEdBQUcsR0FBRztnQkFDL0IsTUFBTXFFLGtCQUFrQkQsZ0JBQWdCLENBQUMsRUFBRSxDQUFDLEVBQUU7Z0JBQzlDakUsUUFBUXdELEdBQUcsQ0FBQyxlQUFlVTtnQkFFM0IsTUFBTUMsbUJBQW1CMUQsWUFBWUcsT0FBTyxDQUFDQyxJQUFJLENBQUNDLENBQUFBLE9BQ2hEQSxLQUFLQyxJQUFJLEtBQUssYUFBYUQsS0FBS00sS0FBSyxDQUFDbUMsUUFBUSxDQUFDVztnQkFHakRsRSxRQUFRd0QsR0FBRyxDQUFDLFlBQVlXO2dCQUV4QixJQUFJQSxrQkFBa0I7b0JBQ3BCSixxQkFBcUJJLGlCQUFpQmxELEVBQUU7Z0JBQzFDO1lBQ0Y7WUFFQSx1QkFBdUI7WUFDdkIsSUFBSSxDQUFDOEMsb0JBQW9CO2dCQUN2Qi9ELFFBQVF3RCxHQUFHLENBQUM7Z0JBQ1osS0FBSyxNQUFNMUMsUUFBUUwsWUFBWUcsT0FBTyxDQUFFO29CQUN0QyxJQUFJRSxLQUFLQyxJQUFJLEtBQUssV0FBVzt3QkFDM0IsTUFBTXFELHFCQUFxQnRELEtBQUtNLEtBQUssQ0FBQ2lELE9BQU8sQ0FBQyxnQkFBZ0IsSUFBSUMsSUFBSTt3QkFDdEUsSUFBSUYsc0JBQXNCMUIsV0FBV2EsUUFBUSxDQUFDYSxxQkFBcUI7NEJBQ2pFcEUsUUFBUXdELEdBQUcsQ0FBQyxnQkFBZ0IxQyxLQUFLTSxLQUFLOzRCQUN0QzJDLHFCQUFxQmpELEtBQUtHLEVBQUU7NEJBQzVCO3dCQUNGO29CQUNGO2dCQUNGO1lBQ0Y7WUFFQSxpQkFBaUI7WUFDakIsSUFBSSxDQUFDOEMsc0JBQXNCdEQsWUFBWWlCLGNBQWMsRUFBRTtnQkFDckQxQixRQUFRd0QsR0FBRyxDQUFDLGlCQUFpQi9DLFlBQVlpQixjQUFjO2dCQUN2RHFDLHFCQUFxQnRELFlBQVlpQixjQUFjO1lBQ2pEO1lBRUEsYUFBYTtZQUNiLElBQUlxQyxvQkFBb0I7Z0JBQ3RCL0QsUUFBUXdELEdBQUcsQ0FBQyxZQUFZTztnQkFDeEIsTUFBTU4sMkJBQTJCTTtZQUNuQyxPQUFPO2dCQUNML0QsUUFBUXdELEdBQUcsQ0FBQztZQUNkO1FBQ0Y7UUFFQSxxQkFBcUI7UUFDckIsMENBQTBDO1FBQzFDLCtCQUErQjtRQUMvQixNQUFNZSwwQkFBMEI7WUFDOUI7WUFBVTtZQUFVO1lBQ3BCO1lBQVM7WUFBUztZQUNsQjtZQUFRO1lBQVM7WUFDakI7WUFBUztZQUFTO1NBQ25CO1FBRUQseUJBQXlCO1FBQ3pCLE1BQU1DLHFCQUFxQi9ELFlBQVliLFFBQVEsQ0FBQ2tELE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRTdCLElBQUksS0FBSyxRQUFROEIsR0FBRztRQUNsRixJQUFJd0Isc0JBQXNCRCx3QkFBd0JWLElBQUksQ0FBQ0MsQ0FBQUEsVUFBV1UsbUJBQW1CckQsT0FBTyxDQUFDeUIsV0FBVyxHQUFHVyxRQUFRLENBQUNPLFdBQVc7WUFDN0gsMEJBQTBCO1lBQzFCLElBQUksQ0FBQ0gsaUJBQWlCOUQsTUFBTSxJQUFJWSxZQUFZaUIsY0FBYyxFQUFFO2dCQUMxRCxNQUFNK0MsZUFBZWhFLFlBQVlHLE9BQU8sQ0FBQzhELFNBQVMsQ0FBQzVELENBQUFBLE9BQVFBLEtBQUtHLEVBQUUsS0FBS1IsWUFBWWlCLGNBQWM7Z0JBQ2pHMUIsUUFBUXdELEdBQUcsQ0FBQyxXQUFXaUIsY0FBYyxXQUFXaEUsWUFBWWlCLGNBQWM7Z0JBQzFFMUIsUUFBUXdELEdBQUcsQ0FBQyxTQUFTL0MsWUFBWUcsT0FBTyxDQUFDK0QsR0FBRyxDQUFDLENBQUM3RCxNQUFNOEQsUUFBVSxHQUFhOUQsT0FBVjhELE9BQU0sTUFBbUI5RCxPQUFmQSxLQUFLTSxLQUFLLEVBQUMsTUFBYyxPQUFWTixLQUFLQyxJQUFJLEVBQUM7Z0JBRXBHLElBQUkwRCxnQkFBZ0IsR0FBRztvQkFDckIsa0JBQWtCO29CQUNsQixJQUFLLElBQUlJLElBQUlKLGVBQWUsR0FBR0ksSUFBSXBFLFlBQVlHLE9BQU8sQ0FBQ2YsTUFBTSxFQUFFZ0YsSUFBSzt3QkFDbEU3RSxRQUFRd0QsR0FBRyxDQUFDLFFBQWMvQyxPQUFOb0UsR0FBRSxNQUFxQ3BFLE9BQWpDQSxZQUFZRyxPQUFPLENBQUNpRSxFQUFFLENBQUN6RCxLQUFLLEVBQUMsTUFBZ0MsT0FBNUJYLFlBQVlHLE9BQU8sQ0FBQ2lFLEVBQUUsQ0FBQzlELElBQUksRUFBQzt3QkFDdkYsSUFBSU4sWUFBWUcsT0FBTyxDQUFDaUUsRUFBRSxDQUFDOUQsSUFBSSxLQUFLLFdBQVc7NEJBQzdDLE1BQU0rRCxjQUFjckUsWUFBWUcsT0FBTyxDQUFDaUUsRUFBRTs0QkFDMUM3RSxRQUFRd0QsR0FBRyxDQUFDLGdCQUFnQnNCLFlBQVkxRCxLQUFLOzRCQUU3Qyx1QkFBdUI7NEJBQ3ZCcEIsUUFBUXdELEdBQUcsQ0FBQyxtQkFBbUIvQyxZQUFZaUIsY0FBYzs0QkFDekQsTUFBTStCLDJCQUEyQmhELFlBQVlpQixjQUFjOzRCQUUzRHhELCtFQUEyQkEsQ0FBQ3VDLFlBQVlRLEVBQUUsRUFBRTZELFlBQVk3RCxFQUFFOzRCQUMxRG5DLFdBQVdnRCxDQUFBQSxPQUFRQSxPQUFPO29DQUFFLEdBQUdBLElBQUk7b0NBQUVKLGdCQUFnQm9ELFlBQVk3RCxFQUFFO2dDQUFDLElBQUk7NEJBQ3hFO3dCQUNGO29CQUNGO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBLDhCQUE4QjtRQUM5QixJQUFJOEQseUJBQXlCO1FBQzdCLEtBQUssTUFBTWpFLFFBQVFMLFlBQVlHLE9BQU8sQ0FBRTtZQUN0QyxJQUFJRSxLQUFLQyxJQUFJLEtBQUssYUFBYSxDQUFDZ0Usd0JBQXdCO2dCQUN0RCxpQkFBaUI7Z0JBQ2pCLE1BQU1YLHFCQUFxQnRELEtBQUtNLEtBQUssQ0FBQ2lELE9BQU8sQ0FBQyxnQkFBZ0IsSUFBSUMsSUFBSTtnQkFFdEUsSUFBSUYsbUJBQW1CdkUsTUFBTSxHQUFHLEdBQUc7b0JBQ2pDLE1BQU1tRixnQkFBZ0I7d0JBQ25CLEtBQXVCLE9BQW5CWjt3QkFBdUIsS0FBdUIsT0FBbkJBO3dCQUMvQixLQUF1QixPQUFuQkE7d0JBQXVCLEtBQXVCLE9BQW5CQTt3QkFDL0IsR0FBcUIsT0FBbkJBLG9CQUFtQjt3QkFBTyxHQUFxQixPQUFuQkEsb0JBQW1CO3FCQUNuRDtvQkFFRCxJQUFJWSxjQUFjbkIsSUFBSSxDQUFDb0IsQ0FBQUEsVUFBV3ZDLFdBQVdhLFFBQVEsQ0FBQzBCLFdBQVc7d0JBQy9ELElBQUl4RSxZQUFZaUIsY0FBYyxLQUFLWixLQUFLRyxFQUFFLEVBQUU7NEJBQzFDakIsUUFBUXdELEdBQUcsQ0FBQyxlQUFlMUMsS0FBS00sS0FBSzs0QkFDckNsRCwrRUFBMkJBLENBQUN1QyxZQUFZUSxFQUFFLEVBQUVILEtBQUtHLEVBQUU7NEJBQ25EbkMsV0FBV2dELENBQUFBLE9BQVFBLE9BQU87b0NBQUUsR0FBR0EsSUFBSTtvQ0FBRUosZ0JBQWdCWixLQUFLRyxFQUFFO2dDQUFDLElBQUk7NEJBQ2pFOEQseUJBQXlCO3dCQUMzQjtvQkFDRjtnQkFDRjtZQUNGO1FBQ0Y7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBTUcscUJBQXFCLENBQUNDO1FBQzFCLElBQUksQ0FBQ3pHLFdBQVdTLGtCQUFrQjtRQUVsQyxNQUFNMkIsT0FBT3BDLFFBQVFrQyxPQUFPLENBQUNDLElBQUksQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0csRUFBRSxLQUFLa0U7UUFDdEQsSUFBSSxDQUFDckUsTUFBTTtRQUVYLHNDQUFzQztRQUN0QyxJQUFJQSxLQUFLQyxJQUFJLEtBQUssV0FBVztRQUU3QixTQUFTO1FBQ1Q3QywrRUFBMkJBLENBQUNRLFFBQVF1QyxFQUFFLEVBQUVrRTtRQUN4Q3JHLFdBQVdnRCxDQUFBQSxPQUFRQSxPQUFPO2dCQUFFLEdBQUdBLElBQUk7Z0JBQUVKLGdCQUFnQnlEO1lBQVUsSUFBSTtRQUVuRSxZQUFZO1FBQ1osTUFBTUMsZ0JBQWdCLFNBQW9CLE9BQVh0RSxLQUFLTSxLQUFLLEVBQUM7UUFDMUNPLGtCQUFrQnlEO0lBQ3BCO0lBRUE7O0dBRUMsR0FDRCxNQUFNQyx3QkFBd0IsT0FBT0MsV0FBbUJ2RSxNQUFrQ3dFO1FBQ3hGLElBQUksQ0FBQzdHLFdBQVcsQ0FBQ0ssV0FBVztRQUU1QixNQUFNeUQsVUFBVTlELFFBQVFrQixRQUFRLENBQUNpQixJQUFJLENBQUNrQyxDQUFBQSxJQUFLQSxFQUFFOUIsRUFBRSxLQUFLcUU7UUFDcEQsSUFBSSxDQUFDOUMsV0FBV0EsUUFBUXRCLElBQUksS0FBSyxhQUFhO1FBRTlDLElBQUk7WUFDRix3QkFBd0I7WUFDeEIsTUFBTXNFLGtCQUFrQixNQUFNaEgsdUVBQWlCQSxDQUFDTyxXQUFXeUQsUUFBUXJCLE9BQU8sRUFBRW9FO1lBQzVFLE1BQU1FLGtCQUFrQkQsZ0JBQWdCdkQsT0FBTyxHQUFHdUQsZ0JBQWdCdEQsSUFBSSxHQUFHTSxRQUFRckIsT0FBTztZQUV4Rm5CLFFBQVF3RCxHQUFHLENBQUMsV0FBV2hCLFFBQVFyQixPQUFPO1lBQ3RDbkIsUUFBUXdELEdBQUcsQ0FBQyxVQUFVaUM7WUFFdEIsb0JBQW9CO1lBQ3BCLE1BQU1DLGdCQUFnQixNQUFNbkgsd0VBQWtCQSxDQUFDUSxXQUFXMEc7WUFDMUQsTUFBTUUsWUFBWUQsY0FBY3pELE9BQU8sR0FBR3lELGNBQWN4RCxJQUFJLEdBQUd1RCxnQkFBZ0JHLFNBQVMsQ0FBQyxHQUFHO1lBRTVGLE9BQU87WUFDUCxNQUFNQyxPQUFxQjtnQkFDekI1RSxJQUFJVDtnQkFDSlksT0FBT3VFO2dCQUNQeEUsU0FBU3NFO2dCQUNURjtnQkFDQXhFO2dCQUNBK0UsTUFBTSxFQUFFO2dCQUNSQyxXQUFXNUYsS0FBS0MsR0FBRztnQkFDbkI0RixjQUFjN0YsS0FBS0MsR0FBRyxLQUFNLElBQUksS0FBSztnQkFDckM2RixhQUFhO2dCQUNiQyxZQUFZO2dCQUNadEgsV0FBV0YsUUFBUXVDLEVBQUU7Z0JBQ3JCcUUsV0FBVzlDLFFBQVF2QixFQUFFO2dCQUNyQmtFLFdBQVd6RyxRQUFRZ0QsY0FBYztZQUNuQztZQUVBLE9BQU87WUFDUCxNQUFNTyxVQUFVNUQsbUVBQWVBLENBQUNLLFFBQVF1QyxFQUFFLEVBQUU0RTtZQUM1QyxJQUFJNUQsU0FBUztnQkFDWCxZQUFZO2dCQUNaLE1BQU1KLGtCQUFrQm5ELFFBQVFrQixRQUFRLENBQUMrRSxHQUFHLENBQUM1QixDQUFBQSxJQUMzQ0EsRUFBRTlCLEVBQUUsS0FBS3FFLFlBQ0w7d0JBQUUsR0FBR3ZDLENBQUM7d0JBQUVvRCxjQUFjO3dCQUFNQyxRQUFRUCxLQUFLNUUsRUFBRTtvQkFBQyxJQUM1QzhCO2dCQUdOakUsV0FBV2dELENBQUFBLE9BQVFBLE9BQU87d0JBQUUsR0FBR0EsSUFBSTt3QkFBRWxDLFVBQVVpQztvQkFBZ0IsSUFBSTtnQkFDbkU1RCx5RUFBcUJBLENBQUNTLFFBQVF1QyxFQUFFLEVBQUVZO2dCQUVsQyxVQUFVO2dCQUNWdkMsa0JBQWtCd0MsQ0FBQUEsT0FBUUEsT0FBTztZQUNuQztRQUNGLEVBQUUsT0FBTy9CLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLFdBQVdBO1lBRXpCLHVCQUF1QjtZQUN2QixNQUFNc0csZ0JBQWdCN0QsUUFBUXJCLE9BQU8sQ0FBQ3lFLFNBQVMsQ0FBQyxHQUFHO1lBRW5ELGNBQWM7WUFDZCxNQUFNVSxrQkFBa0I5RCxRQUFRckIsT0FBTyxDQUNwQ2tELE9BQU8sQ0FBQyw4QkFBOEIsSUFBSSxTQUFTO2FBQ25EQSxPQUFPLENBQUMsZUFBZSxJQUN2QkEsT0FBTyxDQUFDLDBCQUEwQixJQUNsQ0EsT0FBTyxDQUFDLGVBQWUsSUFDdkJBLE9BQU8sQ0FBQyxhQUFhLElBQ3JCQyxJQUFJO1lBRVAsTUFBTXVCLE9BQXFCO2dCQUN6QjVFLElBQUlUO2dCQUNKWSxPQUFPaUY7Z0JBQ1BsRixTQUFTbUYsa0JBQW1CZixDQUFBQSxXQUFXLFlBQXFCLE9BQVRBLFlBQWEsRUFBQztnQkFDakVBO2dCQUNBeEU7Z0JBQ0ErRSxNQUFNLEVBQUU7Z0JBQ1JDLFdBQVc1RixLQUFLQyxHQUFHO2dCQUNuQjRGLGNBQWM3RixLQUFLQyxHQUFHLEtBQU0sSUFBSSxLQUFLO2dCQUNyQzZGLGFBQWE7Z0JBQ2JDLFlBQVk7Z0JBQ1p0SCxXQUFXRixRQUFRdUMsRUFBRTtnQkFDckJxRSxXQUFXOUMsUUFBUXZCLEVBQUU7Z0JBQ3JCa0UsV0FBV3pHLFFBQVFnRCxjQUFjO1lBQ25DO1lBRUEsTUFBTU8sVUFBVTVELG1FQUFlQSxDQUFDSyxRQUFRdUMsRUFBRSxFQUFFNEU7WUFDNUMsSUFBSTVELFNBQVM7Z0JBQ1gsTUFBTUosa0JBQWtCbkQsUUFBUWtCLFFBQVEsQ0FBQytFLEdBQUcsQ0FBQzVCLENBQUFBLElBQzNDQSxFQUFFOUIsRUFBRSxLQUFLcUUsWUFDTDt3QkFBRSxHQUFHdkMsQ0FBQzt3QkFBRW9ELGNBQWM7d0JBQU1DLFFBQVFQLEtBQUs1RSxFQUFFO29CQUFDLElBQzVDOEI7Z0JBR05qRSxXQUFXZ0QsQ0FBQUEsT0FBUUEsT0FBTzt3QkFBRSxHQUFHQSxJQUFJO3dCQUFFbEMsVUFBVWlDO29CQUFnQixJQUFJO2dCQUNuRTVELHlFQUFxQkEsQ0FBQ1MsUUFBUXVDLEVBQUUsRUFBRVk7Z0JBQ2xDdkMsa0JBQWtCd0MsQ0FBQUEsT0FBUUEsT0FBTztZQUNuQztRQUNGO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELE1BQU15RSxlQUFlO1FBQ25CNUgsT0FBT2dCLElBQUksQ0FBQztJQUNkO0lBRUE7O0dBRUMsR0FDRCxNQUFNOEQsNkJBQTZCLE9BQU8wQjtRQUN4QyxJQUFJLENBQUN6RyxTQUFTO1FBRWQsTUFBTXVELFVBQVU3RCx3RUFBb0JBLENBQUNNLFFBQVF1QyxFQUFFLEVBQUVrRTtRQUNqRCxJQUFJbEQsU0FBUztZQUNYLFNBQVM7WUFDVG5ELFdBQVdnRCxDQUFBQTtnQkFDVCxJQUFJLENBQUNBLE1BQU0sT0FBTztnQkFDbEIsTUFBTTBFLGlCQUFpQjFFLEtBQUtsQixPQUFPLENBQUMrRCxHQUFHLENBQUM3RCxDQUFBQSxPQUN0Q0EsS0FBS0csRUFBRSxLQUFLa0UsWUFDUjt3QkFBRSxHQUFHckUsSUFBSTt3QkFBRTJGLGFBQWE7d0JBQU1DLGFBQWF2RyxLQUFLQyxHQUFHO29CQUFHLElBQ3REVTtnQkFFTixPQUFPO29CQUFFLEdBQUdnQixJQUFJO29CQUFFbEIsU0FBUzRGO2dCQUFlO1lBQzVDO1FBQ0Y7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBTUcscUJBQXFCO1FBQ3pCLElBQUksQ0FBQ2pJLFNBQVMsT0FBTztZQUFFa0ksV0FBVztZQUFHQyxPQUFPO1FBQUU7UUFFOUMsTUFBTUQsWUFBWWxJLFFBQVFrQyxPQUFPLENBQUNrQyxNQUFNLENBQUNoQyxDQUFBQSxPQUFRQSxLQUFLMkYsV0FBVyxFQUFFNUcsTUFBTTtRQUN6RSxNQUFNZ0gsUUFBUW5JLFFBQVFrQyxPQUFPLENBQUNmLE1BQU07UUFFcEMsT0FBTztZQUFFK0c7WUFBV0M7UUFBTTtJQUM1QjtJQUVBOztHQUVDLEdBQ0QsTUFBTUMsb0JBQW9CO1FBQ3hCeEgsa0JBQWtCd0MsQ0FBQUEsT0FBUUEsT0FBTztJQUNuQztJQUVBLElBQUk3QyxXQUFXO1FBQ2IscUJBQ0UsOERBQUM4SDtZQUFJQyxXQUFVO3NCQUNiLDRFQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVOzs7Ozs7a0NBQ2YsOERBQUNDO3dCQUFFRCxXQUFVO2tDQUFnQjs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJckM7SUFFQSxJQUFJLENBQUN0SSxTQUFTO1FBQ1oscUJBQ0UsOERBQUNxSTtZQUFJQyxXQUFVO3NCQUNiLDRFQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNFO3dCQUFHRixXQUFVO2tDQUF3Qzs7Ozs7O2tDQUN0RCw4REFBQ0M7d0JBQUVELFdBQVU7a0NBQXFCOzs7Ozs7a0NBQ2xDLDhEQUFDckosaUVBQU1BO3dCQUFDd0osU0FBU1o7a0NBQWM7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBSXZDO0lBRUEscUJBQ0UsOERBQUNRO1FBQUlDLFdBQVU7OzBCQUViLDhEQUFDSTtnQkFBT0osV0FBVTswQkFDaEIsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FFYiw4REFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDckosaUVBQU1BO29DQUNMMEosU0FBUTtvQ0FDUkMsTUFBSztvQ0FDTEgsU0FBU1o7b0NBQ1RnQixvQkFBTSw4REFBQ2pLLG9IQUFTQTt3Q0FBQzBKLFdBQVU7Ozs7Ozs4Q0FDNUI7Ozs7Ozs4Q0FJRCw4REFBQ0Q7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDUTs0Q0FBR1IsV0FBVTtzREFDWHRJLFFBQVEwQyxLQUFLOzs7Ozs7c0RBRWhCLDhEQUFDMkY7NENBQUlDLFdBQVU7OzhEQUNiLDhEQUFDUztvREFBS1QsV0FBVTs7d0RBQ2J0SSxRQUFRMkMsYUFBYSxLQUFLLDJCQUN6Qiw4REFBQzVELCtHQUFJQTs0REFBQ3VKLFdBQVU7Ozs7O3NGQUVoQiw4REFBQ3RKLDhHQUFHQTs0REFBQ3NKLFdBQVU7Ozs7Ozt3REFFaEJ0SSxRQUFRMkMsYUFBYSxLQUFLLGFBQWEsU0FBUzs7Ozs7Ozs4REFHbkQsOERBQUNvRzs4REFBSzs7Ozs7OzhEQUVOLDhEQUFDQTs4REFDRSxDQUFDO3dEQUNBLE1BQU1DLFFBQVFmO3dEQUNkLE9BQU8sR0FBc0JlLE9BQW5CQSxNQUFNZCxTQUFTLEVBQUMsS0FBZSxPQUFaYyxNQUFNYixLQUFLLEVBQUM7b0RBQzNDOzs7Ozs7OERBR0YsOERBQUNZOzhEQUFLOzs7Ozs7OERBRU4sOERBQUNBOzt3REFBTS9JLFFBQVFrQixRQUFRLENBQUNrRCxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUU3QixJQUFJLEtBQUssVUFBVXJCLE1BQU07d0RBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7c0NBTXRFLDhEQUFDa0g7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUNEO2dDQUFJQyxXQUFVOzBDQUF3Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFRN0MsOERBQUNEO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRDtvQkFBSUMsV0FBVTs7c0NBRWIsOERBQUNEOzRCQUFJQyxXQUFVOzs4Q0FFYiw4REFBQ0Q7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDRDs0Q0FBSUMsV0FBVTs7OERBQ2IsOERBQUN6SixtSEFBUUE7b0RBQUN5SixXQUFVOzs7Ozs7OERBQ3BCLDhEQUFDRTtvREFBR0YsV0FBVTs4REFBc0M7Ozs7Ozs7Ozs7OztzREFJdEQsOERBQUNEOzRDQUFJQyxXQUFVOzs4REFDYiw4REFBQ0Q7b0RBQUlDLFdBQVU7O3NFQUNiLDhEQUFDQzs7Z0VBQUU7Z0VBQUd2SSxRQUFRa0MsT0FBTyxDQUFDZixNQUFNO2dFQUFDOzs7Ozs7O3dEQUMzQjs0REFDQSxNQUFNNkgsUUFBUWY7NERBQ2QsTUFBTWdCLGFBQWFELE1BQU1iLEtBQUssR0FBRyxJQUFJM0csS0FBSzBILEtBQUssQ0FBQyxNQUFPaEIsU0FBUyxHQUFHYyxNQUFNYixLQUFLLEdBQUksT0FBTzs0REFDekYscUJBQ0UsOERBQUNFOztrRkFDQyw4REFBQ0U7d0VBQUVELFdBQVU7OzRFQUFpQjs0RUFBS1UsTUFBTWQsU0FBUzs0RUFBQzs0RUFBS2U7NEVBQVc7Ozs7Ozs7a0ZBQ25FLDhEQUFDWjt3RUFBSUMsV0FBVTtrRkFDYiw0RUFBQ0Q7NEVBQ0NDLFdBQVU7NEVBQ1ZhLE9BQU87Z0ZBQUVDLE9BQU8sR0FBYyxPQUFYSCxZQUFXOzRFQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozt3REFLM0M7Ozs7Ozs7Z0RBRURqSixRQUFRZ0QsY0FBYyxrQkFDckIsOERBQUN1RjtvREFBRUQsV0FBVTs7d0RBQXdCO3lEQUMvQnRJLHdCQUFBQSxRQUFRa0MsT0FBTyxDQUFDQyxJQUFJLENBQUNDLENBQUFBLE9BQVFBLEtBQUtHLEVBQUUsS0FBS3ZDLFFBQVFnRCxjQUFjLGVBQS9EaEQsNENBQUFBLHNCQUFrRTBDLEtBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OENBT25GLDhEQUFDMkY7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDcEoscUVBQWFBOzRDQUNabUssT0FBT3JKLFFBQVFrQyxPQUFPOzRDQUN0Qm9ILFVBQVUsS0FBTzs0Q0FDakJDLGlCQUFpQnZKLFFBQVFnRCxjQUFjOzRDQUN2Q3dHLGdCQUFnQmhEOzRDQUNoQmlELFVBQVU7NENBQ1ZDLGFBQWE7Ozs7Ozt3Q0FJZDFKLFFBQVFnRCxjQUFjLElBQUloRCxFQUFBQSx5QkFBQUEsUUFBUWtDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDQyxDQUFBQSxPQUFRQSxLQUFLRyxFQUFFLEtBQUt2QyxRQUFRZ0QsY0FBYyxlQUEvRGhELDZDQUFBQSx1QkFBa0VxQyxJQUFJLE1BQUssMkJBQ3BHLDhEQUFDZ0c7NENBQUlDLFdBQVU7OzhEQUNiLDhEQUFDRDtvREFBSUMsV0FBVTs4REFBNkI7Ozs7Ozs4REFHNUMsOERBQUNySixpRUFBTUE7b0RBQ0wwSixTQUFRO29EQUNSQyxNQUFLO29EQUNMSCxTQUFTLElBQU0xRCwyQkFBMkIvRSxRQUFRZ0QsY0FBYztvREFDaEUyRyxRQUFRLEdBQUUzSix5QkFBQUEsUUFBUWtDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDQyxDQUFBQSxPQUFRQSxLQUFLRyxFQUFFLEtBQUt2QyxRQUFRZ0QsY0FBYyxlQUEvRGhELDZDQUFBQSx1QkFBa0UrSCxXQUFXO29EQUN2Rk8sV0FBVTs4REFFVHRJLEVBQUFBLHlCQUFBQSxRQUFRa0MsT0FBTyxDQUFDQyxJQUFJLENBQUNDLENBQUFBLE9BQVFBLEtBQUtHLEVBQUUsS0FBS3ZDLFFBQVFnRCxjQUFjLGVBQS9EaEQsNkNBQUFBLHVCQUFrRStILFdBQVcsSUFDMUUsVUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NDQVNkLDhEQUFDTTs0QkFBSUMsV0FBVTs7OENBRWIsOERBQUNEO29DQUFJQyxXQUFVOzhDQUNiLDRFQUFDRDt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUNEO2dEQUFJQyxXQUFVOzBEQUNiLDRFQUFDeEosd0hBQWFBO29EQUFDd0osV0FBVTs7Ozs7Ozs7Ozs7MERBRTNCLDhEQUFDRDs7a0VBQ0MsOERBQUN1Qjt3REFBR3RCLFdBQVU7a0VBQThCOzs7Ozs7a0VBQzVDLDhEQUFDQzt3REFBRUQsV0FBVTtrRUFDVnRJLFFBQVEyQyxhQUFhLEtBQUssYUFDdkIsZ0JBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhDQVFaLDhEQUFDMEY7b0NBQUlDLFdBQVU7OENBQ2IsNEVBQUNuSixxRUFBYUE7d0NBQ1orQixVQUFVbEIsUUFBUWtCLFFBQVEsQ0FBQ2tELE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRTdCLElBQUksS0FBSzt3Q0FDbERxSCxlQUFlNUc7d0NBQ2Y2RyxtQkFBbUJuRDt3Q0FDbkJvRCxTQUFTdEo7d0NBQ1R1SixhQUFZO3dDQUNaTCxVQUFVbEo7Ozs7Ozs7Ozs7Ozs7Ozs7O3NDQU1oQiw4REFBQzRIOzRCQUFJQyxXQUFVO3NDQUNiLDRFQUFDbEosbUVBQVdBO2dDQUVWYyxXQUFXRixRQUFRdUMsRUFBRTtnQ0FDckIwSCxlQUFlN0I7K0JBRlZ6SDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU25CO0dBL3VCTVo7O1FBQ1dwQixrREFBU0E7OztLQURwQm9CO0FBaXZCTiwrREFBZUEsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wYWdlcy9sZWFybi9bc2Vzc2lvbklkXS50c3g/ZTZkYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOWtpuS5oOS8muivnemhtemdolxuICogXG4gKiDmj5Dkvpvlj4zmoI/luIPlsYDnmoTlrabkuaDnlYzpnaLvvJpcbiAqIC0g5bem5L6n77ya5a2m5Lmg5aSn57qy5a+86IiqXG4gKiAtIOWPs+S+p++8mkFJ56eB5pWZ5a+56K+d55WM6Z2iXG4gKiAtIOWkp+e6suS4juWvueivneeahOWPjOWQkeWQjOatpVxuICogLSDlrabkuaDov5vluqbot5/ouKpcbiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IEFycm93TGVmdCwgU2V0dGluZ3MsIEJvb2tPcGVuLCBNZXNzYWdlQ2lyY2xlLCBVc2VyLCBaYXAgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi8uLi9zcmMvY29tcG9uZW50cy91aS9CdXR0b24nO1xuaW1wb3J0IFJlc2l6YWJsZVBhbmVsIGZyb20gJy4uLy4uL3NyYy9jb21wb25lbnRzL1Jlc2l6YWJsZVBhbmVsJztcbmltcG9ydCBPdXRsaW5lRWRpdG9yIGZyb20gJy4uLy4uL3NyYy9jb21wb25lbnRzL091dGxpbmVFZGl0b3InO1xuaW1wb3J0IENoYXRJbnRlcmZhY2UgZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvQ2hhdEludGVyZmFjZSc7XG5pbXBvcnQgQ2FyZE1hbmFnZXIgZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvQ2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgXG4gIExlYXJuaW5nU2Vzc2lvbiwgXG4gIENoYXRNZXNzYWdlLCBcbiAgT3V0bGluZUl0ZW0sIFxuICBBUElDb25maWcsXG4gIExlYXJuaW5nQ2FyZFxufSBmcm9tICcuLi8uLi9zcmMvdHlwZXMnO1xuaW1wb3J0IHsgXG4gIGdldFNlc3Npb25CeUlkLCBcbiAgc2F2ZVNlc3Npb24sIFxuICB1cGRhdGVTZXNzaW9uTWVzc2FnZXMsXG4gIHVwZGF0ZVNlc3Npb25DdXJyZW50Q2hhcHRlcixcbiAgZ2V0QVBJQ29uZmlnLFxuICBtYXJrQ2hhcHRlckNvbXBsZXRlZCxcbiAgYWRkTGVhcm5pbmdDYXJkXG59IGZyb20gJy4uLy4uL3NyYy91dGlscy9zdG9yYWdlJztcbmltcG9ydCB7IHNlbmRDaGF0TWVzc2FnZSwgc3VtbWFyaXplQ2FyZFRpdGxlLCBwdXJpZnlDYXJkQ29udGVudCB9IGZyb20gJy4uLy4uL3NyYy91dGlscy9haVNlcnZpY2UnO1xuXG5jb25zdCBMZWFyblBhZ2U6IFJlYWN0LkZDID0gKCkgPT4ge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgeyBzZXNzaW9uSWQgfSA9IHJvdXRlci5xdWVyeTtcblxuICAvLyDnirbmgIHnrqHnkIZcbiAgY29uc3QgW3Nlc3Npb24sIHNldFNlc3Npb25dID0gdXNlU3RhdGU8TGVhcm5pbmdTZXNzaW9uIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFthcGlDb25maWcsIHNldEFwaUNvbmZpZ10gPSB1c2VTdGF0ZTxBUElDb25maWcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbaXNTZW5kaW5nTWVzc2FnZSwgc2V0SXNTZW5kaW5nTWVzc2FnZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjYXJkTWFuYWdlcktleSwgc2V0Q2FyZE1hbmFnZXJLZXldID0gdXNlU3RhdGUoMCk7XG5cbiAgLyoqXG4gICAqIOWIneWni+WMluS8muivneaVsOaNrlxuICAgKi9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNlc3Npb25JZCB8fCB0eXBlb2Ygc2Vzc2lvbklkICE9PSAnc3RyaW5nJykgcmV0dXJuO1xuXG4gICAgY29uc3QgbG9hZFNlc3Npb24gPSAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsb2FkZWRTZXNzaW9uID0gZ2V0U2Vzc2lvbkJ5SWQoc2Vzc2lvbklkKTtcbiAgICAgICAgY29uc3QgbG9hZGVkQ29uZmlnID0gZ2V0QVBJQ29uZmlnKCk7XG5cbiAgICAgICAgaWYgKCFsb2FkZWRTZXNzaW9uKSB7XG4gICAgICAgICAgYWxlcnQoJ+WtpuS5oOS8muivneS4jeWtmOWcqCcpO1xuICAgICAgICAgIHJvdXRlci5wdXNoKCcvJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFsb2FkZWRDb25maWcpIHtcbiAgICAgICAgICBhbGVydCgnQVBJ6YWN572u5Lii5aSx77yM6K+36YeN5paw6YWN572uJyk7XG4gICAgICAgICAgcm91dGVyLnB1c2goJy8nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTZXNzaW9uKGxvYWRlZFNlc3Npb24pO1xuICAgICAgICBzZXRBcGlDb25maWcobG9hZGVkQ29uZmlnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOWmguaenOaYr+aWsOS8muivneS4lOayoeaciea2iOaBr++8jOWPkemAgeWIneWni+a2iOaBr1xuICAgICAgICBpZiAobG9hZGVkU2Vzc2lvbi5tZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBpbml0aWFsaXplQ2hhdChsb2FkZWRTZXNzaW9uLCBsb2FkZWRDb25maWcpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3kvJror53lpLHotKU6JywgZXJyb3IpO1xuICAgICAgICBhbGVydCgn5Yqg6L295Lya6K+d5aSx6LSlJyk7XG4gICAgICAgIHJvdXRlci5wdXNoKCcvJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsb2FkU2Vzc2lvbigpO1xuICB9LCBbc2Vzc2lvbklkLCByb3V0ZXJdKTtcblxuICAvKipcbiAgICog55Sf5oiQ5raI5oGvSURcbiAgICovXG4gIGNvbnN0IGdlbmVyYXRlTWVzc2FnZUlkID0gKCk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIGBtc2ctJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICB9O1xuXG4gIC8qKlxuICAgKiDnlJ/miJDljaHniYdJRFxuICAgKi9cbiAgY29uc3QgZ2VuZXJhdGVDYXJkSWQgPSAoKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gYGNhcmQtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICB9O1xuXG4gIC8qKlxuICAgKiDliJ3lp4vljJbogYrlpKlcbiAgICovXG4gIGNvbnN0IGluaXRpYWxpemVDaGF0ID0gYXN5bmMgKHNlc3Npb25EYXRhOiBMZWFybmluZ1Nlc3Npb24sIGNvbmZpZzogQVBJQ29uZmlnKSA9PiB7XG4gICAgLy8g5om+5Yiw56ys5LiA5Liq5bCP6IqC5L2c5Li65Yid5aeL5a2m5Lmg55uu5qCHXG4gICAgY29uc3QgZmlyc3RTZWN0aW9uID0gc2Vzc2lvbkRhdGEub3V0bGluZS5maW5kKGl0ZW0gPT4gaXRlbS50eXBlID09PSAnc2VjdGlvbicpO1xuICAgIFxuICAgIC8vIOWIm+W7uuezu+e7n+WIneWni+WMlua2iOaBr1xuICAgIGNvbnN0IHN5c3RlbU1lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xuICAgICAgaWQ6IGdlbmVyYXRlTWVzc2FnZUlkKCksXG4gICAgICByb2xlOiAnc3lzdGVtJyxcbiAgICAgIGNvbnRlbnQ6IGDlrabkuaDkvJror53lt7LlvIDlp4vjgILmlofmoaPmoIfpopjvvJoke3Nlc3Npb25EYXRhLnRpdGxlfe+8jOWtpuS5oOawtOW5s++8miR7c2Vzc2lvbkRhdGEubGVhcm5pbmdMZXZlbCA9PT0gJ2JlZ2lubmVyJyA/ICflsI/nmb0nIDogJ+mrmOaJiyd95qih5byP44CCYCxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB9O1xuXG4gICAgY29uc3Qgd2VsY29tZU1lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xuICAgICAgaWQ6IGdlbmVyYXRlTWVzc2FnZUlkKCksXG4gICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgIGNvbnRlbnQ6IGDkvaDlpb3vvIHmiJHlsIbkvZzkuLrkvaDnmoTnp4Hkurrlr7zluIjvvIzluK7liqnkvaDmm7Tlpb3nmoTnkIbop6PkvaDkuIrkvKDnmoTmnZDmlpnjgIoke3Nlc3Npb25EYXRhLnRpdGxlfeOAi+OAguS4uuS6hue7meaCqOaPkOS+m+acgOWQiOmAgueahOaVmeWtpuS9k+mqjO+8jOaIkeWwhuagueaNruS9oOS5i+WJjemAieaLqeeahCR7c2Vzc2lvbkRhdGEubGVhcm5pbmdMZXZlbCA9PT0gJ2JlZ2lubmVyJyA/ICflsI/nmb0nIDogJ+mrmOaJiyd95qih5byP5p2l6Lef5L2g5LqS5Yqo44CCXG5cbueci+WujOW3pui+uei/meS4quivvueoi+Wkp+e6suS6huWQl++8n+aIkeS7rOaYr+aMieeFp+i/meS4qumhuuW6j+S7juesrOS4gOeroOW8gOWni++8jOi/mOaYr+aCqOaDs+WFiOi3s+WIsOafkOS4quaCqOeJueWIq+aEn+WFtOi2o+eahOeroOiKgu+8n2AsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfTtcblxuICAgIGNvbnN0IGluaXRpYWxNZXNzYWdlcyA9IFtzeXN0ZW1NZXNzYWdlLCB3ZWxjb21lTWVzc2FnZV07XG4gICAgXG4gICAgLy8g5pu05paw5Lya6K+dXG4gICAgY29uc3QgdXBkYXRlZFNlc3Npb24gPSB7XG4gICAgICAuLi5zZXNzaW9uRGF0YSxcbiAgICAgIG1lc3NhZ2VzOiBpbml0aWFsTWVzc2FnZXMsXG4gICAgICBjdXJyZW50Q2hhcHRlcjogZmlyc3RTZWN0aW9uPy5pZCwgLy8g6K6+572u56ys5LiA5Liq5bCP6IqC5Li65b2T5YmN56ug6IqCXG4gICAgfTtcblxuICAgIHNldFNlc3Npb24odXBkYXRlZFNlc3Npb24pO1xuICAgIC8vIOS/neWtmOS8muivneWSjOW9k+WJjeeroOiKglxuICAgIHNhdmVTZXNzaW9uKHVwZGF0ZWRTZXNzaW9uKTtcbiAgfTtcblxuICAvKipcbiAgICog5Y+R6YCB5raI5oGv57uZQUlcbiAgICovXG4gIGNvbnN0IGhhbmRsZVNlbmRNZXNzYWdlID0gYXN5bmMgKGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghc2Vzc2lvbiB8fCAhYXBpQ29uZmlnIHx8IGlzU2VuZGluZ01lc3NhZ2UpIHJldHVybjtcblxuICAgIHNldElzU2VuZGluZ01lc3NhZ2UodHJ1ZSk7XG5cbiAgICB0cnkge1xuICAgICAgLy8g5Yib5bu655So5oi35raI5oGvXG4gICAgICBjb25zdCB1c2VyTWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZU1lc3NhZ2VJZCgpLFxuICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIH07XG5cbiAgICAgIC8vIOabtOaWsOa2iOaBr+WIl+ihqFxuICAgICAgY29uc3QgdXBkYXRlZE1lc3NhZ2VzID0gWy4uLnNlc3Npb24ubWVzc2FnZXMsIHVzZXJNZXNzYWdlXTtcbiAgICAgIHNldFNlc3Npb24ocHJldiA9PiBwcmV2ID8geyAuLi5wcmV2LCBtZXNzYWdlczogdXBkYXRlZE1lc3NhZ2VzIH0gOiBudWxsKTtcblxuICAgICAgLy8g5Y+R6YCB57uZQUlcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2VuZENoYXRNZXNzYWdlKFxuICAgICAgICBhcGlDb25maWcsXG4gICAgICAgIHVwZGF0ZWRNZXNzYWdlcyxcbiAgICAgICAgc2Vzc2lvbi5kb2N1bWVudENvbnRlbnQsXG4gICAgICAgIHNlc3Npb24ub3V0bGluZSxcbiAgICAgICAgc2Vzc2lvbi5sZWFybmluZ0xldmVsXG4gICAgICApO1xuXG4gICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIC8vIOWIm+W7ukFJ5Zue5aSN5raI5oGvXG4gICAgICAgIGNvbnN0IGFzc2lzdGFudE1lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiBnZW5lcmF0ZU1lc3NhZ2VJZCgpLFxuICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgIGNvbnRlbnQ6IHJlc3BvbnNlLmRhdGEsXG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGZpbmFsTWVzc2FnZXMgPSBbLi4udXBkYXRlZE1lc3NhZ2VzLCBhc3Npc3RhbnRNZXNzYWdlXTtcbiAgICAgICAgXG4gICAgICAgIC8vIOabtOaWsOacrOWcsOeKtuaAgVxuICAgICAgICBzZXRTZXNzaW9uKHByZXYgPT4gcHJldiA/IHsgLi4ucHJldiwgbWVzc2FnZXM6IGZpbmFsTWVzc2FnZXMgfSA6IG51bGwpO1xuICAgICAgICBcbiAgICAgICAgLy8g5L+d5a2Y5Yiw5a2Y5YKoXG4gICAgICAgIHVwZGF0ZVNlc3Npb25NZXNzYWdlcyhzZXNzaW9uLmlkLCBmaW5hbE1lc3NhZ2VzKTtcblxuICAgICAgICAvLyDmo4Dmn6XmmK/lkKbpnIDopoHmm7TmlrDlvZPliY3nq6DoioJcbiAgICAgICAgYXdhaXQgY2hlY2tBbmRVcGRhdGVDdXJyZW50Q2hhcHRlcihyZXNwb25zZS5kYXRhLCBzZXNzaW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5lcnJvciB8fCAnQUnlk43lupTlpLHotKUnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign5Y+R6YCB5raI5oGv5aSx6LSlOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgLy8g5Yib5bu66ZSZ6K+v5raI5oGvXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVNZXNzYWdlSWQoKSxcbiAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgIGNvbnRlbnQ6IGDlj5HpgIHlpLHotKU6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn5pyq55+l6ZSZ6K+vJ31gLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9O1xuXG4gICAgICBzZXRTZXNzaW9uKHByZXYgPT4ge1xuICAgICAgICBpZiAoIXByZXYpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBtZXNzYWdlc1dpdGhFcnJvciA9IFsuLi5wcmV2Lm1lc3NhZ2VzLCBlcnJvck1lc3NhZ2VdO1xuICAgICAgICB1cGRhdGVTZXNzaW9uTWVzc2FnZXMocHJldi5pZCwgbWVzc2FnZXNXaXRoRXJyb3IpO1xuICAgICAgICByZXR1cm4geyAuLi5wcmV2LCBtZXNzYWdlczogbWVzc2FnZXNXaXRoRXJyb3IgfTtcbiAgICAgIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1NlbmRpbmdNZXNzYWdlKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIOajgOafpeW5tuabtOaWsOW9k+WJjeeroOiKglxuICAgKi9cbiAgY29uc3QgY2hlY2tBbmRVcGRhdGVDdXJyZW50Q2hhcHRlciA9IGFzeW5jIChhaVJlc3BvbnNlOiBzdHJpbmcsIHNlc3Npb25EYXRhOiBMZWFybmluZ1Nlc3Npb24pID0+IHtcbiAgICBjb25zdCBsb3dlclJlc3BvbnNlID0gYWlSZXNwb25zZS50b0xvd2VyQ2FzZSgpO1xuICAgIFxuICAgIC8vIDEuIOmmluWFiOajgOafpeeUqOaIt+aYr+WQpuaYjuehruimgeaxgui3s+i9rOWIsOeJueWumuWwj+iKglxuICAgIGNvbnN0IHVzZXJNZXNzYWdlRm9ySnVtcCA9IHNlc3Npb25EYXRhLm1lc3NhZ2VzLmZpbHRlcihtID0+IG0ucm9sZSA9PT0gJ3VzZXInKS5wb3AoKTtcbiAgICBpZiAodXNlck1lc3NhZ2VGb3JKdW1wKSB7XG4gICAgICAvLyDmo4Dmn6XnlKjmiLfmtojmga/kuK3nmoTlsI/oioLnvJblj7fvvIjlpoJcIuWOuzEuMlwi44CBXCLlrabkuaAxLjNcIuOAgVwiMS4y5bCP6IqCXCLnrYnvvIlcbiAgICAgIGNvbnN0IHVzZXJTZWN0aW9uUGF0dGVybiA9IC8oPzrljrt85YiwfOWtpuS5oHzov5vlhaV85byA5aeLKT8uKj8oXFxkK1xcLlxcZCspKD865bCP6IqCfOiKgik/L2c7XG4gICAgICBjb25zdCB1c2VyU2VjdGlvbk1hdGNoZXMgPSBbLi4udXNlck1lc3NhZ2VGb3JKdW1wLmNvbnRlbnQubWF0Y2hBbGwodXNlclNlY3Rpb25QYXR0ZXJuKV07XG4gICAgICBcbiAgICAgIGlmICh1c2VyU2VjdGlvbk1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyDmib7liLDmnIDlkI7kuIDkuKrmj5DliLDnmoTlsI/oioLnvJblj7dcbiAgICAgICAgY29uc3QgbGFzdE1hdGNoID0gdXNlclNlY3Rpb25NYXRjaGVzW3VzZXJTZWN0aW9uTWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3Qgc2VjdGlvbk51bWJlciA9IGxhc3RNYXRjaFsxXTtcbiAgICAgICAgXG4gICAgICAgIC8vIOWcqOWkp+e6suS4reafpeaJvuWvueW6lOeahOWwj+iKglxuICAgICAgICBjb25zdCB0YXJnZXRTZWN0aW9uID0gc2Vzc2lvbkRhdGEub3V0bGluZS5maW5kKGl0ZW0gPT4gXG4gICAgICAgICAgaXRlbS50eXBlID09PSAnc2VjdGlvbicgJiYgaXRlbS50aXRsZS5pbmNsdWRlcyhzZWN0aW9uTnVtYmVyKVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRhcmdldFNlY3Rpb24gJiYgc2Vzc2lvbkRhdGEuY3VycmVudENoYXB0ZXIgIT09IHRhcmdldFNlY3Rpb24uaWQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg55So5oi36KaB5rGC6Lez6L2s5Yiw5bCP6IqCICR7c2VjdGlvbk51bWJlcn3vvIzliIfmjaLliLA6YCwgdGFyZ2V0U2VjdGlvbi50aXRsZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8g5Zyo6Lez6L2s5Yiw5oyH5a6a5bCP6IqC5LmL5YmN77yM5YWI5qCH6K6w5b2T5YmN5bCP6IqC5Li65a6M5oiQXG4gICAgICAgICAgaWYgKHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn55So5oi36Lez6L2s5YmN5qCH6K6w5b2T5YmN5bCP6IqC5Li65a6M5oiQOicsIHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyKTtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZU1hcmtDaGFwdGVyQ29tcGxldGVkKHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgdXBkYXRlU2Vzc2lvbkN1cnJlbnRDaGFwdGVyKHNlc3Npb25EYXRhLmlkLCB0YXJnZXRTZWN0aW9uLmlkKTtcbiAgICAgICAgICBzZXRTZXNzaW9uKHByZXYgPT4gcHJldiA/IHsgLi4ucHJldiwgY3VycmVudENoYXB0ZXI6IHRhcmdldFNlY3Rpb24uaWQgfSA6IG51bGwpO1xuICAgICAgICAgIHJldHVybjsgLy8g5om+5Yiw5piO56Gu55qE5bCP6IqC77yM55u05o6l6L+U5ZueXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gMi4g5qOA5p+lQUnmmK/lkKbmmI7noa7mj5DliLDkuoblhbfkvZPnmoTlsI/oioLnvJblj7dcbiAgICBjb25zb2xlLmxvZygnQUnlm57lpI3lhoXlrrk6JywgYWlSZXNwb25zZSk7XG4gICAgY29uc3QgYWlTZWN0aW9uUGF0dGVybiA9IC8oPzrnjrDlnKh85byA5aeLfOi/m+WFpXzlrabkuaB86K6y6KejfOaOouiuqCkuKj8oXFxkK1xcLlxcZCspKD865bCP6IqCfOiKgik/L2c7XG4gICAgY29uc3QgYWlTZWN0aW9uTWF0Y2hlcyA9IFsuLi5haVJlc3BvbnNlLm1hdGNoQWxsKGFpU2VjdGlvblBhdHRlcm4pXTtcbiAgICBjb25zb2xlLmxvZygnQUnlsI/oioLljLnphY3nu5Pmnpw6JywgYWlTZWN0aW9uTWF0Y2hlcyk7XG4gICAgXG4gICAgaWYgKGFpU2VjdGlvbk1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgLy8g5om+5Yiw5pyA5ZCO5LiA5Liq5o+Q5Yiw55qE5bCP6IqC57yW5Y+3XG4gICAgICBjb25zdCBsYXN0TWF0Y2ggPSBhaVNlY3Rpb25NYXRjaGVzW2FpU2VjdGlvbk1hdGNoZXMubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCBzZWN0aW9uTnVtYmVyID0gbGFzdE1hdGNoWzFdO1xuICAgICAgY29uc29sZS5sb2coJ0FJ5o+Q5Yiw55qE5bCP6IqC57yW5Y+3OicsIHNlY3Rpb25OdW1iZXIpO1xuICAgICAgXG4gICAgICAvLyDlnKjlpKfnurLkuK3mn6Xmib7lr7nlupTnmoTlsI/oioJcbiAgICAgIGNvbnN0IHRhcmdldFNlY3Rpb24gPSBzZXNzaW9uRGF0YS5vdXRsaW5lLmZpbmQoaXRlbSA9PiBcbiAgICAgICAgaXRlbS50eXBlID09PSAnc2VjdGlvbicgJiYgaXRlbS50aXRsZS5pbmNsdWRlcyhzZWN0aW9uTnVtYmVyKVxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUubG9nKCfmib7liLDnmoTnm67moIflsI/oioI6JywgdGFyZ2V0U2VjdGlvbik7XG4gICAgICBcbiAgICAgIGlmICh0YXJnZXRTZWN0aW9uICYmIHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyICE9PSB0YXJnZXRTZWN0aW9uLmlkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBBSeaYjuehruaPkOWIsOWwj+iKgiAke3NlY3Rpb25OdW1iZXJ977yM5YiH5o2i5YiwOmAsIHRhcmdldFNlY3Rpb24udGl0bGUpO1xuICAgICAgICBcbiAgICAgICAgLy8g5Zyo5YiH5o2i5Yiw5paw5bCP6IqC5LmL5YmN77yM5YWI5qCH6K6w5b2T5YmN5bCP6IqC5Li65a6M5oiQXG4gICAgICAgIGlmIChzZXNzaW9uRGF0YS5jdXJyZW50Q2hhcHRlcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfliIfmjaLliY3moIforrDlvZPliY3lsI/oioLkuLrlrozmiJA6Jywgc2Vzc2lvbkRhdGEuY3VycmVudENoYXB0ZXIpO1xuICAgICAgICAgIGF3YWl0IGhhbmRsZU1hcmtDaGFwdGVyQ29tcGxldGVkKHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdXBkYXRlU2Vzc2lvbkN1cnJlbnRDaGFwdGVyKHNlc3Npb25EYXRhLmlkLCB0YXJnZXRTZWN0aW9uLmlkKTtcbiAgICAgICAgc2V0U2Vzc2lvbihwcmV2ID0+IHByZXYgPyB7IC4uLnByZXYsIGN1cnJlbnRDaGFwdGVyOiB0YXJnZXRTZWN0aW9uLmlkIH0gOiBudWxsKTtcbiAgICAgICAgcmV0dXJuOyAvLyDmib7liLDmmI7noa7nmoTlsI/oioLvvIznm7TmjqXov5Tlm55cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gMi4g5qOA5p+lQUnmmK/lkKbmj5DliLDkuoblsI/oioLlrozmiJDnmoTlhbPplK7or41cbiAgICBjb25zdCBjb21wbGV0aW9uS2V5d29yZHMgPSBbXG4gICAgICAn5a6M5oiQ5LqGJywgJ+W3sue7j+WujOaIkOS6hicsICfmiJHku6zlrozmiJDkuoYnLCAn5Yia5omN5a6M5oiQ5LqGJyxcbiAgICAgICflrabkuaDlrozkuoYnLCAn5bey57uP5a2m5a6M5LqGJywgJ+aIkeS7rOWtpuWujOS6hicsXG4gICAgICAn57uT5p2f5LqGJywgJ+W3sue7j+e7k+adn+S6hicsICfmiJHku6znu5PmnZ/kuoYnLFxuICAgICAgJ+i/meS4gOiKguWwseWIsOi/memHjCcsICfmnKzoioLlhoXlrrnnu5PmnZ8nLFxuICAgICAgJ+i/meS4quWwj+iKgueahOWGheWuueWwseiusuWujOS6hicsICfmnKzlsI/oioLliLDmraTnu5PmnZ8nXG4gICAgXTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn5qOA5p+lQUnmmK/lkKbmj5DliLDlrozmiJDlhbPplK7or406JywgY29tcGxldGlvbktleXdvcmRzLnNvbWUoa2V5d29yZCA9PiBsb3dlclJlc3BvbnNlLmluY2x1ZGVzKGtleXdvcmQpKSk7XG4gICAgY29uc29sZS5sb2coJ0FJ5Zue5aSN5YaF5a65KOWwj+WGmSk6JywgbG93ZXJSZXNwb25zZSk7XG4gICAgXG4gICAgLy8g5aaC5p6cQUnmj5DliLDkuoblrozmiJDlhbPplK7or41cbiAgICBpZiAoY29tcGxldGlvbktleXdvcmRzLnNvbWUoa2V5d29yZCA9PiBsb3dlclJlc3BvbnNlLmluY2x1ZGVzKGtleXdvcmQpKSkge1xuICAgICAgbGV0IGNvbXBsZXRlZFNlY3Rpb25JZCA9IG51bGw7XG4gICAgICBcbiAgICAgIC8vIOajgOafpeaYr+WQpuaPkOWIsOS6huWFt+S9k+eahOWwj+iKgue8luWPt++8iOeUqOS6juagh+iusOWujOaIkO+8iVxuICAgICAgLy8g5aKe5by65q2j5YiZ6KGo6L6+5byP77yM5pSv5oyB5pu05aSa55qE6KGo6L6+5pa55byPXG4gICAgICBjb25zdCBjb21wbGV0ZWRTZWN0aW9uUGF0dGVybiA9IC8oPzrlrozmiJDkuoZ85a2m5a6M5LqGfOe7k+adn+S6hnzlt7Lnu4/lrozmiJDkuoZ85oiR5Lus5a6M5oiQ5LqGKS4qPyhcXGQrXFwuXFxkKykoPzrlsI/oioJ86IqCKT8uKj8oPzrnmoTlrabkuaB85a2m5LmgfOeahOWGheWuuSk/L2c7XG4gICAgICBjb25zdCBjb21wbGV0ZWRNYXRjaGVzID0gWy4uLmFpUmVzcG9uc2UubWF0Y2hBbGwoY29tcGxldGVkU2VjdGlvblBhdHRlcm4pXTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ+WujOaIkOWwj+iKguWMuemFjee7k+aenDonLCBjb21wbGV0ZWRNYXRjaGVzKTtcbiAgICAgIFxuICAgICAgaWYgKGNvbXBsZXRlZE1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBjb21wbGV0ZWROdW1iZXIgPSBjb21wbGV0ZWRNYXRjaGVzWzBdWzFdO1xuICAgICAgICBjb25zb2xlLmxvZygn5o+Q5Y+W5Yiw55qE5a6M5oiQ5bCP6IqC57yW5Y+3OicsIGNvbXBsZXRlZE51bWJlcik7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjb21wbGV0ZWRTZWN0aW9uID0gc2Vzc2lvbkRhdGEub3V0bGluZS5maW5kKGl0ZW0gPT4gXG4gICAgICAgICAgaXRlbS50eXBlID09PSAnc2VjdGlvbicgJiYgaXRlbS50aXRsZS5pbmNsdWRlcyhjb21wbGV0ZWROdW1iZXIpXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygn5om+5Yiw55qE5a6M5oiQ5bCP6IqCOicsIGNvbXBsZXRlZFNlY3Rpb24pO1xuICAgICAgICBcbiAgICAgICAgaWYgKGNvbXBsZXRlZFNlY3Rpb24pIHtcbiAgICAgICAgICBjb21wbGV0ZWRTZWN0aW9uSWQgPSBjb21wbGV0ZWRTZWN0aW9uLmlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOWmguaenOayoeacieaYjuehrueahOe8luWPt++8jOWwneivlemAmui/h+Wwj+iKguagh+mimOWMuemFjVxuICAgICAgaWYgKCFjb21wbGV0ZWRTZWN0aW9uSWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+WwneivlemAmui/h+agh+mimOWMuemFjeWujOaIkOeahOWwj+iKgicpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc2Vzc2lvbkRhdGEub3V0bGluZSkge1xuICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgdGl0bGVXaXRob3V0TnVtYmVyID0gaXRlbS50aXRsZS5yZXBsYWNlKC9eXFxkK1xcLlxcZCtcXHMqLywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICh0aXRsZVdpdGhvdXROdW1iZXIgJiYgYWlSZXNwb25zZS5pbmNsdWRlcyh0aXRsZVdpdGhvdXROdW1iZXIpKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfpgJrov4fmoIfpopjljLnphY3liLDlrozmiJDlsI/oioI6JywgaXRlbS50aXRsZSk7XG4gICAgICAgICAgICAgIGNvbXBsZXRlZFNlY3Rpb25JZCA9IGl0ZW0uaWQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDlpoLmnpzov5jmmK/msqHmib7liLDvvIzkvb/nlKjlvZPliY3nq6DoioJcbiAgICAgIGlmICghY29tcGxldGVkU2VjdGlvbklkICYmIHNlc3Npb25EYXRhLmN1cnJlbnRDaGFwdGVyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfkvb/nlKjlvZPliY3nq6DoioLkvZzkuLrlrozmiJDlsI/oioI6Jywgc2Vzc2lvbkRhdGEuY3VycmVudENoYXB0ZXIpO1xuICAgICAgICBjb21wbGV0ZWRTZWN0aW9uSWQgPSBzZXNzaW9uRGF0YS5jdXJyZW50Q2hhcHRlcjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8g5qCH6K6w5om+5Yiw55qE5bCP6IqC5Li65a6M5oiQXG4gICAgICBpZiAoY29tcGxldGVkU2VjdGlvbklkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfmoIforrDlsI/oioLkuLrlrozmiJA6JywgY29tcGxldGVkU2VjdGlvbklkKTtcbiAgICAgICAgYXdhaXQgaGFuZGxlTWFya0NoYXB0ZXJDb21wbGV0ZWQoY29tcGxldGVkU2VjdGlvbklkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfmnKrmib7liLDopoHmoIforrDkuLrlrozmiJDnmoTlsI/oioInKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gMy4g5qOA5p+l5piv5ZCm55So5oi35piO56Gu6KaB5rGC6L+b5YWl5LiL5LiA6IqCXG4gICAgLy8g5rOo5oSP77ya5qC55o2u5paw55qEXCLkuIDmraXkuIDlgZxcIuaVmeWtpuaooeW8j++8jOaIkeS7rOS4jeW6lOivpeWboOS4ukFJ5o+Q5YiwXCLmjqXkuIvmnaVcIuWwseiHquWKqOaOqOi/m1xuICAgIC8vIOWPquacieW9k+eUqOaIt+aYjuehruimgeaxguaIlkFJ5piO56Gu6K+05piO5pW05Liq5bCP6IqC5bey57uP5a6M5oiQ5pe25omN5o6o6L+bXG4gICAgY29uc3QgdXNlclJlcXVlc3ROZXh0S2V5d29yZHMgPSBbXG4gICAgICAn5oiR5oOz5a2m5LiL5LiA6IqCJywgJ+i/m+WFpeS4i+S4gOiKguWQpycsICflvIDlp4vkuIvkuIDoioInLCBcbiAgICAgICfkuIvkuIDkuKrlsI/oioInLCAn57un57ut5LiL5LiA6IqCJywgJ+i3s+WIsOS4i+S4gOiKgicsXG4gICAgICAn5LiL5LiA56ug5ZCnJywgJ+i/m+WFpeS4i+S4gOeroCcsICflvIDlp4vkuIvkuIDnq6AnLFxuICAgICAgJ+S4i+S4gOS4queroOiKgicsICfnu6fnu63kuIvkuIDnq6AnLCAn5LiL5Liq56ug6IqCJ1xuICAgIF07XG4gICAgXG4gICAgLy8g5Y+q5pyJ5b2T55So5oi355qE5raI5oGv5Lit5YyF5ZCr6L+Z5Lqb5YWz6ZSu6K+N5pe25omN6ICD6JmR5o6o6L+bXG4gICAgY29uc3QgdXNlck1lc3NhZ2VGb3JOZXh0ID0gc2Vzc2lvbkRhdGEubWVzc2FnZXMuZmlsdGVyKG0gPT4gbS5yb2xlID09PSAndXNlcicpLnBvcCgpO1xuICAgIGlmICh1c2VyTWVzc2FnZUZvck5leHQgJiYgdXNlclJlcXVlc3ROZXh0S2V5d29yZHMuc29tZShrZXl3b3JkID0+IHVzZXJNZXNzYWdlRm9yTmV4dC5jb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoa2V5d29yZCkpKSB7XG4gICAgICAvLyDlpoLmnpzmsqHmnInmmI7noa7mjIflrprlsI/oioLnvJblj7fvvIzoh6rliqjmjqjov5vliLDkuIvkuIDkuKrlsI/oioJcbiAgICAgIGlmICghYWlTZWN0aW9uTWF0Y2hlcy5sZW5ndGggJiYgc2Vzc2lvbkRhdGEuY3VycmVudENoYXB0ZXIpIHtcbiAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gc2Vzc2lvbkRhdGEub3V0bGluZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09PSBzZXNzaW9uRGF0YS5jdXJyZW50Q2hhcHRlcik7XG4gICAgICAgIGNvbnNvbGUubG9nKCflvZPliY3nq6DoioLntKLlvJU6JywgY3VycmVudEluZGV4LCAn5b2T5YmN56ug6IqCSUQ6Jywgc2Vzc2lvbkRhdGEuY3VycmVudENoYXB0ZXIpO1xuICAgICAgICBjb25zb2xlLmxvZygn5aSn57qy57uT5p6EOicsIHNlc3Npb25EYXRhLm91dGxpbmUubWFwKChpdGVtLCBpbmRleCkgPT4gYCR7aW5kZXh9OiAke2l0ZW0udGl0bGV9ICgke2l0ZW0udHlwZX0pYCkpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgLy8g5p+l5om+5LiL5LiA5Liq5bCP6IqC77yI6Lez6L+H56ug6IqC5qCH6aKY77yJXG4gICAgICAgICAgZm9yIChsZXQgaSA9IGN1cnJlbnRJbmRleCArIDE7IGkgPCBzZXNzaW9uRGF0YS5vdXRsaW5lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg5qOA5p+l57Si5byVICR7aX06ICR7c2Vzc2lvbkRhdGEub3V0bGluZVtpXS50aXRsZX0gKCR7c2Vzc2lvbkRhdGEub3V0bGluZVtpXS50eXBlfSlgKTtcbiAgICAgICAgICAgIGlmIChzZXNzaW9uRGF0YS5vdXRsaW5lW2ldLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgICAgICAgICBjb25zdCBuZXh0U2VjdGlvbiA9IHNlc3Npb25EYXRhLm91dGxpbmVbaV07XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfnlKjmiLfopoHmsYLmjqjov5vliLDkuIvkuIDlsI/oioI6JywgbmV4dFNlY3Rpb24udGl0bGUpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8g5Zyo5o6o6L+b5Yiw5LiL5LiA6IqC5LmL5YmN77yM5YWI5qCH6K6w5b2T5YmN5bCP6IqC5Li65a6M5oiQXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfnlKjmiLfmjqjov5vliY3moIforrDlvZPliY3lsI/oioLkuLrlrozmiJA6Jywgc2Vzc2lvbkRhdGEuY3VycmVudENoYXB0ZXIpO1xuICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVNYXJrQ2hhcHRlckNvbXBsZXRlZChzZXNzaW9uRGF0YS5jdXJyZW50Q2hhcHRlcik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB1cGRhdGVTZXNzaW9uQ3VycmVudENoYXB0ZXIoc2Vzc2lvbkRhdGEuaWQsIG5leHRTZWN0aW9uLmlkKTtcbiAgICAgICAgICAgICAgc2V0U2Vzc2lvbihwcmV2ID0+IHByZXYgPyB7IC4uLnByZXYsIGN1cnJlbnRDaGFwdGVyOiBuZXh0U2VjdGlvbi5pZCB9IDogbnVsbCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyA0LiDmo4Dmn6VBSeaYr+WQpuaPkOWIsOS6huWFt+S9k+eahOWwj+iKguagh+mimO+8iOeUqOS6juWIh+aNoueroOiKgu+8iVxuICAgIGxldCBjaGFwdGVyRm91bmRBbmRVcGRhdGVkID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHNlc3Npb25EYXRhLm91dGxpbmUpIHtcbiAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdzZWN0aW9uJyAmJiAhY2hhcHRlckZvdW5kQW5kVXBkYXRlZCkge1xuICAgICAgICAvLyDmo4Dmn6XmmK/lkKbmj5DliLDkuoblsI/oioLnmoTmoLjlv4PmoIfpophcbiAgICAgICAgY29uc3QgdGl0bGVXaXRob3V0TnVtYmVyID0gaXRlbS50aXRsZS5yZXBsYWNlKC9eXFxkK1xcLlxcZCtcXHMqLywgJycpLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aXRsZVdpdGhvdXROdW1iZXIubGVuZ3RoID4gMikgeyAvLyDpgb/lhY3ljLnphY3ov4fnn63nmoTmoIfpophcbiAgICAgICAgICBjb25zdCB0aXRsZVBhdHRlcm5zID0gW1xuICAgICAgICAgICAgYOWtpuS5oCR7dGl0bGVXaXRob3V0TnVtYmVyfWAsIGDlvIDlp4ske3RpdGxlV2l0aG91dE51bWJlcn1gLFxuICAgICAgICAgICAgYOi/m+WFpSR7dGl0bGVXaXRob3V0TnVtYmVyfWAsIGDorrLop6Mke3RpdGxlV2l0aG91dE51bWJlcn1gLFxuICAgICAgICAgICAgYCR7dGl0bGVXaXRob3V0TnVtYmVyfeeahOWGheWuuWAsIGAke3RpdGxlV2l0aG91dE51bWJlcn3pg6jliIZgXG4gICAgICAgICAgXTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAodGl0bGVQYXR0ZXJucy5zb21lKHBhdHRlcm4gPT4gYWlSZXNwb25zZS5pbmNsdWRlcyhwYXR0ZXJuKSkpIHtcbiAgICAgICAgICAgIGlmIChzZXNzaW9uRGF0YS5jdXJyZW50Q2hhcHRlciAhPT0gaXRlbS5pZCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6YCa6L+H5qCH6aKY5Yy56YWN5YiH5o2i56ug6IqCOicsIGl0ZW0udGl0bGUpO1xuICAgICAgICAgICAgICB1cGRhdGVTZXNzaW9uQ3VycmVudENoYXB0ZXIoc2Vzc2lvbkRhdGEuaWQsIGl0ZW0uaWQpO1xuICAgICAgICAgICAgICBzZXRTZXNzaW9uKHByZXYgPT4gcHJldiA/IHsgLi4ucHJldiwgY3VycmVudENoYXB0ZXI6IGl0ZW0uaWQgfSA6IG51bGwpO1xuICAgICAgICAgICAgICBjaGFwdGVyRm91bmRBbmRVcGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIOWkhOeQhueroOiKgueCueWHu1xuICAgKi9cbiAgY29uc3QgaGFuZGxlQ2hhcHRlckNsaWNrID0gKGNoYXB0ZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFzZXNzaW9uIHx8IGlzU2VuZGluZ01lc3NhZ2UpIHJldHVybjtcblxuICAgIGNvbnN0IGl0ZW0gPSBzZXNzaW9uLm91dGxpbmUuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGNoYXB0ZXJJZCk7XG4gICAgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgXG4gICAgLy8g5Y+q5pyJ5bCP6IqC77yIc2VjdGlvbu+8ieaJjeiDveeCueWHu+WtpuS5oO+8jOeroOiKgu+8iGNoYXB0ZXLvvInlj6rmmK/moIfpophcbiAgICBpZiAoaXRlbS50eXBlID09PSAnY2hhcHRlcicpIHJldHVybjtcblxuICAgIC8vIOabtOaWsOW9k+WJjeeroOiKglxuICAgIHVwZGF0ZVNlc3Npb25DdXJyZW50Q2hhcHRlcihzZXNzaW9uLmlkLCBjaGFwdGVySWQpO1xuICAgIHNldFNlc3Npb24ocHJldiA9PiBwcmV2ID8geyAuLi5wcmV2LCBjdXJyZW50Q2hhcHRlcjogY2hhcHRlcklkIH0gOiBudWxsKTtcblxuICAgIC8vIOWPkemAgeWIh+aNoueroOiKgueahOa2iOaBr1xuICAgIGNvbnN0IHN3aXRjaE1lc3NhZ2UgPSBg5oiR5oOz6Lez6L2s5YiwXCIke2l0ZW0udGl0bGV9XCLov5nkuKrlsI/oioLov5vooYzlrabkuaDjgIJgO1xuICAgIGhhbmRsZVNlbmRNZXNzYWdlKHN3aXRjaE1lc3NhZ2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiDlpITnkIbmtojmga/mlLbol4/kuLrljaHniYdcbiAgICovXG4gIGNvbnN0IGhhbmRsZUJvb2ttYXJrTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZywgdHlwZTogJ2luc3BpcmF0aW9uJyB8ICdib29rbWFyaycsIHVzZXJOb3RlPzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFzZXNzaW9uIHx8ICFhcGlDb25maWcpIHJldHVybjtcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBzZXNzaW9uLm1lc3NhZ2VzLmZpbmQobSA9PiBtLmlkID09PSBtZXNzYWdlSWQpO1xuICAgIGlmICghbWVzc2FnZSB8fCBtZXNzYWdlLnJvbGUgIT09ICdhc3Npc3RhbnQnKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgLy8g6aaW5YWI5o+Q57qv5YaF5a6577yM54S25ZCO5Z+65LqO5o+Q57qv5ZCO55qE5YaF5a6555Sf5oiQ5qCH6aKYXG4gICAgICBjb25zdCBjb250ZW50UmVzcG9uc2UgPSBhd2FpdCBwdXJpZnlDYXJkQ29udGVudChhcGlDb25maWcsIG1lc3NhZ2UuY29udGVudCwgdXNlck5vdGUpO1xuICAgICAgY29uc3QgcHVyaWZpZWRDb250ZW50ID0gY29udGVudFJlc3BvbnNlLnN1Y2Nlc3MgPyBjb250ZW50UmVzcG9uc2UuZGF0YSA6IG1lc3NhZ2UuY29udGVudDtcblxuICAgICAgY29uc29sZS5sb2coJ+WOn+Wni+WvueivneWGheWuuTonLCBtZXNzYWdlLmNvbnRlbnQpO1xuICAgICAgY29uc29sZS5sb2coJ+aPkOe6r+WQjuWGheWuuTonLCBwdXJpZmllZENvbnRlbnQpO1xuXG4gICAgICAvLyDln7rkuo7mj5Dnuq/lkI7nmoTlhoXlrrnnlJ/miJDmoIfpopjvvIjmm7Tlh4bnoa7vvIlcbiAgICAgIGNvbnN0IHRpdGxlUmVzcG9uc2UgPSBhd2FpdCBzdW1tYXJpemVDYXJkVGl0bGUoYXBpQ29uZmlnLCBwdXJpZmllZENvbnRlbnQpO1xuICAgICAgY29uc3QgY2FyZFRpdGxlID0gdGl0bGVSZXNwb25zZS5zdWNjZXNzID8gdGl0bGVSZXNwb25zZS5kYXRhIDogcHVyaWZpZWRDb250ZW50LnN1YnN0cmluZygwLCAxMik7XG5cbiAgICAgIC8vIOWIm+W7uuWNoeeJh1xuICAgICAgY29uc3QgY2FyZDogTGVhcm5pbmdDYXJkID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVDYXJkSWQoKSxcbiAgICAgICAgdGl0bGU6IGNhcmRUaXRsZSxcbiAgICAgICAgY29udGVudDogcHVyaWZpZWRDb250ZW50LCAvLyDkvb/nlKjmj5Dnuq/lkI7nmoTlhoXlrrlcbiAgICAgICAgdXNlck5vdGUsIC8vIOeUqOaIt+aEn+WPl+S8muWcqHB1cmlmeUNhcmRDb250ZW505Lit5aSE55CGXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHRhZ3M6IFtdLFxuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIG5leHRSZXZpZXdBdDogRGF0ZS5ub3coKSArICgxICogNjAgKiAxMDAwKSwgLy8gMeWIhumSn+WQjuWkjeS5oO+8iOa1i+ivleeUqO+8iVxuICAgICAgICByZXZpZXdDb3VudDogMCxcbiAgICAgICAgZGlmZmljdWx0eTogMyxcbiAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uLmlkLFxuICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIGNoYXB0ZXJJZDogc2Vzc2lvbi5jdXJyZW50Q2hhcHRlcixcbiAgICAgIH07XG5cbiAgICAgIC8vIOS/neWtmOWNoeeJh1xuICAgICAgY29uc3Qgc3VjY2VzcyA9IGFkZExlYXJuaW5nQ2FyZChzZXNzaW9uLmlkLCBjYXJkKTtcbiAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgIC8vIOabtOaWsOa2iOaBr+eahOaUtuiXj+eKtuaAgVxuICAgICAgICBjb25zdCB1cGRhdGVkTWVzc2FnZXMgPSBzZXNzaW9uLm1lc3NhZ2VzLm1hcChtID0+XG4gICAgICAgICAgbS5pZCA9PT0gbWVzc2FnZUlkIFxuICAgICAgICAgICAgPyB7IC4uLm0sIGlzQm9va21hcmtlZDogdHJ1ZSwgY2FyZElkOiBjYXJkLmlkIH1cbiAgICAgICAgICAgIDogbVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgc2V0U2Vzc2lvbihwcmV2ID0+IHByZXYgPyB7IC4uLnByZXYsIG1lc3NhZ2VzOiB1cGRhdGVkTWVzc2FnZXMgfSA6IG51bGwpO1xuICAgICAgICB1cGRhdGVTZXNzaW9uTWVzc2FnZXMoc2Vzc2lvbi5pZCwgdXBkYXRlZE1lc3NhZ2VzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOWIt+aWsOWNoeeJh+euoeeQhuWZqFxuICAgICAgICBzZXRDYXJkTWFuYWdlcktleShwcmV2ID0+IHByZXYgKyAxKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign5Yib5bu65Y2h54mH5aSx6LSlOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgLy8g5aaC5p6cQUnosIPnlKjlpLHotKXvvIzkvb/nlKjnroDljJblpITnkIbnmoTlpIfnlKjmlrnmoYhcbiAgICAgIGNvbnN0IGZhbGxiYWNrVGl0bGUgPSBtZXNzYWdlLmNvbnRlbnQuc3Vic3RyaW5nKDAsIDEyKTtcbiAgICAgIFxuICAgICAgLy8g566A5Y2V55qE5paH5pys5riF55CG5L2c5Li65aSH55SoXG4gICAgICBjb25zdCBmYWxsYmFja0NvbnRlbnQgPSBtZXNzYWdlLmNvbnRlbnRcbiAgICAgICAgLnJlcGxhY2UoL1vwn5iK8J+YhPCfmIbwn6SU8J+SofCfkY3wn5Oa4pyo8J+Or/CfmoDwn5Sn8J+OqF0vZywgJycpIC8vIOenu+mZpOihqOaDheespuWPt1xuICAgICAgICAucmVwbGFjZSgv5L2g5aW9W++8gSFdKlxccyovZywgJycpXG4gICAgICAgIC5yZXBsYWNlKC/miJHku6xb5p2l5Y67XT9b5a2m5Lmg6K6y6Kej5YiG5p6Q5o6i6K6oXSpcXHMqL2csICcnKVxuICAgICAgICAucmVwbGFjZSgv5L2g6KeJ5b6XLio/W++8nz9dL2csICcnKVxuICAgICAgICAucmVwbGFjZSgv5piO55m95LqG5ZCXW++8nz9dL2csICcnKVxuICAgICAgICAudHJpbSgpO1xuICAgICAgXG4gICAgICBjb25zdCBjYXJkOiBMZWFybmluZ0NhcmQgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUNhcmRJZCgpLFxuICAgICAgICB0aXRsZTogZmFsbGJhY2tUaXRsZSxcbiAgICAgICAgY29udGVudDogZmFsbGJhY2tDb250ZW50ICsgKHVzZXJOb3RlID8gYFxcblxcbuWtpuS5oOaEn+WPl++8miR7dXNlck5vdGV9YCA6ICcnKSxcbiAgICAgICAgdXNlck5vdGUsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHRhZ3M6IFtdLFxuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIG5leHRSZXZpZXdBdDogRGF0ZS5ub3coKSArICgxICogNjAgKiAxMDAwKSxcbiAgICAgICAgcmV2aWV3Q291bnQ6IDAsXG4gICAgICAgIGRpZmZpY3VsdHk6IDMsXG4gICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgbWVzc2FnZUlkOiBtZXNzYWdlLmlkLFxuICAgICAgICBjaGFwdGVySWQ6IHNlc3Npb24uY3VycmVudENoYXB0ZXIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzdWNjZXNzID0gYWRkTGVhcm5pbmdDYXJkKHNlc3Npb24uaWQsIGNhcmQpO1xuICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZE1lc3NhZ2VzID0gc2Vzc2lvbi5tZXNzYWdlcy5tYXAobSA9PlxuICAgICAgICAgIG0uaWQgPT09IG1lc3NhZ2VJZCBcbiAgICAgICAgICAgID8geyAuLi5tLCBpc0Jvb2ttYXJrZWQ6IHRydWUsIGNhcmRJZDogY2FyZC5pZCB9XG4gICAgICAgICAgICA6IG1cbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIHNldFNlc3Npb24ocHJldiA9PiBwcmV2ID8geyAuLi5wcmV2LCBtZXNzYWdlczogdXBkYXRlZE1lc3NhZ2VzIH0gOiBudWxsKTtcbiAgICAgICAgdXBkYXRlU2Vzc2lvbk1lc3NhZ2VzKHNlc3Npb24uaWQsIHVwZGF0ZWRNZXNzYWdlcyk7XG4gICAgICAgIHNldENhcmRNYW5hZ2VyS2V5KHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICog6L+U5Zue6aaW6aG1XG4gICAqL1xuICBjb25zdCBoYW5kbGVHb0JhY2sgPSAoKSA9PiB7XG4gICAgcm91dGVyLnB1c2goJy8nKTtcbiAgfTtcblxuICAvKipcbiAgICog5qCH6K6w56ug6IqC5Li65bey5a6M5oiQXG4gICAqL1xuICBjb25zdCBoYW5kbGVNYXJrQ2hhcHRlckNvbXBsZXRlZCA9IGFzeW5jIChjaGFwdGVySWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghc2Vzc2lvbikgcmV0dXJuO1xuXG4gICAgY29uc3Qgc3VjY2VzcyA9IG1hcmtDaGFwdGVyQ29tcGxldGVkKHNlc3Npb24uaWQsIGNoYXB0ZXJJZCk7XG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIC8vIOabtOaWsOacrOWcsOeKtuaAgVxuICAgICAgc2V0U2Vzc2lvbihwcmV2ID0+IHtcbiAgICAgICAgaWYgKCFwcmV2KSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgdXBkYXRlZE91dGxpbmUgPSBwcmV2Lm91dGxpbmUubWFwKGl0ZW0gPT4gXG4gICAgICAgICAgaXRlbS5pZCA9PT0gY2hhcHRlcklkIFxuICAgICAgICAgICAgPyB7IC4uLml0ZW0sIGlzQ29tcGxldGVkOiB0cnVlLCBjb21wbGV0ZWRBdDogRGF0ZS5ub3coKSB9XG4gICAgICAgICAgICA6IGl0ZW1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgb3V0bGluZTogdXBkYXRlZE91dGxpbmUgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICog6K6h566X5a6M5oiQ6L+b5bqmXG4gICAqL1xuICBjb25zdCBnZXRDb21wbGV0aW9uU3RhdHMgPSAoKSA9PiB7XG4gICAgaWYgKCFzZXNzaW9uKSByZXR1cm4geyBjb21wbGV0ZWQ6IDAsIHRvdGFsOiAwIH07XG4gICAgXG4gICAgY29uc3QgY29tcGxldGVkID0gc2Vzc2lvbi5vdXRsaW5lLmZpbHRlcihpdGVtID0+IGl0ZW0uaXNDb21wbGV0ZWQpLmxlbmd0aDtcbiAgICBjb25zdCB0b3RhbCA9IHNlc3Npb24ub3V0bGluZS5sZW5ndGg7XG4gICAgXG4gICAgcmV0dXJuIHsgY29tcGxldGVkLCB0b3RhbCB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiDlpITnkIbljaHniYfmm7TmlrBcbiAgICovXG4gIGNvbnN0IGhhbmRsZUNhcmRzVXBkYXRlID0gKCkgPT4ge1xuICAgIHNldENhcmRNYW5hZ2VyS2V5KHByZXYgPT4gcHJldiArIDEpO1xuICB9O1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItNCBib3JkZXItcHJpbWFyeS02MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnQgbXgtYXV0byBtYi00XCI+PC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPuWKoOi9veWtpuS5oOS8muivneS4rS4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKCFzZXNzaW9uKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi00XCI+5Lya6K+d5LiN5a2Y5ZyoPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTZcIj7or7fmo4Dmn6Xpk77mjqXmmK/lkKbmraPnoa48L3A+XG4gICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVHb0JhY2t9Pui/lOWbnummlumhtTwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1zY3JlZW4gYmctZ3JheS01MCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICB7Lyog6aG26YOo5a+86Iiq5qCPICovfVxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJiZy13aGl0ZSBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBoLTE2IHB4LTZcIj5cbiAgICAgICAgICB7Lyog5bem5L6n5L+h5oGvICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR29CYWNrfVxuICAgICAgICAgICAgICBpY29uPXs8QXJyb3dMZWZ0IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg6L+U5ZueXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItbCBib3JkZXItZ3JheS0zMDAgcGwtNFwiPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgdHJ1bmNhdGUgbWF4LXctbWRcIj5cbiAgICAgICAgICAgICAgICB7c2Vzc2lvbi50aXRsZX1cbiAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyB0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAge3Nlc3Npb24ubGVhcm5pbmdMZXZlbCA9PT0gJ2JlZ2lubmVyJyA/IChcbiAgICAgICAgICAgICAgICAgICAgPFVzZXIgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8WmFwIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHtzZXNzaW9uLmxlYXJuaW5nTGV2ZWwgPT09ICdiZWdpbm5lcicgPyAn5bCP55m95qih5byPJyA6ICfpq5jmiYvmqKHlvI8nfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8c3Bhbj7Ctzwvc3Bhbj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0cyA9IGdldENvbXBsZXRpb25TdGF0cygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7c3RhdHMuY29tcGxldGVkfS8ke3N0YXRzLnRvdGFsfSDkuKrnq6DoioLlt7LlrozmiJBgO1xuICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPHNwYW4+wrc8L3NwYW4+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPHNwYW4+e3Nlc3Npb24ubWVzc2FnZXMuZmlsdGVyKG0gPT4gbS5yb2xlICE9PSAnc3lzdGVtJykubGVuZ3RofSDmnaHlr7nor508L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7Lyog5Y+z5L6n5pON5L2cICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgIOaLluaLveS4remXtOWIhumalOadoeWPr+iwg+aVtOmdouadv+Wkp+Wwj1xuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIHsvKiDkuLvkvZPlhoXlrrkgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsXCI+XG4gICAgICAgICAgey8qIOW3puS+p+Wkp+e6sumdouadvyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMS80IG1pbi13LVsyNTBweF0gbWF4LXctWzQwMHB4XSBoLWZ1bGwgYmctd2hpdGUgYm9yZGVyLXIgYm9yZGVyLWdyYXktMjAwIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIHsvKiDlpKfnurLlpLTpg6ggKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTRcIj5cbiAgICAgICAgICAgICAgICA8Qm9va09wZW4gY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXByaW1hcnktNjAwXCIgLz5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj7lrabkuaDlpKfnurI8L2gyPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiDov5vluqbkv6Hmga8gKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgIDxwPuWFsSB7c2Vzc2lvbi5vdXRsaW5lLmxlbmd0aH0g5Liq56ug6IqCPC9wPlxuICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gZ2V0Q29tcGxldGlvblN0YXRzKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSBzdGF0cy50b3RhbCA+IDAgPyBNYXRoLnJvdW5kKChzdGF0cy5jb21wbGV0ZWQgLyBzdGF0cy50b3RhbCkgKiAxMDApIDogMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmVlbi02MDBcIj7lt7LlrozmiJAge3N0YXRzLmNvbXBsZXRlZH0g5LiqICh7cGVyY2VudGFnZX0lKTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktMjAwIHJvdW5kZWQtZnVsbCBoLTIgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNTAwIGgtMiByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7cGVyY2VudGFnZX0lYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtzZXNzaW9uLmN1cnJlbnRDaGFwdGVyICYmIChcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1wcmltYXJ5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICDlvZPliY3vvJp7c2Vzc2lvbi5vdXRsaW5lLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBzZXNzaW9uLmN1cnJlbnRDaGFwdGVyKT8udGl0bGV9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIOWkp+e6suWGheWuuSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTZcIj5cbiAgICAgICAgICAgICAgPE91dGxpbmVFZGl0b3JcbiAgICAgICAgICAgICAgICBpdGVtcz17c2Vzc2lvbi5vdXRsaW5lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7fX0gLy8g5a2m5Lmg5qih5byP5LiL5LiN5YWB6K6457yW6L6R5aSn57qyXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2hhcHRlcklkPXtzZXNzaW9uLmN1cnJlbnRDaGFwdGVyfVxuICAgICAgICAgICAgICAgIG9uQ2hhcHRlckNsaWNrPXtoYW5kbGVDaGFwdGVyQ2xpY2t9XG4gICAgICAgICAgICAgICAgcmVhZG9ubHk9e3RydWV9XG4gICAgICAgICAgICAgICAgc2hvd051bWJlcnM9e3RydWV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7Lyog56ug6IqC5a6M5oiQ5pON5L2cICovfVxuICAgICAgICAgICAgICB7c2Vzc2lvbi5jdXJyZW50Q2hhcHRlciAmJiBzZXNzaW9uLm91dGxpbmUuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IHNlc3Npb24uY3VycmVudENoYXB0ZXIpPy50eXBlID09PSAnc2VjdGlvbicgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBwdC00IGJvcmRlci10IGJvcmRlci1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICDlvZPliY3lsI/oioLmk43kvZzvvJpcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZU1hcmtDaGFwdGVyQ29tcGxldGVkKHNlc3Npb24uY3VycmVudENoYXB0ZXIhKX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3Nlc3Npb24ub3V0bGluZS5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gc2Vzc2lvbi5jdXJyZW50Q2hhcHRlcik/LmlzQ29tcGxldGVkfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7c2Vzc2lvbi5vdXRsaW5lLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBzZXNzaW9uLmN1cnJlbnRDaGFwdGVyKT8uaXNDb21wbGV0ZWQgXG4gICAgICAgICAgICAgICAgICAgICAgPyAn4pyFIOW3suWujOaIkCcgXG4gICAgICAgICAgICAgICAgICAgICAgOiAn5qCH6K6w5Li65bey5a6M5oiQJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIOS4remXtOiBiuWkqeeVjOmdoiAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBoLWZ1bGwgZmxleCBmbGV4LWNvbCBiZy13aGl0ZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgIHsvKiDogYrlpKnlpLTpg6ggKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgcC00IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1zZWNvbmRhcnktNTAwIHRvLXNlY29uZGFyeS02MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8TWVzc2FnZUNpcmNsZSBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+QUnnp4HmlZnliqnmiYs8L2gzPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgIHtzZXNzaW9uLmxlYXJuaW5nTGV2ZWwgPT09ICdiZWdpbm5lcicgXG4gICAgICAgICAgICAgICAgICAgICAgPyAn6ICQ5b+D5byV5a+85qih5byP77yM5b6q5bqP5riQ6L+bJyBcbiAgICAgICAgICAgICAgICAgICAgICA6ICfpq5jmlYjlrabkuaDmqKHlvI/vvIznm7Tlh7vph43ngrknXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIOiBiuWkqeWGheWuuSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICA8Q2hhdEludGVyZmFjZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzPXtzZXNzaW9uLm1lc3NhZ2VzLmZpbHRlcihtID0+IG0ucm9sZSAhPT0gJ3N5c3RlbScpfVxuICAgICAgICAgICAgICAgIG9uU2VuZE1lc3NhZ2U9e2hhbmRsZVNlbmRNZXNzYWdlfVxuICAgICAgICAgICAgICAgIG9uQm9va21hcmtNZXNzYWdlPXtoYW5kbGVCb29rbWFya01lc3NhZ2V9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17aXNTZW5kaW5nTWVzc2FnZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIui+k+WFpeaCqOeahOmXrumimOaIluWbnuW6lC4uLlwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2VuZGluZ01lc3NhZ2V9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiDlj7PkvqfljaHniYfnrqHnkIbpnaLmnb8gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEvNSBtaW4tdy1bMjgwcHhdIG1heC13LVszNTBweF0gaC1mdWxsXCI+XG4gICAgICAgICAgICA8Q2FyZE1hbmFnZXJcbiAgICAgICAgICAgICAga2V5PXtjYXJkTWFuYWdlcktleX1cbiAgICAgICAgICAgICAgc2Vzc2lvbklkPXtzZXNzaW9uLmlkfVxuICAgICAgICAgICAgICBvbkNhcmRzVXBkYXRlPXtoYW5kbGVDYXJkc1VwZGF0ZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMZWFyblBhZ2U7Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSb3V0ZXIiLCJBcnJvd0xlZnQiLCJCb29rT3BlbiIsIk1lc3NhZ2VDaXJjbGUiLCJVc2VyIiwiWmFwIiwiQnV0dG9uIiwiT3V0bGluZUVkaXRvciIsIkNoYXRJbnRlcmZhY2UiLCJDYXJkTWFuYWdlciIsImdldFNlc3Npb25CeUlkIiwic2F2ZVNlc3Npb24iLCJ1cGRhdGVTZXNzaW9uTWVzc2FnZXMiLCJ1cGRhdGVTZXNzaW9uQ3VycmVudENoYXB0ZXIiLCJnZXRBUElDb25maWciLCJtYXJrQ2hhcHRlckNvbXBsZXRlZCIsImFkZExlYXJuaW5nQ2FyZCIsInNlbmRDaGF0TWVzc2FnZSIsInN1bW1hcml6ZUNhcmRUaXRsZSIsInB1cmlmeUNhcmRDb250ZW50IiwiTGVhcm5QYWdlIiwic2Vzc2lvbiIsInJvdXRlciIsInNlc3Npb25JZCIsInF1ZXJ5Iiwic2V0U2Vzc2lvbiIsImFwaUNvbmZpZyIsInNldEFwaUNvbmZpZyIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImlzU2VuZGluZ01lc3NhZ2UiLCJzZXRJc1NlbmRpbmdNZXNzYWdlIiwiY2FyZE1hbmFnZXJLZXkiLCJzZXRDYXJkTWFuYWdlcktleSIsImxvYWRTZXNzaW9uIiwibG9hZGVkU2Vzc2lvbiIsImxvYWRlZENvbmZpZyIsImFsZXJ0IiwicHVzaCIsIm1lc3NhZ2VzIiwibGVuZ3RoIiwiaW5pdGlhbGl6ZUNoYXQiLCJlcnJvciIsImNvbnNvbGUiLCJnZW5lcmF0ZU1lc3NhZ2VJZCIsIk1hdGgiLCJEYXRlIiwibm93IiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJnZW5lcmF0ZUNhcmRJZCIsInNlc3Npb25EYXRhIiwiY29uZmlnIiwiZmlyc3RTZWN0aW9uIiwib3V0bGluZSIsImZpbmQiLCJpdGVtIiwidHlwZSIsInN5c3RlbU1lc3NhZ2UiLCJpZCIsInJvbGUiLCJjb250ZW50IiwidGl0bGUiLCJsZWFybmluZ0xldmVsIiwidGltZXN0YW1wIiwid2VsY29tZU1lc3NhZ2UiLCJpbml0aWFsTWVzc2FnZXMiLCJ1cGRhdGVkU2Vzc2lvbiIsImN1cnJlbnRDaGFwdGVyIiwiaGFuZGxlU2VuZE1lc3NhZ2UiLCJ1c2VyTWVzc2FnZSIsInVwZGF0ZWRNZXNzYWdlcyIsInByZXYiLCJyZXNwb25zZSIsImRvY3VtZW50Q29udGVudCIsInN1Y2Nlc3MiLCJkYXRhIiwiYXNzaXN0YW50TWVzc2FnZSIsImZpbmFsTWVzc2FnZXMiLCJjaGVja0FuZFVwZGF0ZUN1cnJlbnRDaGFwdGVyIiwiRXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwibWVzc2FnZXNXaXRoRXJyb3IiLCJhaVJlc3BvbnNlIiwibG93ZXJSZXNwb25zZSIsInRvTG93ZXJDYXNlIiwidXNlck1lc3NhZ2VGb3JKdW1wIiwiZmlsdGVyIiwibSIsInBvcCIsInVzZXJTZWN0aW9uUGF0dGVybiIsInVzZXJTZWN0aW9uTWF0Y2hlcyIsIm1hdGNoQWxsIiwibGFzdE1hdGNoIiwic2VjdGlvbk51bWJlciIsInRhcmdldFNlY3Rpb24iLCJpbmNsdWRlcyIsImxvZyIsImhhbmRsZU1hcmtDaGFwdGVyQ29tcGxldGVkIiwiYWlTZWN0aW9uUGF0dGVybiIsImFpU2VjdGlvbk1hdGNoZXMiLCJjb21wbGV0aW9uS2V5d29yZHMiLCJzb21lIiwia2V5d29yZCIsImNvbXBsZXRlZFNlY3Rpb25JZCIsImNvbXBsZXRlZFNlY3Rpb25QYXR0ZXJuIiwiY29tcGxldGVkTWF0Y2hlcyIsImNvbXBsZXRlZE51bWJlciIsImNvbXBsZXRlZFNlY3Rpb24iLCJ0aXRsZVdpdGhvdXROdW1iZXIiLCJyZXBsYWNlIiwidHJpbSIsInVzZXJSZXF1ZXN0TmV4dEtleXdvcmRzIiwidXNlck1lc3NhZ2VGb3JOZXh0IiwiY3VycmVudEluZGV4IiwiZmluZEluZGV4IiwibWFwIiwiaW5kZXgiLCJpIiwibmV4dFNlY3Rpb24iLCJjaGFwdGVyRm91bmRBbmRVcGRhdGVkIiwidGl0bGVQYXR0ZXJucyIsInBhdHRlcm4iLCJoYW5kbGVDaGFwdGVyQ2xpY2siLCJjaGFwdGVySWQiLCJzd2l0Y2hNZXNzYWdlIiwiaGFuZGxlQm9va21hcmtNZXNzYWdlIiwibWVzc2FnZUlkIiwidXNlck5vdGUiLCJjb250ZW50UmVzcG9uc2UiLCJwdXJpZmllZENvbnRlbnQiLCJ0aXRsZVJlc3BvbnNlIiwiY2FyZFRpdGxlIiwic3Vic3RyaW5nIiwiY2FyZCIsInRhZ3MiLCJjcmVhdGVkQXQiLCJuZXh0UmV2aWV3QXQiLCJyZXZpZXdDb3VudCIsImRpZmZpY3VsdHkiLCJpc0Jvb2ttYXJrZWQiLCJjYXJkSWQiLCJmYWxsYmFja1RpdGxlIiwiZmFsbGJhY2tDb250ZW50IiwiaGFuZGxlR29CYWNrIiwidXBkYXRlZE91dGxpbmUiLCJpc0NvbXBsZXRlZCIsImNvbXBsZXRlZEF0IiwiZ2V0Q29tcGxldGlvblN0YXRzIiwiY29tcGxldGVkIiwidG90YWwiLCJoYW5kbGVDYXJkc1VwZGF0ZSIsImRpdiIsImNsYXNzTmFtZSIsInAiLCJoMiIsIm9uQ2xpY2siLCJoZWFkZXIiLCJ2YXJpYW50Iiwic2l6ZSIsImljb24iLCJoMSIsInNwYW4iLCJzdGF0cyIsInBlcmNlbnRhZ2UiLCJyb3VuZCIsInN0eWxlIiwid2lkdGgiLCJpdGVtcyIsIm9uQ2hhbmdlIiwiYWN0aXZlQ2hhcHRlcklkIiwib25DaGFwdGVyQ2xpY2siLCJyZWFkb25seSIsInNob3dOdW1iZXJzIiwiZGlzYWJsZWQiLCJoMyIsIm9uU2VuZE1lc3NhZ2UiLCJvbkJvb2ttYXJrTWVzc2FnZSIsImxvYWRpbmciLCJwbGFjZWhvbGRlciIsIm9uQ2FyZHNVcGRhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/learn/[sessionId].tsx\n"));

/***/ })

});