"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/learn/[sessionId]",{

/***/ "./src/utils/storage.ts":
/*!******************************!*\
  !*** ./src/utils/storage.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addLearningCard: function() { return /* binding */ addLearningCard; },\n/* harmony export */   clearAPIConfig: function() { return /* binding */ clearAPIConfig; },\n/* harmony export */   clearAllData: function() { return /* binding */ clearAllData; },\n/* harmony export */   deleteLearningCard: function() { return /* binding */ deleteLearningCard; },\n/* harmony export */   deleteSession: function() { return /* binding */ deleteSession; },\n/* harmony export */   exportData: function() { return /* binding */ exportData; },\n/* harmony export */   getAPIConfig: function() { return /* binding */ getAPIConfig; },\n/* harmony export */   getAllCards: function() { return /* binding */ getAllCards; },\n/* harmony export */   getAllSessions: function() { return /* binding */ getAllSessions; },\n/* harmony export */   getCardsForReview: function() { return /* binding */ getCardsForReview; },\n/* harmony export */   getSessionById: function() { return /* binding */ getSessionById; },\n/* harmony export */   getSessionCards: function() { return /* binding */ getSessionCards; },\n/* harmony export */   getStorageStats: function() { return /* binding */ getStorageStats; },\n/* harmony export */   getUserPreferences: function() { return /* binding */ getUserPreferences; },\n/* harmony export */   importData: function() { return /* binding */ importData; },\n/* harmony export */   markChapterCompleted: function() { return /* binding */ markChapterCompleted; },\n/* harmony export */   recordCardReview: function() { return /* binding */ recordCardReview; },\n/* harmony export */   saveAPIConfig: function() { return /* binding */ saveAPIConfig; },\n/* harmony export */   saveSession: function() { return /* binding */ saveSession; },\n/* harmony export */   saveUserPreferences: function() { return /* binding */ saveUserPreferences; },\n/* harmony export */   unmarkChapterCompleted: function() { return /* binding */ unmarkChapterCompleted; },\n/* harmony export */   updateLearningCard: function() { return /* binding */ updateLearningCard; },\n/* harmony export */   updateSessionCurrentChapter: function() { return /* binding */ updateSessionCurrentChapter; },\n/* harmony export */   updateSessionMessages: function() { return /* binding */ updateSessionMessages; }\n/* harmony export */ });\n/**\n * 本地存储工具类\n * \n * 提供了完整的localStorage管理功能：\n * - 安全的数据读写操作\n * - 会话管理（增删改查）\n * - API配置管理\n * - 数据版本控制和迁移\n */ const STORAGE_KEY = \"ai-learning-platform\";\nconst CURRENT_VERSION = \"1.0.0\";\n/**\n * 获取默认的用户偏好设置\n */ const getDefaultPreferences = ()=>({\n        defaultLearningLevel: \"beginner\",\n        theme: \"light\",\n        language: \"zh\",\n        soundEnabled: true,\n        autoSave: true\n    });\n/**\n * 获取默认的存储数据结构\n */ const getDefaultStorageData = ()=>({\n        sessions: [],\n        preferences: getDefaultPreferences(),\n        version: CURRENT_VERSION\n    });\n/**\n * 安全地从localStorage读取数据\n * 处理JSON解析错误和数据格式不匹配的情况\n */ const safeGetStorageData = ()=>{\n    try {\n        if (false) {}\n        const stored = localStorage.getItem(STORAGE_KEY);\n        if (!stored) {\n            return getDefaultStorageData();\n        }\n        const parsed = JSON.parse(stored);\n        // 检查数据版本，如需要则进行迁移\n        if (parsed.version !== CURRENT_VERSION) {\n            return migrateStorageData(parsed);\n        }\n        // 确保必要字段存在\n        return {\n            ...getDefaultStorageData(),\n            ...parsed,\n            preferences: {\n                ...getDefaultPreferences(),\n                ...parsed.preferences || {}\n            }\n        };\n    } catch (error) {\n        console.warn(\"读取本地存储数据失败，使用默认配置:\", error);\n        return getDefaultStorageData();\n    }\n};\n/**\n * 数据版本迁移函数\n * 处理不同版本间的数据结构变化\n */ const migrateStorageData = (oldData)=>{\n    console.log(\"正在迁移存储数据从版本\", oldData.version, \"到\", CURRENT_VERSION);\n    // 目前只有一个版本，暂时直接返回默认数据\n    // 未来版本可在此处添加具体的迁移逻辑\n    return {\n        ...getDefaultStorageData(),\n        sessions: Array.isArray(oldData.sessions) ? oldData.sessions : []\n    };\n};\n/**\n * 安全地保存数据到localStorage\n */ const safeSaveStorageData = (data)=>{\n    try {\n        if (false) {}\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n        return true;\n    } catch (error) {\n        console.error(\"保存本地存储数据失败:\", error);\n        return false;\n    }\n};\n// =================\n// 会话管理功能\n// =================\n/**\n * 获取所有学习会话\n * 按最后更新时间倒序排列\n */ const getAllSessions = ()=>{\n    const data = safeGetStorageData();\n    return data.sessions.sort((a, b)=>b.updatedAt - a.updatedAt);\n};\n/**\n * 根据ID获取特定会话\n */ const getSessionById = (id)=>{\n    const data = safeGetStorageData();\n    return data.sessions.find((session)=>session.id === id) || null;\n};\n/**\n * 保存学习会话（新增或更新）\n * 如果会话ID已存在则更新，否则新增\n */ const saveSession = (session)=>{\n    try {\n        const data = safeGetStorageData();\n        const existingIndex = data.sessions.findIndex((s)=>s.id === session.id);\n        const updatedSession = {\n            ...session,\n            updatedAt: Date.now()\n        };\n        if (existingIndex >= 0) {\n            // 更新现有会话\n            data.sessions[existingIndex] = updatedSession;\n        } else {\n            // 新增会话\n            data.sessions.push(updatedSession);\n        }\n        return safeSaveStorageData(data);\n    } catch (error) {\n        console.error(\"保存会话失败:\", error);\n        return false;\n    }\n};\n/**\n * 删除学习会话\n */ const deleteSession = (id)=>{\n    try {\n        const data = safeGetStorageData();\n        data.sessions = data.sessions.filter((session)=>session.id !== id);\n        return safeSaveStorageData(data);\n    } catch (error) {\n        console.error(\"删除会话失败:\", error);\n        return false;\n    }\n};\n/**\n * 更新会话的对话历史\n * 专门用于高频的消息更新操作\n */ const updateSessionMessages = (sessionId, messages)=>{\n    const session = getSessionById(sessionId);\n    if (!session) {\n        return false;\n    }\n    return saveSession({\n        ...session,\n        messages\n    });\n};\n/**\n * 更新会话的当前章节\n */ const updateSessionCurrentChapter = (sessionId, chapterId)=>{\n    const session = getSessionById(sessionId);\n    if (!session) {\n        return false;\n    }\n    return saveSession({\n        ...session,\n        currentChapter: chapterId\n    });\n};\n/**\n * 标记章节为已完成\n */ const markChapterCompleted = (sessionId, chapterId)=>{\n    const session = getSessionById(sessionId);\n    if (!session) {\n        return false;\n    }\n    const updatedOutline = session.outline.map((item)=>item.id === chapterId ? {\n            ...item,\n            isCompleted: true,\n            completedAt: Date.now()\n        } : item);\n    return saveSession({\n        ...session,\n        outline: updatedOutline\n    });\n};\n/**\n * 取消章节完成状态\n */ const unmarkChapterCompleted = (sessionId, chapterId)=>{\n    const session = getSessionById(sessionId);\n    if (!session) {\n        return false;\n    }\n    const updatedOutline = session.outline.map((item)=>item.id === chapterId ? {\n            ...item,\n            isCompleted: false,\n            completedAt: undefined\n        } : item);\n    return saveSession({\n        ...session,\n        outline: updatedOutline\n    });\n};\n// =================\n// 卡片管理功能\n// =================\n/**\n * 获取所有会话的卡片\n */ const getAllCards = ()=>{\n    const data = safeGetStorageData();\n    const allCards = [];\n    data.sessions.forEach((session)=>{\n        if (session.cards) {\n            allCards.push(...session.cards);\n        }\n    });\n    return allCards.sort((a, b)=>b.createdAt - a.createdAt);\n};\n/**\n * 添加学习卡片\n */ const addLearningCard = (sessionId, card)=>{\n    try {\n        const session = getSessionById(sessionId);\n        if (!session) return false;\n        // 确保卡片有tags字段\n        const cardWithTags = {\n            ...card,\n            tags: card.tags || []\n        };\n        const updatedSession = {\n            ...session,\n            cards: [\n                ...session.cards || [],\n                cardWithTags\n            ]\n        };\n        return saveSession(updatedSession);\n    } catch (error) {\n        console.error(\"添加学习卡片失败:\", error);\n        return false;\n    }\n};\n/**\n * 更新学习卡片\n */ const updateLearningCard = (sessionId, cardId, updates)=>{\n    try {\n        const session = getSessionById(sessionId);\n        if (!session) return false;\n        const updatedCards = (session.cards || []).map((card)=>card.id === cardId ? {\n                ...card,\n                ...updates\n            } : card);\n        const updatedSession = {\n            ...session,\n            cards: updatedCards\n        };\n        return saveSession(updatedSession);\n    } catch (error) {\n        console.error(\"更新学习卡片失败:\", error);\n        return false;\n    }\n};\n/**\n * 删除学习卡片\n */ const deleteLearningCard = (sessionId, cardId)=>{\n    try {\n        const session = getSessionById(sessionId);\n        if (!session) return false;\n        const updatedCards = (session.cards || []).filter((card)=>card.id !== cardId);\n        const updatedSession = {\n            ...session,\n            cards: updatedCards\n        };\n        return saveSession(updatedSession);\n    } catch (error) {\n        console.error(\"删除学习卡片失败:\", error);\n        return false;\n    }\n};\n/**\n * 获取会话的所有卡片\n */ const getSessionCards = (sessionId)=>{\n    const session = getSessionById(sessionId);\n    const cards = (session === null || session === void 0 ? void 0 : session.cards) || [];\n    // 按创建时间倒序排列，最新的卡片在前面\n    return cards.sort((a, b)=>b.createdAt - a.createdAt);\n};\n/**\n * 获取需要复习的卡片\n */ const getCardsForReview = (sessionId)=>{\n    const cards = getSessionCards(sessionId);\n    const now = Date.now();\n    return cards.filter((card)=>card.nextReviewAt <= now);\n};\n/**\n * 记录卡片复习\n */ const recordCardReview = (sessionId, cardId, quality)=>{\n    try {\n        var _session_cards;\n        const session = getSessionById(sessionId);\n        if (!session) return false;\n        const card = (_session_cards = session.cards) === null || _session_cards === void 0 ? void 0 : _session_cards.find((c)=>c.id === cardId);\n        if (!card) return false;\n        // 计算下次复习时间（艾宾浩斯遗忘曲线）\n        const nextInterval = calculateNextReviewInterval(card.reviewCount, quality, card.difficulty);\n        const nextReviewAt = Date.now() + nextInterval;\n        const updatedCard = {\n            ...card,\n            lastReviewedAt: Date.now(),\n            nextReviewAt,\n            reviewCount: card.reviewCount + 1,\n            difficulty: Math.max(1, Math.min(5, card.difficulty + (quality < 3 ? 1 : -0.1)))\n        };\n        return updateLearningCard(sessionId, cardId, updatedCard);\n    } catch (error) {\n        console.error(\"记录卡片复习失败:\", error);\n        return false;\n    }\n};\n/**\n * 计算下次复习间隔（基于艾宾浩斯遗忘曲线）\n */ const calculateNextReviewInterval = (reviewCount, quality, difficulty)=>{\n    // 基础间隔（毫秒）\n    const baseIntervals = [\n        1 * 60 * 1000,\n        10 * 60 * 1000,\n        60 * 60 * 1000,\n        6 * 60 * 60 * 1000,\n        24 * 60 * 60 * 1000\n    ];\n    // 如果复习质量差（quality < 3），重置到第一个间隔\n    if (quality < 3) {\n        return baseIntervals[0];\n    }\n    // 根据复习次数选择基础间隔\n    const baseInterval = baseIntervals[Math.min(reviewCount, baseIntervals.length - 1)];\n    // 根据难度调整间隔\n    const difficultyFactor = 2.5 - (difficulty - 1) * 0.3; // 难度越高，间隔越短\n    return Math.round(baseInterval * difficultyFactor);\n};\n// =================\n// API配置管理\n// =================\n/**\n * 获取API配置\n */ const getAPIConfig = ()=>{\n    const data = safeGetStorageData();\n    return data.apiConfig || null;\n};\n/**\n * 保存API配置\n */ const saveAPIConfig = (config)=>{\n    try {\n        const data = safeGetStorageData();\n        data.apiConfig = config;\n        return safeSaveStorageData(data);\n    } catch (error) {\n        console.error(\"保存API配置失败:\", error);\n        return false;\n    }\n};\n/**\n * 清除API配置\n */ const clearAPIConfig = ()=>{\n    try {\n        const data = safeGetStorageData();\n        delete data.apiConfig;\n        return safeSaveStorageData(data);\n    } catch (error) {\n        console.error(\"清除API配置失败:\", error);\n        return false;\n    }\n};\n// =================\n// 用户偏好管理\n// =================\n/**\n * 获取用户偏好设置\n */ const getUserPreferences = ()=>{\n    const data = safeGetStorageData();\n    return data.preferences;\n};\n/**\n * 保存用户偏好设置\n */ const saveUserPreferences = (preferences)=>{\n    try {\n        const data = safeGetStorageData();\n        data.preferences = {\n            ...data.preferences,\n            ...preferences\n        };\n        return safeSaveStorageData(data);\n    } catch (error) {\n        console.error(\"保存用户偏好失败:\", error);\n        return false;\n    }\n};\n// =================\n// 数据清理和维护\n// =================\n/**\n * 清理所有本地数据\n * 谨慎使用，这将删除所有学习记录\n */ const clearAllData = ()=>{\n    try {\n        if (true) {\n            localStorage.removeItem(STORAGE_KEY);\n        }\n        return true;\n    } catch (error) {\n        console.error(\"清理数据失败:\", error);\n        return false;\n    }\n};\n/**\n * 获取存储使用情况统计\n */ const getStorageStats = ()=>{\n    const data = safeGetStorageData();\n    const serialized = JSON.stringify(data);\n    return {\n        sessionCount: data.sessions.length,\n        totalSizeBytes: new Blob([\n            serialized\n        ]).size,\n        totalSizeKB: Math.round(new Blob([\n            serialized\n        ]).size / 1024 * 100) / 100,\n        hasAPIConfig: !!data.apiConfig,\n        version: data.version\n    };\n};\n/**\n * 导出数据（用于备份）\n */ const exportData = ()=>{\n    const data = safeGetStorageData();\n    return JSON.stringify(data, null, 2);\n};\n/**\n * 导入数据（用于恢复备份）\n */ const importData = (jsonData)=>{\n    try {\n        const importedData = JSON.parse(jsonData);\n        // 基本数据验证\n        if (!Array.isArray(importedData.sessions)) {\n            throw new Error(\"无效的数据格式：sessions必须是数组\");\n        }\n        // 如果有版本差异，进行迁移\n        const finalData = importedData.version !== CURRENT_VERSION ? migrateStorageData(importedData) : importedData;\n        return safeSaveStorageData(finalData);\n    } catch (error) {\n        console.error(\"导入数据失败:\", error);\n        return false;\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU13RixrQkFBa0I7SUFDN0IsTUFBTWhGLE9BQU9oQjtJQUNiLE1BQU1pRyxhQUFhNUYsS0FBS2EsU0FBUyxDQUFDRjtJQUVsQyxPQUFPO1FBQ0xrRixjQUFjbEYsS0FBS25CLFFBQVEsQ0FBQ3VGLE1BQU07UUFDbENlLGdCQUFnQixJQUFJQyxLQUFLO1lBQUNIO1NBQVcsRUFBRUksSUFBSTtRQUMzQ0MsYUFBYXZCLEtBQUtPLEtBQUssQ0FBQyxJQUFJYyxLQUFLO1lBQUNIO1NBQVcsRUFBRUksSUFBSSxHQUFHLE9BQU8sT0FBTztRQUNwRUUsY0FBYyxDQUFDLENBQUN2RixLQUFLd0UsU0FBUztRQUM5QnpGLFNBQVNpQixLQUFLakIsT0FBTztJQUN2QjtBQUNGLEVBQUU7QUFFRjs7Q0FFQyxHQUNNLE1BQU15RyxhQUFhO0lBQ3hCLE1BQU14RixPQUFPaEI7SUFDYixPQUFPSyxLQUFLYSxTQUFTLENBQUNGLE1BQU0sTUFBTTtBQUNwQyxFQUFFO0FBRUY7O0NBRUMsR0FDTSxNQUFNeUYsYUFBYSxDQUFDQztJQUN6QixJQUFJO1FBQ0YsTUFBTUMsZUFBZXRHLEtBQUtDLEtBQUssQ0FBQ29HO1FBRWhDLFNBQVM7UUFDVCxJQUFJLENBQUM3RixNQUFNQyxPQUFPLENBQUM2RixhQUFhOUcsUUFBUSxHQUFHO1lBQ3pDLE1BQU0sSUFBSStHLE1BQU07UUFDbEI7UUFFQSxlQUFlO1FBQ2YsTUFBTUMsWUFBWUYsYUFBYTVHLE9BQU8sS0FBS1Ysa0JBQ3ZDa0IsbUJBQW1Cb0csZ0JBQ25CQTtRQUVKLE9BQU81RixvQkFBb0I4RjtJQUM3QixFQUFFLE9BQU9yRyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxXQUFXQTtRQUN6QixPQUFPO0lBQ1Q7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy91dGlscy9zdG9yYWdlLnRzPzM1MWMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDmnKzlnLDlrZjlgqjlt6XlhbfnsbtcbiAqIFxuICog5o+Q5L6b5LqG5a6M5pW055qEbG9jYWxTdG9yYWdl566h55CG5Yqf6IO977yaXG4gKiAtIOWuieWFqOeahOaVsOaNruivu+WGmeaTjeS9nFxuICogLSDkvJror53nrqHnkIbvvIjlop7liKDmlLnmn6XvvIlcbiAqIC0gQVBJ6YWN572u566h55CGXG4gKiAtIOaVsOaNrueJiOacrOaOp+WItuWSjOi/geenu1xuICovXG5cbmltcG9ydCB7IExvY2FsU3RvcmFnZURhdGEsIExlYXJuaW5nU2Vzc2lvbiwgQVBJQ29uZmlnLCBVc2VyUHJlZmVyZW5jZXMgfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCB7IExlYXJuaW5nQ2FyZCwgUmV2aWV3UmVjb3JkIH0gZnJvbSAnQC90eXBlcyc7XG5cbmNvbnN0IFNUT1JBR0VfS0VZID0gJ2FpLWxlYXJuaW5nLXBsYXRmb3JtJztcbmNvbnN0IENVUlJFTlRfVkVSU0lPTiA9ICcxLjAuMCc7XG5cbi8qKlxuICog6I635Y+W6buY6K6k55qE55So5oi35YGP5aW96K6+572uXG4gKi9cbmNvbnN0IGdldERlZmF1bHRQcmVmZXJlbmNlcyA9ICgpOiBVc2VyUHJlZmVyZW5jZXMgPT4gKHtcbiAgZGVmYXVsdExlYXJuaW5nTGV2ZWw6ICdiZWdpbm5lcicsXG4gIHRoZW1lOiAnbGlnaHQnLFxuICBsYW5ndWFnZTogJ3poJyxcbiAgc291bmRFbmFibGVkOiB0cnVlLFxuICBhdXRvU2F2ZTogdHJ1ZSxcbn0pO1xuXG4vKipcbiAqIOiOt+WPlum7mOiupOeahOWtmOWCqOaVsOaNrue7k+aehFxuICovXG5jb25zdCBnZXREZWZhdWx0U3RvcmFnZURhdGEgPSAoKTogTG9jYWxTdG9yYWdlRGF0YSA9PiAoe1xuICBzZXNzaW9uczogW10sXG4gIHByZWZlcmVuY2VzOiBnZXREZWZhdWx0UHJlZmVyZW5jZXMoKSxcbiAgdmVyc2lvbjogQ1VSUkVOVF9WRVJTSU9OLFxufSk7XG5cbi8qKlxuICog5a6J5YWo5Zyw5LuObG9jYWxTdG9yYWdl6K+75Y+W5pWw5o2uXG4gKiDlpITnkIZKU09O6Kej5p6Q6ZSZ6K+v5ZKM5pWw5o2u5qC85byP5LiN5Yy56YWN55qE5oOF5Ya1XG4gKi9cbmNvbnN0IHNhZmVHZXRTdG9yYWdlRGF0YSA9ICgpOiBMb2NhbFN0b3JhZ2VEYXRhID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBnZXREZWZhdWx0U3RvcmFnZURhdGEoKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWSk7XG4gICAgaWYgKCFzdG9yZWQpIHtcbiAgICAgIHJldHVybiBnZXREZWZhdWx0U3RvcmFnZURhdGEoKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHN0b3JlZCkgYXMgTG9jYWxTdG9yYWdlRGF0YTtcbiAgICBcbiAgICAvLyDmo4Dmn6XmlbDmja7niYjmnKzvvIzlpoLpnIDopoHliJnov5vooYzov4Hnp7tcbiAgICBpZiAocGFyc2VkLnZlcnNpb24gIT09IENVUlJFTlRfVkVSU0lPTikge1xuICAgICAgcmV0dXJuIG1pZ3JhdGVTdG9yYWdlRGF0YShwYXJzZWQpO1xuICAgIH1cblxuICAgIC8vIOehruS/neW/heimgeWtl+auteWtmOWcqFxuICAgIHJldHVybiB7XG4gICAgICAuLi5nZXREZWZhdWx0U3RvcmFnZURhdGEoKSxcbiAgICAgIC4uLnBhcnNlZCxcbiAgICAgIHByZWZlcmVuY2VzOiB7XG4gICAgICAgIC4uLmdldERlZmF1bHRQcmVmZXJlbmNlcygpLFxuICAgICAgICAuLi4ocGFyc2VkLnByZWZlcmVuY2VzIHx8IHt9KSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ+ivu+WPluacrOWcsOWtmOWCqOaVsOaNruWksei0pe+8jOS9v+eUqOm7mOiupOmFjee9rjonLCBlcnJvcik7XG4gICAgcmV0dXJuIGdldERlZmF1bHRTdG9yYWdlRGF0YSgpO1xuICB9XG59O1xuXG4vKipcbiAqIOaVsOaNrueJiOacrOi/geenu+WHveaVsFxuICog5aSE55CG5LiN5ZCM54mI5pys6Ze055qE5pWw5o2u57uT5p6E5Y+Y5YyWXG4gKi9cbmNvbnN0IG1pZ3JhdGVTdG9yYWdlRGF0YSA9IChvbGREYXRhOiBhbnkpOiBMb2NhbFN0b3JhZ2VEYXRhID0+IHtcbiAgY29uc29sZS5sb2coJ+ato+WcqOi/geenu+WtmOWCqOaVsOaNruS7jueJiOacrCcsIG9sZERhdGEudmVyc2lvbiwgJ+WIsCcsIENVUlJFTlRfVkVSU0lPTik7XG4gIFxuICAvLyDnm67liY3lj6rmnInkuIDkuKrniYjmnKzvvIzmmoLml7bnm7TmjqXov5Tlm57pu5jorqTmlbDmja5cbiAgLy8g5pyq5p2l54mI5pys5Y+v5Zyo5q2k5aSE5re75Yqg5YW35L2T55qE6L+B56e76YC76L6RXG4gIHJldHVybiB7XG4gICAgLi4uZ2V0RGVmYXVsdFN0b3JhZ2VEYXRhKCksXG4gICAgc2Vzc2lvbnM6IEFycmF5LmlzQXJyYXkob2xkRGF0YS5zZXNzaW9ucykgPyBvbGREYXRhLnNlc3Npb25zIDogW10sXG4gIH07XG59O1xuXG4vKipcbiAqIOWuieWFqOWcsOS/neWtmOaVsOaNruWIsGxvY2FsU3RvcmFnZVxuICovXG5jb25zdCBzYWZlU2F2ZVN0b3JhZ2VEYXRhID0gKGRhdGE6IExvY2FsU3RvcmFnZURhdGEpOiBib29sZWFuID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+S/neWtmOacrOWcsOWtmOWCqOaVsOaNruWksei0pTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PVxuLy8g5Lya6K+d566h55CG5Yqf6IO9XG4vLyA9PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIOiOt+WPluaJgOacieWtpuS5oOS8muivnVxuICog5oyJ5pyA5ZCO5pu05paw5pe26Ze05YCS5bqP5o6S5YiXXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBbGxTZXNzaW9ucyA9ICgpOiBMZWFybmluZ1Nlc3Npb25bXSA9PiB7XG4gIGNvbnN0IGRhdGEgPSBzYWZlR2V0U3RvcmFnZURhdGEoKTtcbiAgcmV0dXJuIGRhdGEuc2Vzc2lvbnMuc29ydCgoYSwgYikgPT4gYi51cGRhdGVkQXQgLSBhLnVwZGF0ZWRBdCk7XG59O1xuXG4vKipcbiAqIOagueaNrklE6I635Y+W54m55a6a5Lya6K+dXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTZXNzaW9uQnlJZCA9IChpZDogc3RyaW5nKTogTGVhcm5pbmdTZXNzaW9uIHwgbnVsbCA9PiB7XG4gIGNvbnN0IGRhdGEgPSBzYWZlR2V0U3RvcmFnZURhdGEoKTtcbiAgcmV0dXJuIGRhdGEuc2Vzc2lvbnMuZmluZChzZXNzaW9uID0+IHNlc3Npb24uaWQgPT09IGlkKSB8fCBudWxsO1xufTtcblxuLyoqXG4gKiDkv53lrZjlrabkuaDkvJror53vvIjmlrDlop7miJbmm7TmlrDvvIlcbiAqIOWmguaenOS8muivnUlE5bey5a2Y5Zyo5YiZ5pu05paw77yM5ZCm5YiZ5paw5aKeXG4gKi9cbmV4cG9ydCBjb25zdCBzYXZlU2Vzc2lvbiA9IChzZXNzaW9uOiBMZWFybmluZ1Nlc3Npb24pOiBib29sZWFuID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gc2FmZUdldFN0b3JhZ2VEYXRhKCk7XG4gICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IGRhdGEuc2Vzc2lvbnMuZmluZEluZGV4KHMgPT4gcy5pZCA9PT0gc2Vzc2lvbi5pZCk7XG4gICAgXG4gICAgY29uc3QgdXBkYXRlZFNlc3Npb24gPSB7XG4gICAgICAuLi5zZXNzaW9uLFxuICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgIH07XG5cbiAgICBpZiAoZXhpc3RpbmdJbmRleCA+PSAwKSB7XG4gICAgICAvLyDmm7TmlrDnjrDmnInkvJror51cbiAgICAgIGRhdGEuc2Vzc2lvbnNbZXhpc3RpbmdJbmRleF0gPSB1cGRhdGVkU2Vzc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5paw5aKe5Lya6K+dXG4gICAgICBkYXRhLnNlc3Npb25zLnB1c2godXBkYXRlZFNlc3Npb24pO1xuICAgIH1cblxuICAgIHJldHVybiBzYWZlU2F2ZVN0b3JhZ2VEYXRhKGRhdGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+S/neWtmOS8muivneWksei0pTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vKipcbiAqIOWIoOmZpOWtpuS5oOS8muivnVxuICovXG5leHBvcnQgY29uc3QgZGVsZXRlU2Vzc2lvbiA9IChpZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IHNhZmVHZXRTdG9yYWdlRGF0YSgpO1xuICAgIGRhdGEuc2Vzc2lvbnMgPSBkYXRhLnNlc3Npb25zLmZpbHRlcihzZXNzaW9uID0+IHNlc3Npb24uaWQgIT09IGlkKTtcbiAgICByZXR1cm4gc2FmZVNhdmVTdG9yYWdlRGF0YShkYXRhKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfliKDpmaTkvJror53lpLHotKU6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLyoqXG4gKiDmm7TmlrDkvJror53nmoTlr7nor53ljoblj7JcbiAqIOS4k+mXqOeUqOS6jumrmOmikeeahOa2iOaBr+abtOaWsOaTjeS9nFxuICovXG5leHBvcnQgY29uc3QgdXBkYXRlU2Vzc2lvbk1lc3NhZ2VzID0gKHNlc3Npb25JZDogc3RyaW5nLCBtZXNzYWdlczogQ2hhdE1lc3NhZ2VbXSk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBzZXNzaW9uID0gZ2V0U2Vzc2lvbkJ5SWQoc2Vzc2lvbklkKTtcbiAgaWYgKCFzZXNzaW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHNhdmVTZXNzaW9uKHtcbiAgICAuLi5zZXNzaW9uLFxuICAgIG1lc3NhZ2VzLFxuICB9KTtcbn07XG5cbi8qKlxuICog5pu05paw5Lya6K+d55qE5b2T5YmN56ug6IqCXG4gKi9cbmV4cG9ydCBjb25zdCB1cGRhdGVTZXNzaW9uQ3VycmVudENoYXB0ZXIgPSAoc2Vzc2lvbklkOiBzdHJpbmcsIGNoYXB0ZXJJZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHNlc3Npb24gPSBnZXRTZXNzaW9uQnlJZChzZXNzaW9uSWQpO1xuICBpZiAoIXNlc3Npb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gc2F2ZVNlc3Npb24oe1xuICAgIC4uLnNlc3Npb24sXG4gICAgY3VycmVudENoYXB0ZXI6IGNoYXB0ZXJJZCxcbiAgfSk7XG59O1xuXG4vKipcbiAqIOagh+iusOeroOiKguS4uuW3suWujOaIkFxuICovXG5leHBvcnQgY29uc3QgbWFya0NoYXB0ZXJDb21wbGV0ZWQgPSAoc2Vzc2lvbklkOiBzdHJpbmcsIGNoYXB0ZXJJZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHNlc3Npb24gPSBnZXRTZXNzaW9uQnlJZChzZXNzaW9uSWQpO1xuICBpZiAoIXNlc3Npb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCB1cGRhdGVkT3V0bGluZSA9IHNlc3Npb24ub3V0bGluZS5tYXAoaXRlbSA9PiBcbiAgICBpdGVtLmlkID09PSBjaGFwdGVySWQgXG4gICAgICA/IHsgLi4uaXRlbSwgaXNDb21wbGV0ZWQ6IHRydWUsIGNvbXBsZXRlZEF0OiBEYXRlLm5vdygpIH1cbiAgICAgIDogaXRlbVxuICApO1xuXG4gIHJldHVybiBzYXZlU2Vzc2lvbih7XG4gICAgLi4uc2Vzc2lvbixcbiAgICBvdXRsaW5lOiB1cGRhdGVkT3V0bGluZSxcbiAgfSk7XG59O1xuXG4vKipcbiAqIOWPlua2iOeroOiKguWujOaIkOeKtuaAgVxuICovXG5leHBvcnQgY29uc3QgdW5tYXJrQ2hhcHRlckNvbXBsZXRlZCA9IChzZXNzaW9uSWQ6IHN0cmluZywgY2hhcHRlcklkOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgY29uc3Qgc2Vzc2lvbiA9IGdldFNlc3Npb25CeUlkKHNlc3Npb25JZCk7XG4gIGlmICghc2Vzc2lvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHVwZGF0ZWRPdXRsaW5lID0gc2Vzc2lvbi5vdXRsaW5lLm1hcChpdGVtID0+IFxuICAgIGl0ZW0uaWQgPT09IGNoYXB0ZXJJZCBcbiAgICAgID8geyAuLi5pdGVtLCBpc0NvbXBsZXRlZDogZmFsc2UsIGNvbXBsZXRlZEF0OiB1bmRlZmluZWQgfVxuICAgICAgOiBpdGVtXG4gICk7XG5cbiAgcmV0dXJuIHNhdmVTZXNzaW9uKHtcbiAgICAuLi5zZXNzaW9uLFxuICAgIG91dGxpbmU6IHVwZGF0ZWRPdXRsaW5lLFxuICB9KTtcbn07XG5cbi8vID09PT09PT09PT09PT09PT09XG4vLyDljaHniYfnrqHnkIblip/og71cbi8vID09PT09PT09PT09PT09PT09XG5cbi8qKlxuICog6I635Y+W5omA5pyJ5Lya6K+d55qE5Y2h54mHXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBbGxDYXJkcyA9ICgpOiBMZWFybmluZ0NhcmRbXSA9PiB7XG4gIGNvbnN0IGRhdGEgPSBzYWZlR2V0U3RvcmFnZURhdGEoKTtcbiAgY29uc3QgYWxsQ2FyZHM6IExlYXJuaW5nQ2FyZFtdID0gW107XG4gIFxuICBkYXRhLnNlc3Npb25zLmZvckVhY2goc2Vzc2lvbiA9PiB7XG4gICAgaWYgKHNlc3Npb24uY2FyZHMpIHtcbiAgICAgIGFsbENhcmRzLnB1c2goLi4uc2Vzc2lvbi5jYXJkcyk7XG4gICAgfVxuICB9KTtcbiAgXG4gIHJldHVybiBhbGxDYXJkcy5zb3J0KChhLCBiKSA9PiBiLmNyZWF0ZWRBdCAtIGEuY3JlYXRlZEF0KTtcbn07XG5cbi8qKlxuICog5re75Yqg5a2m5Lmg5Y2h54mHXG4gKi9cbmV4cG9ydCBjb25zdCBhZGRMZWFybmluZ0NhcmQgPSAoc2Vzc2lvbklkOiBzdHJpbmcsIGNhcmQ6IExlYXJuaW5nQ2FyZCk6IGJvb2xlYW4gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBnZXRTZXNzaW9uQnlJZChzZXNzaW9uSWQpO1xuICAgIGlmICghc2Vzc2lvbikgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8g56Gu5L+d5Y2h54mH5pyJdGFnc+Wtl+autVxuICAgIGNvbnN0IGNhcmRXaXRoVGFncyA9IHtcbiAgICAgIC4uLmNhcmQsXG4gICAgICB0YWdzOiBjYXJkLnRhZ3MgfHwgW10sXG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZWRTZXNzaW9uID0ge1xuICAgICAgLi4uc2Vzc2lvbixcbiAgICAgIGNhcmRzOiBbLi4uKHNlc3Npb24uY2FyZHMgfHwgW10pLCBjYXJkV2l0aFRhZ3NdLFxuICAgIH07XG5cbiAgICByZXR1cm4gc2F2ZVNlc3Npb24odXBkYXRlZFNlc3Npb24pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+a3u+WKoOWtpuS5oOWNoeeJh+Wksei0pTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vKipcbiAqIOabtOaWsOWtpuS5oOWNoeeJh1xuICovXG5leHBvcnQgY29uc3QgdXBkYXRlTGVhcm5pbmdDYXJkID0gKHNlc3Npb25JZDogc3RyaW5nLCBjYXJkSWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxMZWFybmluZ0NhcmQ+KTogYm9vbGVhbiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGdldFNlc3Npb25CeUlkKHNlc3Npb25JZCk7XG4gICAgaWYgKCFzZXNzaW9uKSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCB1cGRhdGVkQ2FyZHMgPSAoc2Vzc2lvbi5jYXJkcyB8fCBbXSkubWFwKGNhcmQgPT5cbiAgICAgIGNhcmQuaWQgPT09IGNhcmRJZCA/IHsgLi4uY2FyZCwgLi4udXBkYXRlcyB9IDogY2FyZFxuICAgICk7XG5cbiAgICBjb25zdCB1cGRhdGVkU2Vzc2lvbiA9IHtcbiAgICAgIC4uLnNlc3Npb24sXG4gICAgICBjYXJkczogdXBkYXRlZENhcmRzLFxuICAgIH07XG5cbiAgICByZXR1cm4gc2F2ZVNlc3Npb24odXBkYXRlZFNlc3Npb24pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+abtOaWsOWtpuS5oOWNoeeJh+Wksei0pTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vKipcbiAqIOWIoOmZpOWtpuS5oOWNoeeJh1xuICovXG5leHBvcnQgY29uc3QgZGVsZXRlTGVhcm5pbmdDYXJkID0gKHNlc3Npb25JZDogc3RyaW5nLCBjYXJkSWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBnZXRTZXNzaW9uQnlJZChzZXNzaW9uSWQpO1xuICAgIGlmICghc2Vzc2lvbikgcmV0dXJuIGZhbHNlO1xuXG4gICAgY29uc3QgdXBkYXRlZENhcmRzID0gKHNlc3Npb24uY2FyZHMgfHwgW10pLmZpbHRlcihjYXJkID0+IGNhcmQuaWQgIT09IGNhcmRJZCk7XG5cbiAgICBjb25zdCB1cGRhdGVkU2Vzc2lvbiA9IHtcbiAgICAgIC4uLnNlc3Npb24sXG4gICAgICBjYXJkczogdXBkYXRlZENhcmRzLFxuICAgIH07XG5cbiAgICByZXR1cm4gc2F2ZVNlc3Npb24odXBkYXRlZFNlc3Npb24pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+WIoOmZpOWtpuS5oOWNoeeJh+Wksei0pTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vKipcbiAqIOiOt+WPluS8muivneeahOaJgOacieWNoeeJh1xuICovXG5leHBvcnQgY29uc3QgZ2V0U2Vzc2lvbkNhcmRzID0gKHNlc3Npb25JZDogc3RyaW5nKTogTGVhcm5pbmdDYXJkW10gPT4ge1xuICBjb25zdCBzZXNzaW9uID0gZ2V0U2Vzc2lvbkJ5SWQoc2Vzc2lvbklkKTtcbiAgY29uc3QgY2FyZHMgPSBzZXNzaW9uPy5jYXJkcyB8fCBbXTtcbiAgLy8g5oyJ5Yib5bu65pe26Ze05YCS5bqP5o6S5YiX77yM5pyA5paw55qE5Y2h54mH5Zyo5YmN6Z2iXG4gIHJldHVybiBjYXJkcy5zb3J0KChhLCBiKSA9PiBiLmNyZWF0ZWRBdCAtIGEuY3JlYXRlZEF0KTtcbn07XG5cbi8qKlxuICog6I635Y+W6ZyA6KaB5aSN5Lmg55qE5Y2h54mHXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDYXJkc0ZvclJldmlldyA9IChzZXNzaW9uSWQ6IHN0cmluZyk6IExlYXJuaW5nQ2FyZFtdID0+IHtcbiAgY29uc3QgY2FyZHMgPSBnZXRTZXNzaW9uQ2FyZHMoc2Vzc2lvbklkKTtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgXG4gIHJldHVybiBjYXJkcy5maWx0ZXIoY2FyZCA9PiBjYXJkLm5leHRSZXZpZXdBdCA8PSBub3cpO1xufTtcblxuLyoqXG4gKiDorrDlvZXljaHniYflpI3kuaBcbiAqL1xuZXhwb3J0IGNvbnN0IHJlY29yZENhcmRSZXZpZXcgPSAoc2Vzc2lvbklkOiBzdHJpbmcsIGNhcmRJZDogc3RyaW5nLCBxdWFsaXR5OiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gZ2V0U2Vzc2lvbkJ5SWQoc2Vzc2lvbklkKTtcbiAgICBpZiAoIXNlc3Npb24pIHJldHVybiBmYWxzZTtcblxuICAgIGNvbnN0IGNhcmQgPSBzZXNzaW9uLmNhcmRzPy5maW5kKGMgPT4gYy5pZCA9PT0gY2FyZElkKTtcbiAgICBpZiAoIWNhcmQpIHJldHVybiBmYWxzZTtcblxuICAgIC8vIOiuoeeul+S4i+asoeWkjeS5oOaXtumXtO+8iOiJvuWuvua1qeaWr+mBl+W/mOabsue6v++8iVxuICAgIGNvbnN0IG5leHRJbnRlcnZhbCA9IGNhbGN1bGF0ZU5leHRSZXZpZXdJbnRlcnZhbChjYXJkLnJldmlld0NvdW50LCBxdWFsaXR5LCBjYXJkLmRpZmZpY3VsdHkpO1xuICAgIGNvbnN0IG5leHRSZXZpZXdBdCA9IERhdGUubm93KCkgKyBuZXh0SW50ZXJ2YWw7XG5cbiAgICBjb25zdCB1cGRhdGVkQ2FyZDogTGVhcm5pbmdDYXJkID0ge1xuICAgICAgLi4uY2FyZCxcbiAgICAgIGxhc3RSZXZpZXdlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgbmV4dFJldmlld0F0LFxuICAgICAgcmV2aWV3Q291bnQ6IGNhcmQucmV2aWV3Q291bnQgKyAxLFxuICAgICAgZGlmZmljdWx0eTogTWF0aC5tYXgoMSwgTWF0aC5taW4oNSwgY2FyZC5kaWZmaWN1bHR5ICsgKHF1YWxpdHkgPCAzID8gMSA6IC0wLjEpKSksXG4gICAgfTtcblxuICAgIHJldHVybiB1cGRhdGVMZWFybmluZ0NhcmQoc2Vzc2lvbklkLCBjYXJkSWQsIHVwZGF0ZWRDYXJkKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCforrDlvZXljaHniYflpI3kuaDlpLHotKU6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLyoqXG4gKiDorqHnrpfkuIvmrKHlpI3kuaDpl7TpmpTvvIjln7rkuo7oib7lrr7mtanmlq/pgZflv5jmm7Lnur/vvIlcbiAqL1xuY29uc3QgY2FsY3VsYXRlTmV4dFJldmlld0ludGVydmFsID0gKHJldmlld0NvdW50OiBudW1iZXIsIHF1YWxpdHk6IG51bWJlciwgZGlmZmljdWx0eTogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgLy8g5Z+656GA6Ze06ZqU77yI5q+r56eS77yJXG4gIGNvbnN0IGJhc2VJbnRlcnZhbHMgPSBbXG4gICAgMSAqIDYwICogMTAwMCwgICAgICAvLyAx5YiG6ZKf77yI5rWL6K+V55So77yM5a6e6ZmF5Y+v5Lul5pivMeWkqe+8iVxuICAgIDEwICogNjAgKiAxMDAwLCAgICAgLy8gMTDliIbpkp/vvIjmtYvor5XnlKjvvIzlrp7pmYXlj6/ku6XmmK8z5aSp77yJXG4gICAgNjAgKiA2MCAqIDEwMDAsICAgICAvLyAx5bCP5pe277yI5rWL6K+V55So77yM5a6e6ZmF5Y+v5Lul5pivN+Wkqe+8iVxuICAgIDYgKiA2MCAqIDYwICogMTAwMCwgLy8gNuWwj+aXtu+8iOa1i+ivleeUqO+8jOWunumZheWPr+S7peaYrzE15aSp77yJXG4gICAgMjQgKiA2MCAqIDYwICogMTAwMCwgLy8gMeWkqe+8iOa1i+ivleeUqO+8jOWunumZheWPr+S7peaYrzMw5aSp77yJXG4gIF07XG5cbiAgLy8g5aaC5p6c5aSN5Lmg6LSo6YeP5beu77yIcXVhbGl0eSA8IDPvvInvvIzph43nva7liLDnrKzkuIDkuKrpl7TpmpRcbiAgaWYgKHF1YWxpdHkgPCAzKSB7XG4gICAgcmV0dXJuIGJhc2VJbnRlcnZhbHNbMF07XG4gIH1cblxuICAvLyDmoLnmja7lpI3kuaDmrKHmlbDpgInmi6nln7rnoYDpl7TpmpRcbiAgY29uc3QgYmFzZUludGVydmFsID0gYmFzZUludGVydmFsc1tNYXRoLm1pbihyZXZpZXdDb3VudCwgYmFzZUludGVydmFscy5sZW5ndGggLSAxKV07XG4gIFxuICAvLyDmoLnmja7pmr7luqbosIPmlbTpl7TpmpRcbiAgY29uc3QgZGlmZmljdWx0eUZhY3RvciA9IDIuNSAtIChkaWZmaWN1bHR5IC0gMSkgKiAwLjM7IC8vIOmavuW6pui2iumrmO+8jOmXtOmalOi2iuefrVxuICBcbiAgcmV0dXJuIE1hdGgucm91bmQoYmFzZUludGVydmFsICogZGlmZmljdWx0eUZhY3Rvcik7XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PVxuLy8gQVBJ6YWN572u566h55CGXG4vLyA9PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIOiOt+WPlkFQSemFjee9rlxuICovXG5leHBvcnQgY29uc3QgZ2V0QVBJQ29uZmlnID0gKCk6IEFQSUNvbmZpZyB8IG51bGwgPT4ge1xuICBjb25zdCBkYXRhID0gc2FmZUdldFN0b3JhZ2VEYXRhKCk7XG4gIHJldHVybiBkYXRhLmFwaUNvbmZpZyB8fCBudWxsO1xufTtcblxuLyoqXG4gKiDkv53lrZhBUEnphY3nva5cbiAqL1xuZXhwb3J0IGNvbnN0IHNhdmVBUElDb25maWcgPSAoY29uZmlnOiBBUElDb25maWcpOiBib29sZWFuID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gc2FmZUdldFN0b3JhZ2VEYXRhKCk7XG4gICAgZGF0YS5hcGlDb25maWcgPSBjb25maWc7XG4gICAgcmV0dXJuIHNhZmVTYXZlU3RvcmFnZURhdGEoZGF0YSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5L+d5a2YQVBJ6YWN572u5aSx6LSlOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8qKlxuICog5riF6ZmkQVBJ6YWN572uXG4gKi9cbmV4cG9ydCBjb25zdCBjbGVhckFQSUNvbmZpZyA9ICgpOiBib29sZWFuID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gc2FmZUdldFN0b3JhZ2VEYXRhKCk7XG4gICAgZGVsZXRlIGRhdGEuYXBpQ29uZmlnO1xuICAgIHJldHVybiBzYWZlU2F2ZVN0b3JhZ2VEYXRhKGRhdGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+a4hemZpEFQSemFjee9ruWksei0pTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PVxuLy8g55So5oi35YGP5aW9566h55CGXG4vLyA9PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIOiOt+WPlueUqOaIt+WBj+Wlveiuvue9rlxuICovXG5leHBvcnQgY29uc3QgZ2V0VXNlclByZWZlcmVuY2VzID0gKCk6IFVzZXJQcmVmZXJlbmNlcyA9PiB7XG4gIGNvbnN0IGRhdGEgPSBzYWZlR2V0U3RvcmFnZURhdGEoKTtcbiAgcmV0dXJuIGRhdGEucHJlZmVyZW5jZXM7XG59O1xuXG4vKipcbiAqIOS/neWtmOeUqOaIt+WBj+Wlveiuvue9rlxuICovXG5leHBvcnQgY29uc3Qgc2F2ZVVzZXJQcmVmZXJlbmNlcyA9IChwcmVmZXJlbmNlczogUGFydGlhbDxVc2VyUHJlZmVyZW5jZXM+KTogYm9vbGVhbiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IHNhZmVHZXRTdG9yYWdlRGF0YSgpO1xuICAgIGRhdGEucHJlZmVyZW5jZXMgPSB7XG4gICAgICAuLi5kYXRhLnByZWZlcmVuY2VzLFxuICAgICAgLi4ucHJlZmVyZW5jZXMsXG4gICAgfTtcbiAgICByZXR1cm4gc2FmZVNhdmVTdG9yYWdlRGF0YShkYXRhKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfkv53lrZjnlKjmiLflgY/lpb3lpLHotKU6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gPT09PT09PT09PT09PT09PT1cbi8vIOaVsOaNrua4heeQhuWSjOe7tOaKpFxuLy8gPT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiDmuIXnkIbmiYDmnInmnKzlnLDmlbDmja5cbiAqIOiwqOaFjuS9v+eUqO+8jOi/meWwhuWIoOmZpOaJgOacieWtpuS5oOiusOW9lVxuICovXG5leHBvcnQgY29uc3QgY2xlYXJBbGxEYXRhID0gKCk6IGJvb2xlYW4gPT4ge1xuICB0cnkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9LRVkpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfmuIXnkIbmlbDmja7lpLHotKU6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLyoqXG4gKiDojrflj5blrZjlgqjkvb/nlKjmg4XlhrXnu5/orqFcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFN0b3JhZ2VTdGF0cyA9ICgpID0+IHtcbiAgY29uc3QgZGF0YSA9IHNhZmVHZXRTdG9yYWdlRGF0YSgpO1xuICBjb25zdCBzZXJpYWxpemVkID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIFxuICByZXR1cm4ge1xuICAgIHNlc3Npb25Db3VudDogZGF0YS5zZXNzaW9ucy5sZW5ndGgsXG4gICAgdG90YWxTaXplQnl0ZXM6IG5ldyBCbG9iKFtzZXJpYWxpemVkXSkuc2l6ZSxcbiAgICB0b3RhbFNpemVLQjogTWF0aC5yb3VuZChuZXcgQmxvYihbc2VyaWFsaXplZF0pLnNpemUgLyAxMDI0ICogMTAwKSAvIDEwMCxcbiAgICBoYXNBUElDb25maWc6ICEhZGF0YS5hcGlDb25maWcsXG4gICAgdmVyc2lvbjogZGF0YS52ZXJzaW9uLFxuICB9O1xufTtcblxuLyoqXG4gKiDlr7zlh7rmlbDmja7vvIjnlKjkuo7lpIfku73vvIlcbiAqL1xuZXhwb3J0IGNvbnN0IGV4cG9ydERhdGEgPSAoKTogc3RyaW5nID0+IHtcbiAgY29uc3QgZGF0YSA9IHNhZmVHZXRTdG9yYWdlRGF0YSgpO1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMik7XG59O1xuXG4vKipcbiAqIOWvvOWFpeaVsOaNru+8iOeUqOS6juaBouWkjeWkh+S7ve+8iVxuICovXG5leHBvcnQgY29uc3QgaW1wb3J0RGF0YSA9IChqc29uRGF0YTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgaW1wb3J0ZWREYXRhID0gSlNPTi5wYXJzZShqc29uRGF0YSkgYXMgTG9jYWxTdG9yYWdlRGF0YTtcbiAgICBcbiAgICAvLyDln7rmnKzmlbDmja7pqozor4FcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW1wb3J0ZWREYXRhLnNlc3Npb25zKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfml6DmlYjnmoTmlbDmja7moLzlvI/vvJpzZXNzaW9uc+W/hemhu+aYr+aVsOe7hCcpO1xuICAgIH1cblxuICAgIC8vIOWmguaenOacieeJiOacrOW3ruW8gu+8jOi/m+ihjOi/geenu1xuICAgIGNvbnN0IGZpbmFsRGF0YSA9IGltcG9ydGVkRGF0YS52ZXJzaW9uICE9PSBDVVJSRU5UX1ZFUlNJT04gXG4gICAgICA/IG1pZ3JhdGVTdG9yYWdlRGF0YShpbXBvcnRlZERhdGEpXG4gICAgICA6IGltcG9ydGVkRGF0YTtcblxuICAgIHJldHVybiBzYWZlU2F2ZVN0b3JhZ2VEYXRhKGZpbmFsRGF0YSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5a+85YWl5pWw5o2u5aSx6LSlOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07Il0sIm5hbWVzIjpbIlNUT1JBR0VfS0VZIiwiQ1VSUkVOVF9WRVJTSU9OIiwiZ2V0RGVmYXVsdFByZWZlcmVuY2VzIiwiZGVmYXVsdExlYXJuaW5nTGV2ZWwiLCJ0aGVtZSIsImxhbmd1YWdlIiwic291bmRFbmFibGVkIiwiYXV0b1NhdmUiLCJnZXREZWZhdWx0U3RvcmFnZURhdGEiLCJzZXNzaW9ucyIsInByZWZlcmVuY2VzIiwidmVyc2lvbiIsInNhZmVHZXRTdG9yYWdlRGF0YSIsInN0b3JlZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZWQiLCJKU09OIiwicGFyc2UiLCJtaWdyYXRlU3RvcmFnZURhdGEiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwib2xkRGF0YSIsImxvZyIsIkFycmF5IiwiaXNBcnJheSIsInNhZmVTYXZlU3RvcmFnZURhdGEiLCJkYXRhIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImdldEFsbFNlc3Npb25zIiwic29ydCIsImEiLCJiIiwidXBkYXRlZEF0IiwiZ2V0U2Vzc2lvbkJ5SWQiLCJpZCIsImZpbmQiLCJzZXNzaW9uIiwic2F2ZVNlc3Npb24iLCJleGlzdGluZ0luZGV4IiwiZmluZEluZGV4IiwicyIsInVwZGF0ZWRTZXNzaW9uIiwiRGF0ZSIsIm5vdyIsInB1c2giLCJkZWxldGVTZXNzaW9uIiwiZmlsdGVyIiwidXBkYXRlU2Vzc2lvbk1lc3NhZ2VzIiwic2Vzc2lvbklkIiwibWVzc2FnZXMiLCJ1cGRhdGVTZXNzaW9uQ3VycmVudENoYXB0ZXIiLCJjaGFwdGVySWQiLCJjdXJyZW50Q2hhcHRlciIsIm1hcmtDaGFwdGVyQ29tcGxldGVkIiwidXBkYXRlZE91dGxpbmUiLCJvdXRsaW5lIiwibWFwIiwiaXRlbSIsImlzQ29tcGxldGVkIiwiY29tcGxldGVkQXQiLCJ1bm1hcmtDaGFwdGVyQ29tcGxldGVkIiwidW5kZWZpbmVkIiwiZ2V0QWxsQ2FyZHMiLCJhbGxDYXJkcyIsImZvckVhY2giLCJjYXJkcyIsImNyZWF0ZWRBdCIsImFkZExlYXJuaW5nQ2FyZCIsImNhcmQiLCJjYXJkV2l0aFRhZ3MiLCJ0YWdzIiwidXBkYXRlTGVhcm5pbmdDYXJkIiwiY2FyZElkIiwidXBkYXRlcyIsInVwZGF0ZWRDYXJkcyIsImRlbGV0ZUxlYXJuaW5nQ2FyZCIsImdldFNlc3Npb25DYXJkcyIsImdldENhcmRzRm9yUmV2aWV3IiwibmV4dFJldmlld0F0IiwicmVjb3JkQ2FyZFJldmlldyIsInF1YWxpdHkiLCJjIiwibmV4dEludGVydmFsIiwiY2FsY3VsYXRlTmV4dFJldmlld0ludGVydmFsIiwicmV2aWV3Q291bnQiLCJkaWZmaWN1bHR5IiwidXBkYXRlZENhcmQiLCJsYXN0UmV2aWV3ZWRBdCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJiYXNlSW50ZXJ2YWxzIiwiYmFzZUludGVydmFsIiwibGVuZ3RoIiwiZGlmZmljdWx0eUZhY3RvciIsInJvdW5kIiwiZ2V0QVBJQ29uZmlnIiwiYXBpQ29uZmlnIiwic2F2ZUFQSUNvbmZpZyIsImNvbmZpZyIsImNsZWFyQVBJQ29uZmlnIiwiZ2V0VXNlclByZWZlcmVuY2VzIiwic2F2ZVVzZXJQcmVmZXJlbmNlcyIsImNsZWFyQWxsRGF0YSIsInJlbW92ZUl0ZW0iLCJnZXRTdG9yYWdlU3RhdHMiLCJzZXJpYWxpemVkIiwic2Vzc2lvbkNvdW50IiwidG90YWxTaXplQnl0ZXMiLCJCbG9iIiwic2l6ZSIsInRvdGFsU2l6ZUtCIiwiaGFzQVBJQ29uZmlnIiwiZXhwb3J0RGF0YSIsImltcG9ydERhdGEiLCJqc29uRGF0YSIsImltcG9ydGVkRGF0YSIsIkVycm9yIiwiZmluYWxEYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/storage.ts\n"));

/***/ })

});